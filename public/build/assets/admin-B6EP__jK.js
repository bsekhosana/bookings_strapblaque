var ph=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);import{g as bh,d as yh,c as xh,a as Nt,n as qe,b as Ur,o as Ah}from"./vendor-DLhIyxZC.js";import{_ as kh}from"./_plugin-vue_export-helper-DlAUqK2U.js";var l0=ph((h0,zi)=>{var wh={exports:{}};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Qs;function R(){return Qs.apply(null,arguments)}function _h(r){Qs=r}function Ut(r){return r instanceof Array||Object.prototype.toString.call(r)==="[object Array]"}function Xe(r){return r!=null&&Object.prototype.toString.call(r)==="[object Object]"}function J(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function Oa(r){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(r).length===0;var t;for(t in r)if(J(r,t))return!1;return!0}function Dt(r){return r===void 0}function be(r){return typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]"}function ci(r){return r instanceof Date||Object.prototype.toString.call(r)==="[object Date]"}function tl(r,t){var i=[],s,u=r.length;for(s=0;s<u;++s)i.push(t(r[s],s));return i}function Re(r,t){for(var i in t)J(t,i)&&(r[i]=t[i]);return J(t,"toString")&&(r.toString=t.toString),J(t,"valueOf")&&(r.valueOf=t.valueOf),r}function ee(r,t,i,s){return wl(r,t,i,s,!0).utc()}function Sh(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function z(r){return r._pf==null&&(r._pf=Sh()),r._pf}var ga;Array.prototype.some?ga=Array.prototype.some:ga=function(r){var t=Object(this),i=t.length>>>0,s;for(s=0;s<i;s++)if(s in t&&r.call(this,t[s],s,t))return!0;return!1};function Ea(r){var t=null,i=!1,s=r._d&&!isNaN(r._d.getTime());if(s&&(t=z(r),i=ga.call(t.parsedDateParts,function(u){return u!=null}),s=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),r._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(r))r._isValid=s;else return s;return r._isValid}function Ji(r){var t=ee(NaN);return r!=null?Re(z(t),r):z(t).userInvalidated=!0,t}var xs=R.momentProperties=[],qr=!1;function Fa(r,t){var i,s,u,g=xs.length;if(Dt(t._isAMomentObject)||(r._isAMomentObject=t._isAMomentObject),Dt(t._i)||(r._i=t._i),Dt(t._f)||(r._f=t._f),Dt(t._l)||(r._l=t._l),Dt(t._strict)||(r._strict=t._strict),Dt(t._tzm)||(r._tzm=t._tzm),Dt(t._isUTC)||(r._isUTC=t._isUTC),Dt(t._offset)||(r._offset=t._offset),Dt(t._pf)||(r._pf=z(t)),Dt(t._locale)||(r._locale=t._locale),g>0)for(i=0;i<g;i++)s=xs[i],u=t[s],Dt(u)||(r[s]=u);return r}function di(r){Fa(this,r),this._d=new Date(r._d!=null?r._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),qr===!1&&(qr=!0,R.updateOffset(this),qr=!1)}function qt(r){return r instanceof di||r!=null&&r._isAMomentObject!=null}function el(r){R.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+r)}function zt(r,t){var i=!0;return Re(function(){if(R.deprecationHandler!=null&&R.deprecationHandler(null,r),i){var s=[],u,g,b,k=arguments.length;for(g=0;g<k;g++){if(u="",typeof arguments[g]=="object"){u+=`
[`+g+"] ";for(b in arguments[0])J(arguments[0],b)&&(u+=b+": "+arguments[0][b]+", ");u=u.slice(0,-2)}else u=arguments[g];s.push(u)}el(r+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),i=!1}return t.apply(this,arguments)},t)}var As={};function nl(r,t){R.deprecationHandler!=null&&R.deprecationHandler(r,t),As[r]||(el(t),As[r]=!0)}R.suppressDeprecationWarnings=!1;R.deprecationHandler=null;function ne(r){return typeof Function<"u"&&r instanceof Function||Object.prototype.toString.call(r)==="[object Function]"}function Ch(r){var t,i;for(i in r)J(r,i)&&(t=r[i],ne(t)?this[i]=t:this["_"+i]=t);this._config=r,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ma(r,t){var i=Re({},r),s;for(s in t)J(t,s)&&(Xe(r[s])&&Xe(t[s])?(i[s]={},Re(i[s],r[s]),Re(i[s],t[s])):t[s]!=null?i[s]=t[s]:delete i[s]);for(s in r)J(r,s)&&!J(t,s)&&Xe(r[s])&&(i[s]=Re({},i[s]));return i}function Ia(r){r!=null&&this.set(r)}var va;Object.keys?va=Object.keys:va=function(r){var t,i=[];for(t in r)J(r,t)&&i.push(t);return i};var Dh={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Mh(r,t,i){var s=this._calendar[r]||this._calendar.sameElse;return ne(s)?s.call(t,i):s}function te(r,t,i){var s=""+Math.abs(r),u=t-s.length,g=r>=0;return(g?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+s}var Na=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Pi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gr={},An={};function I(r,t,i,s){var u=s;typeof s=="string"&&(u=function(){return this[s]()}),r&&(An[r]=u),t&&(An[t[0]]=function(){return te(u.apply(this,arguments),t[1],t[2])}),i&&(An[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),r)})}function Th(r){return r.match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"")}function Rh(r){var t=r.match(Na),i,s;for(i=0,s=t.length;i<s;i++)An[t[i]]?t[i]=An[t[i]]:t[i]=Th(t[i]);return function(u){var g="",b;for(b=0;b<s;b++)g+=ne(t[b])?t[b].call(u,r):t[b];return g}}function Fi(r,t){return r.isValid()?(t=il(t,r.localeData()),Gr[t]=Gr[t]||Rh(t),Gr[t](r)):r.localeData().invalidDate()}function il(r,t){var i=5;function s(u){return t.longDateFormat(u)||u}for(Pi.lastIndex=0;i>=0&&Pi.test(r);)r=r.replace(Pi,s),Pi.lastIndex=0,i-=1;return r}var Lh={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ph(r){var t=this._longDateFormat[r],i=this._longDateFormat[r.toUpperCase()];return t||!i?t:(this._longDateFormat[r]=i.match(Na).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[r])}var Oh="Invalid date";function Eh(){return this._invalidDate}var Fh="%d",Ih=/\d{1,2}/;function Nh(r){return this._ordinal.replace("%d",r)}var Bh={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Wh(r,t,i,s){var u=this._relativeTime[i];return ne(u)?u(r,t,i,s):u.replace(/%d/i,r)}function zh(r,t){var i=this._relativeTime[r>0?"future":"past"];return ne(i)?i(t):i.replace(/%s/i,t)}var ks={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function jt(r){return typeof r=="string"?ks[r]||ks[r.toLowerCase()]:void 0}function Ba(r){var t={},i,s;for(s in r)J(r,s)&&(i=jt(s),i&&(t[i]=r[s]));return t}var jh={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Hh(r){var t=[],i;for(i in r)J(r,i)&&t.push({unit:i,priority:jh[i]});return t.sort(function(s,u){return s.priority-u.priority}),t}var rl=/\d/,Pt=/\d\d/,al=/\d{3}/,Wa=/\d{4}/,Zi=/[+-]?\d{6}/,rt=/\d\d?/,ol=/\d\d\d\d?/,sl=/\d\d\d\d\d\d?/,Xi=/\d{1,3}/,za=/\d{1,4}/,Qi=/[+-]?\d{1,6}/,Dn=/\d+/,tr=/[+-]?\d+/,Yh=/Z|[+-]\d\d:?\d\d/gi,er=/Z|[+-]\d\d(?::?\d\d)?/gi,Vh=/[+-]?\d+(\.\d{1,3})?/,hi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Mn=/^[1-9]\d?/,ja=/^([1-9]\d|\d)/,ji;ji={};function P(r,t,i){ji[r]=ne(t)?t:function(s,u){return s&&i?i:t}}function Uh(r,t){return J(ji,r)?ji[r](t._strict,t._locale):new RegExp(qh(r))}function qh(r){return ve(r.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,i,s,u,g){return i||s||u||g}))}function ve(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Bt(r){return r<0?Math.ceil(r)||0:Math.floor(r)}function V(r){var t=+r,i=0;return t!==0&&isFinite(t)&&(i=Bt(t)),i}var pa={};function tt(r,t){var i,s=t,u;for(typeof r=="string"&&(r=[r]),be(t)&&(s=function(g,b){b[t]=V(g)}),u=r.length,i=0;i<u;i++)pa[r[i]]=s}function fi(r,t){tt(r,function(i,s,u,g){u._w=u._w||{},t(i,u._w,u,g)})}function Gh(r,t,i){t!=null&&J(pa,r)&&pa[r](t,i._a,i,r)}function nr(r){return r%4===0&&r%100!==0||r%400===0}var vt=0,fe=1,Xt=2,ft=3,Yt=4,ge=5,Je=6,$h=7,Kh=8;I("Y",0,0,function(){var r=this.year();return r<=9999?te(r,4):"+"+r});I(0,["YY",2],0,function(){return this.year()%100});I(0,["YYYY",4],0,"year");I(0,["YYYYY",5],0,"year");I(0,["YYYYYY",6,!0],0,"year");P("Y",tr);P("YY",rt,Pt);P("YYYY",za,Wa);P("YYYYY",Qi,Zi);P("YYYYYY",Qi,Zi);tt(["YYYYY","YYYYYY"],vt);tt("YYYY",function(r,t){t[vt]=r.length===2?R.parseTwoDigitYear(r):V(r)});tt("YY",function(r,t){t[vt]=R.parseTwoDigitYear(r)});tt("Y",function(r,t){t[vt]=parseInt(r,10)});function Zn(r){return nr(r)?366:365}R.parseTwoDigitYear=function(r){return V(r)+(V(r)>68?1900:2e3)};var ll=Tn("FullYear",!0);function Jh(){return nr(this.year())}function Tn(r,t){return function(i){return i!=null?(ul(this,r,i),R.updateOffset(this,t),this):ri(this,r)}}function ri(r,t){if(!r.isValid())return NaN;var i=r._d,s=r._isUTC;switch(t){case"Milliseconds":return s?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return s?i.getUTCSeconds():i.getSeconds();case"Minutes":return s?i.getUTCMinutes():i.getMinutes();case"Hours":return s?i.getUTCHours():i.getHours();case"Date":return s?i.getUTCDate():i.getDate();case"Day":return s?i.getUTCDay():i.getDay();case"Month":return s?i.getUTCMonth():i.getMonth();case"FullYear":return s?i.getUTCFullYear():i.getFullYear();default:return NaN}}function ul(r,t,i){var s,u,g,b,k;if(!(!r.isValid()||isNaN(i))){switch(s=r._d,u=r._isUTC,t){case"Milliseconds":return void(u?s.setUTCMilliseconds(i):s.setMilliseconds(i));case"Seconds":return void(u?s.setUTCSeconds(i):s.setSeconds(i));case"Minutes":return void(u?s.setUTCMinutes(i):s.setMinutes(i));case"Hours":return void(u?s.setUTCHours(i):s.setHours(i));case"Date":return void(u?s.setUTCDate(i):s.setDate(i));case"FullYear":break;default:return}g=i,b=r.month(),k=r.date(),k=k===29&&b===1&&!nr(g)?28:k,u?s.setUTCFullYear(g,b,k):s.setFullYear(g,b,k)}}function Zh(r){return r=jt(r),ne(this[r])?this[r]():this}function Xh(r,t){if(typeof r=="object"){r=Ba(r);var i=Hh(r),s,u=i.length;for(s=0;s<u;s++)this[i[s].unit](r[i[s].unit])}else if(r=jt(r),ne(this[r]))return this[r](t);return this}function Qh(r,t){return(r%t+t)%t}var lt;Array.prototype.indexOf?lt=Array.prototype.indexOf:lt=function(r){var t;for(t=0;t<this.length;++t)if(this[t]===r)return t;return-1};function Ha(r,t){if(isNaN(r)||isNaN(t))return NaN;var i=Qh(t,12);return r+=(t-i)/12,i===1?nr(r)?29:28:31-i%7%2}I("M",["MM",2],"Mo",function(){return this.month()+1});I("MMM",0,0,function(r){return this.localeData().monthsShort(this,r)});I("MMMM",0,0,function(r){return this.localeData().months(this,r)});P("M",rt,Mn);P("MM",rt,Pt);P("MMM",function(r,t){return t.monthsShortRegex(r)});P("MMMM",function(r,t){return t.monthsRegex(r)});tt(["M","MM"],function(r,t){t[fe]=V(r)-1});tt(["MMM","MMMM"],function(r,t,i,s){var u=i._locale.monthsParse(r,s,i._strict);u!=null?t[fe]=u:z(i).invalidMonth=r});var tf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ef=hi,nf=hi;function rf(r,t){return r?Ut(this._months)?this._months[r.month()]:this._months[(this._months.isFormat||dl).test(t)?"format":"standalone"][r.month()]:Ut(this._months)?this._months:this._months.standalone}function af(r,t){return r?Ut(this._monthsShort)?this._monthsShort[r.month()]:this._monthsShort[dl.test(t)?"format":"standalone"][r.month()]:Ut(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function of(r,t,i){var s,u,g,b=r.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)g=ee([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(g,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(g,"").toLocaleLowerCase();return i?t==="MMM"?(u=lt.call(this._shortMonthsParse,b),u!==-1?u:null):(u=lt.call(this._longMonthsParse,b),u!==-1?u:null):t==="MMM"?(u=lt.call(this._shortMonthsParse,b),u!==-1?u:(u=lt.call(this._longMonthsParse,b),u!==-1?u:null)):(u=lt.call(this._longMonthsParse,b),u!==-1?u:(u=lt.call(this._shortMonthsParse,b),u!==-1?u:null))}function sf(r,t,i){var s,u,g;if(this._monthsParseExact)return of.call(this,r,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(u=ee([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),!i&&!this._monthsParse[s]&&(g="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[s]=new RegExp(g.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[s].test(r))return s;if(i&&t==="MMM"&&this._shortMonthsParse[s].test(r))return s;if(!i&&this._monthsParse[s].test(r))return s}}function hl(r,t){if(!r.isValid())return r;if(typeof t=="string"){if(/^\d+$/.test(t))t=V(t);else if(t=r.localeData().monthsParse(t),!be(t))return r}var i=t,s=r.date();return s=s<29?s:Math.min(s,Ha(r.year(),i)),r._isUTC?r._d.setUTCMonth(i,s):r._d.setMonth(i,s),r}function fl(r){return r!=null?(hl(this,r),R.updateOffset(this,!0),this):ri(this,"Month")}function lf(){return Ha(this.year(),this.month())}function uf(r){return this._monthsParseExact?(J(this,"_monthsRegex")||gl.call(this),r?this._monthsShortStrictRegex:this._monthsShortRegex):(J(this,"_monthsShortRegex")||(this._monthsShortRegex=ef),this._monthsShortStrictRegex&&r?this._monthsShortStrictRegex:this._monthsShortRegex)}function cf(r){return this._monthsParseExact?(J(this,"_monthsRegex")||gl.call(this),r?this._monthsStrictRegex:this._monthsRegex):(J(this,"_monthsRegex")||(this._monthsRegex=nf),this._monthsStrictRegex&&r?this._monthsStrictRegex:this._monthsRegex)}function gl(){function r(C,D){return D.length-C.length}var t=[],i=[],s=[],u,g,b,k;for(u=0;u<12;u++)g=ee([2e3,u]),b=ve(this.monthsShort(g,"")),k=ve(this.months(g,"")),t.push(b),i.push(k),s.push(k),s.push(b);t.sort(r),i.sort(r),s.sort(r),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function df(r,t,i,s,u,g,b){var k;return r<100&&r>=0?(k=new Date(r+400,t,i,s,u,g,b),isFinite(k.getFullYear())&&k.setFullYear(r)):k=new Date(r,t,i,s,u,g,b),k}function ai(r){var t,i;return r<100&&r>=0?(i=Array.prototype.slice.call(arguments),i[0]=r+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(r)):t=new Date(Date.UTC.apply(null,arguments)),t}function Hi(r,t,i){var s=7+t-i,u=(7+ai(r,0,s).getUTCDay()-t)%7;return-u+s-1}function ml(r,t,i,s,u){var g=(7+i-s)%7,b=Hi(r,s,u),k=1+7*(t-1)+g+b,C,D;return k<=0?(C=r-1,D=Zn(C)+k):k>Zn(r)?(C=r+1,D=k-Zn(r)):(C=r,D=k),{year:C,dayOfYear:D}}function oi(r,t,i){var s=Hi(r.year(),t,i),u=Math.floor((r.dayOfYear()-s-1)/7)+1,g,b;return u<1?(b=r.year()-1,g=u+pe(b,t,i)):u>pe(r.year(),t,i)?(g=u-pe(r.year(),t,i),b=r.year()+1):(b=r.year(),g=u),{week:g,year:b}}function pe(r,t,i){var s=Hi(r,t,i),u=Hi(r+1,t,i);return(Zn(r)-s+u)/7}I("w",["ww",2],"wo","week");I("W",["WW",2],"Wo","isoWeek");P("w",rt,Mn);P("ww",rt,Pt);P("W",rt,Mn);P("WW",rt,Pt);fi(["w","ww","W","WW"],function(r,t,i,s){t[s.substr(0,1)]=V(r)});function hf(r){return oi(r,this._week.dow,this._week.doy).week}var ff={dow:0,doy:6};function gf(){return this._week.dow}function mf(){return this._week.doy}function vf(r){var t=this.localeData().week(this);return r==null?t:this.add((r-t)*7,"d")}function pf(r){var t=oi(this,1,4).week;return r==null?t:this.add((r-t)*7,"d")}I("d",0,"do","day");I("dd",0,0,function(r){return this.localeData().weekdaysMin(this,r)});I("ddd",0,0,function(r){return this.localeData().weekdaysShort(this,r)});I("dddd",0,0,function(r){return this.localeData().weekdays(this,r)});I("e",0,0,"weekday");I("E",0,0,"isoWeekday");P("d",rt);P("e",rt);P("E",rt);P("dd",function(r,t){return t.weekdaysMinRegex(r)});P("ddd",function(r,t){return t.weekdaysShortRegex(r)});P("dddd",function(r,t){return t.weekdaysRegex(r)});fi(["dd","ddd","dddd"],function(r,t,i,s){var u=i._locale.weekdaysParse(r,s,i._strict);u!=null?t.d=u:z(i).invalidWeekday=r});fi(["d","e","E"],function(r,t,i,s){t[s]=V(r)});function bf(r,t){return typeof r!="string"?r:isNaN(r)?(r=t.weekdaysParse(r),typeof r=="number"?r:null):parseInt(r,10)}function yf(r,t){return typeof r=="string"?t.weekdaysParse(r)%7||7:isNaN(r)?null:r}function Ya(r,t){return r.slice(t,7).concat(r.slice(0,t))}var xf="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Af="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kf=hi,wf=hi,_f=hi;function Sf(r,t){var i=Ut(this._weekdays)?this._weekdays:this._weekdays[r&&r!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return r===!0?Ya(i,this._week.dow):r?i[r.day()]:i}function Cf(r){return r===!0?Ya(this._weekdaysShort,this._week.dow):r?this._weekdaysShort[r.day()]:this._weekdaysShort}function Df(r){return r===!0?Ya(this._weekdaysMin,this._week.dow):r?this._weekdaysMin[r.day()]:this._weekdaysMin}function Mf(r,t,i){var s,u,g,b=r.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)g=ee([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(g,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(g,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(g,"").toLocaleLowerCase();return i?t==="dddd"?(u=lt.call(this._weekdaysParse,b),u!==-1?u:null):t==="ddd"?(u=lt.call(this._shortWeekdaysParse,b),u!==-1?u:null):(u=lt.call(this._minWeekdaysParse,b),u!==-1?u:null):t==="dddd"?(u=lt.call(this._weekdaysParse,b),u!==-1||(u=lt.call(this._shortWeekdaysParse,b),u!==-1)?u:(u=lt.call(this._minWeekdaysParse,b),u!==-1?u:null)):t==="ddd"?(u=lt.call(this._shortWeekdaysParse,b),u!==-1||(u=lt.call(this._weekdaysParse,b),u!==-1)?u:(u=lt.call(this._minWeekdaysParse,b),u!==-1?u:null)):(u=lt.call(this._minWeekdaysParse,b),u!==-1||(u=lt.call(this._weekdaysParse,b),u!==-1)?u:(u=lt.call(this._shortWeekdaysParse,b),u!==-1?u:null))}function Tf(r,t,i){var s,u,g;if(this._weekdaysParseExact)return Mf.call(this,r,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(u=ee([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(u,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(u,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(u,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(g="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[s]=new RegExp(g.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[s].test(r))return s;if(i&&t==="ddd"&&this._shortWeekdaysParse[s].test(r))return s;if(i&&t==="dd"&&this._minWeekdaysParse[s].test(r))return s;if(!i&&this._weekdaysParse[s].test(r))return s}}function Rf(r){if(!this.isValid())return r!=null?this:NaN;var t=ri(this,"Day");return r!=null?(r=bf(r,this.localeData()),this.add(r-t,"d")):t}function Lf(r){if(!this.isValid())return r!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return r==null?t:this.add(r-t,"d")}function Pf(r){if(!this.isValid())return r!=null?this:NaN;if(r!=null){var t=yf(r,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Of(r){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||Va.call(this),r?this._weekdaysStrictRegex:this._weekdaysRegex):(J(this,"_weekdaysRegex")||(this._weekdaysRegex=kf),this._weekdaysStrictRegex&&r?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ef(r){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||Va.call(this),r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(J(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wf),this._weekdaysShortStrictRegex&&r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ff(r){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||Va.call(this),r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(J(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_f),this._weekdaysMinStrictRegex&&r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Va(){function r(E,H){return H.length-E.length}var t=[],i=[],s=[],u=[],g,b,k,C,D;for(g=0;g<7;g++)b=ee([2e3,1]).day(g),k=ve(this.weekdaysMin(b,"")),C=ve(this.weekdaysShort(b,"")),D=ve(this.weekdays(b,"")),t.push(k),i.push(C),s.push(D),u.push(k),u.push(C),u.push(D);t.sort(r),i.sort(r),s.sort(r),u.sort(r),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Ua(){return this.hours()%12||12}function If(){return this.hours()||24}I("H",["HH",2],0,"hour");I("h",["hh",2],0,Ua);I("k",["kk",2],0,If);I("hmm",0,0,function(){return""+Ua.apply(this)+te(this.minutes(),2)});I("hmmss",0,0,function(){return""+Ua.apply(this)+te(this.minutes(),2)+te(this.seconds(),2)});I("Hmm",0,0,function(){return""+this.hours()+te(this.minutes(),2)});I("Hmmss",0,0,function(){return""+this.hours()+te(this.minutes(),2)+te(this.seconds(),2)});function pl(r,t){I(r,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}pl("a",!0);pl("A",!1);function bl(r,t){return t._meridiemParse}P("a",bl);P("A",bl);P("H",rt,ja);P("h",rt,Mn);P("k",rt,Mn);P("HH",rt,Pt);P("hh",rt,Pt);P("kk",rt,Pt);P("hmm",ol);P("hmmss",sl);P("Hmm",ol);P("Hmmss",sl);tt(["H","HH"],ft);tt(["k","kk"],function(r,t,i){var s=V(r);t[ft]=s===24?0:s});tt(["a","A"],function(r,t,i){i._isPm=i._locale.isPM(r),i._meridiem=r});tt(["h","hh"],function(r,t,i){t[ft]=V(r),z(i).bigHour=!0});tt("hmm",function(r,t,i){var s=r.length-2;t[ft]=V(r.substr(0,s)),t[Yt]=V(r.substr(s)),z(i).bigHour=!0});tt("hmmss",function(r,t,i){var s=r.length-4,u=r.length-2;t[ft]=V(r.substr(0,s)),t[Yt]=V(r.substr(s,2)),t[ge]=V(r.substr(u)),z(i).bigHour=!0});tt("Hmm",function(r,t,i){var s=r.length-2;t[ft]=V(r.substr(0,s)),t[Yt]=V(r.substr(s))});tt("Hmmss",function(r,t,i){var s=r.length-4,u=r.length-2;t[ft]=V(r.substr(0,s)),t[Yt]=V(r.substr(s,2)),t[ge]=V(r.substr(u))});function Nf(r){return(r+"").toLowerCase().charAt(0)==="p"}var Bf=/[ap]\.?m?\.?/i,Wf=Tn("Hours",!0);function zf(r,t,i){return r>11?i?"pm":"PM":i?"am":"AM"}var yl={calendar:Dh,longDateFormat:Lh,invalidDate:Oh,ordinal:Fh,dayOfMonthOrdinalParse:Ih,relativeTime:Bh,months:tf,monthsShort:cl,week:ff,weekdays:xf,weekdaysMin:Af,weekdaysShort:vl,meridiemParse:Bf},at={},qn={},si;function jf(r,t){var i,s=Math.min(r.length,t.length);for(i=0;i<s;i+=1)if(r[i]!==t[i])return i;return s}function ws(r){return r&&r.toLowerCase().replace("_","-")}function Hf(r){for(var t=0,i,s,u,g;t<r.length;){for(g=ws(r[t]).split("-"),i=g.length,s=ws(r[t+1]),s=s?s.split("-"):null;i>0;){if(u=ir(g.slice(0,i).join("-")),u)return u;if(s&&s.length>=i&&jf(g,s)>=i-1)break;i--}t++}return si}function Yf(r){return!!(r&&r.match("^[^/\\\\]*$"))}function ir(r){var t=null,i;if(at[r]===void 0&&typeof zi<"u"&&zi&&zi.exports&&Yf(r))try{t=si._abbr,i=require,i("./locale/"+r),Pe(t)}catch{at[r]=null}return at[r]}function Pe(r,t){var i;return r&&(Dt(t)?i=ye(r):i=qa(r,t),i?si=i:typeof console<"u"&&console.warn&&console.warn("Locale "+r+" not found. Did you forget to load it?")),si._abbr}function qa(r,t){if(t!==null){var i,s=yl;if(t.abbr=r,at[r]!=null)nl("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=at[r]._config;else if(t.parentLocale!=null)if(at[t.parentLocale]!=null)s=at[t.parentLocale]._config;else if(i=ir(t.parentLocale),i!=null)s=i._config;else return qn[t.parentLocale]||(qn[t.parentLocale]=[]),qn[t.parentLocale].push({name:r,config:t}),null;return at[r]=new Ia(ma(s,t)),qn[r]&&qn[r].forEach(function(u){qa(u.name,u.config)}),Pe(r),at[r]}else return delete at[r],null}function Vf(r,t){if(t!=null){var i,s,u=yl;at[r]!=null&&at[r].parentLocale!=null?at[r].set(ma(at[r]._config,t)):(s=ir(r),s!=null&&(u=s._config),t=ma(u,t),s==null&&(t.abbr=r),i=new Ia(t),i.parentLocale=at[r],at[r]=i),Pe(r)}else at[r]!=null&&(at[r].parentLocale!=null?(at[r]=at[r].parentLocale,r===Pe()&&Pe(r)):at[r]!=null&&delete at[r]);return at[r]}function ye(r){var t;if(r&&r._locale&&r._locale._abbr&&(r=r._locale._abbr),!r)return si;if(!Ut(r)){if(t=ir(r),t)return t;r=[r]}return Hf(r)}function Uf(){return va(at)}function Ga(r){var t,i=r._a;return i&&z(r).overflow===-2&&(t=i[fe]<0||i[fe]>11?fe:i[Xt]<1||i[Xt]>Ha(i[vt],i[fe])?Xt:i[ft]<0||i[ft]>24||i[ft]===24&&(i[Yt]!==0||i[ge]!==0||i[Je]!==0)?ft:i[Yt]<0||i[Yt]>59?Yt:i[ge]<0||i[ge]>59?ge:i[Je]<0||i[Je]>999?Je:-1,z(r)._overflowDayOfYear&&(t<vt||t>Xt)&&(t=Xt),z(r)._overflowWeeks&&t===-1&&(t=$h),z(r)._overflowWeekday&&t===-1&&(t=Kh),z(r).overflow=t),r}var qf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$f=/Z|[+-]\d\d(?::?\d\d)?/,Oi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$r=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Kf=/^\/?Date\((-?\d+)/i,Jf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zf={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xl(r){var t,i,s=r._i,u=qf.exec(s)||Gf.exec(s),g,b,k,C,D=Oi.length,E=$r.length;if(u){for(z(r).iso=!0,t=0,i=D;t<i;t++)if(Oi[t][1].exec(u[1])){b=Oi[t][0],g=Oi[t][2]!==!1;break}if(b==null){r._isValid=!1;return}if(u[3]){for(t=0,i=E;t<i;t++)if($r[t][1].exec(u[3])){k=(u[2]||" ")+$r[t][0];break}if(k==null){r._isValid=!1;return}}if(!g&&k!=null){r._isValid=!1;return}if(u[4])if($f.exec(u[4]))C="Z";else{r._isValid=!1;return}r._f=b+(k||"")+(C||""),Ka(r)}else r._isValid=!1}function Xf(r,t,i,s,u,g){var b=[Qf(r),cl.indexOf(t),parseInt(i,10),parseInt(s,10),parseInt(u,10)];return g&&b.push(parseInt(g,10)),b}function Qf(r){var t=parseInt(r,10);return t<=49?2e3+t:t<=999?1900+t:t}function tg(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function eg(r,t,i){if(r){var s=vl.indexOf(r),u=new Date(t[0],t[1],t[2]).getDay();if(s!==u)return z(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function ng(r,t,i){if(r)return Zf[r];if(t)return 0;var s=parseInt(i,10),u=s%100,g=(s-u)/100;return g*60+u}function Al(r){var t=Jf.exec(tg(r._i)),i;if(t){if(i=Xf(t[4],t[3],t[2],t[5],t[6],t[7]),!eg(t[1],i,r))return;r._a=i,r._tzm=ng(t[8],t[9],t[10]),r._d=ai.apply(null,r._a),r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),z(r).rfc2822=!0}else r._isValid=!1}function ig(r){var t=Kf.exec(r._i);if(t!==null){r._d=new Date(+t[1]);return}if(xl(r),r._isValid===!1)delete r._isValid;else return;if(Al(r),r._isValid===!1)delete r._isValid;else return;r._strict?r._isValid=!1:R.createFromInputFallback(r)}R.createFromInputFallback=zt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(r){r._d=new Date(r._i+(r._useUTC?" UTC":""))});function bn(r,t,i){return r??t??i}function rg(r){var t=new Date(R.now());return r._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function $a(r){var t,i,s=[],u,g,b;if(!r._d){for(u=rg(r),r._w&&r._a[Xt]==null&&r._a[fe]==null&&ag(r),r._dayOfYear!=null&&(b=bn(r._a[vt],u[vt]),(r._dayOfYear>Zn(b)||r._dayOfYear===0)&&(z(r)._overflowDayOfYear=!0),i=ai(b,0,r._dayOfYear),r._a[fe]=i.getUTCMonth(),r._a[Xt]=i.getUTCDate()),t=0;t<3&&r._a[t]==null;++t)r._a[t]=s[t]=u[t];for(;t<7;t++)r._a[t]=s[t]=r._a[t]==null?t===2?1:0:r._a[t];r._a[ft]===24&&r._a[Yt]===0&&r._a[ge]===0&&r._a[Je]===0&&(r._nextDay=!0,r._a[ft]=0),r._d=(r._useUTC?ai:df).apply(null,s),g=r._useUTC?r._d.getUTCDay():r._d.getDay(),r._tzm!=null&&r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),r._nextDay&&(r._a[ft]=24),r._w&&typeof r._w.d<"u"&&r._w.d!==g&&(z(r).weekdayMismatch=!0)}}function ag(r){var t,i,s,u,g,b,k,C,D;t=r._w,t.GG!=null||t.W!=null||t.E!=null?(g=1,b=4,i=bn(t.GG,r._a[vt],oi(it(),1,4).year),s=bn(t.W,1),u=bn(t.E,1),(u<1||u>7)&&(C=!0)):(g=r._locale._week.dow,b=r._locale._week.doy,D=oi(it(),g,b),i=bn(t.gg,r._a[vt],D.year),s=bn(t.w,D.week),t.d!=null?(u=t.d,(u<0||u>6)&&(C=!0)):t.e!=null?(u=t.e+g,(t.e<0||t.e>6)&&(C=!0)):u=g),s<1||s>pe(i,g,b)?z(r)._overflowWeeks=!0:C!=null?z(r)._overflowWeekday=!0:(k=ml(i,s,u,g,b),r._a[vt]=k.year,r._dayOfYear=k.dayOfYear)}R.ISO_8601=function(){};R.RFC_2822=function(){};function Ka(r){if(r._f===R.ISO_8601){xl(r);return}if(r._f===R.RFC_2822){Al(r);return}r._a=[],z(r).empty=!0;var t=""+r._i,i,s,u,g,b,k=t.length,C=0,D,E;for(u=il(r._f,r._locale).match(Na)||[],E=u.length,i=0;i<E;i++)g=u[i],s=(t.match(Uh(g,r))||[])[0],s&&(b=t.substr(0,t.indexOf(s)),b.length>0&&z(r).unusedInput.push(b),t=t.slice(t.indexOf(s)+s.length),C+=s.length),An[g]?(s?z(r).empty=!1:z(r).unusedTokens.push(g),Gh(g,s,r)):r._strict&&!s&&z(r).unusedTokens.push(g);z(r).charsLeftOver=k-C,t.length>0&&z(r).unusedInput.push(t),r._a[ft]<=12&&z(r).bigHour===!0&&r._a[ft]>0&&(z(r).bigHour=void 0),z(r).parsedDateParts=r._a.slice(0),z(r).meridiem=r._meridiem,r._a[ft]=og(r._locale,r._a[ft],r._meridiem),D=z(r).era,D!==null&&(r._a[vt]=r._locale.erasConvertYear(D,r._a[vt])),$a(r),Ga(r)}function og(r,t,i){var s;return i==null?t:r.meridiemHour!=null?r.meridiemHour(t,i):(r.isPM!=null&&(s=r.isPM(i),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function sg(r){var t,i,s,u,g,b,k=!1,C=r._f.length;if(C===0){z(r).invalidFormat=!0,r._d=new Date(NaN);return}for(u=0;u<C;u++)g=0,b=!1,t=Fa({},r),r._useUTC!=null&&(t._useUTC=r._useUTC),t._f=r._f[u],Ka(t),Ea(t)&&(b=!0),g+=z(t).charsLeftOver,g+=z(t).unusedTokens.length*10,z(t).score=g,k?g<s&&(s=g,i=t):(s==null||g<s||b)&&(s=g,i=t,b&&(k=!0));Re(r,i||t)}function lg(r){if(!r._d){var t=Ba(r._i),i=t.day===void 0?t.date:t.day;r._a=tl([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),$a(r)}}function ug(r){var t=new di(Ga(kl(r)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function kl(r){var t=r._i,i=r._f;return r._locale=r._locale||ye(r._l),t===null||i===void 0&&t===""?Ji({nullInput:!0}):(typeof t=="string"&&(r._i=t=r._locale.preparse(t)),qt(t)?new di(Ga(t)):(ci(t)?r._d=t:Ut(i)?sg(r):i?Ka(r):cg(r),Ea(r)||(r._d=null),r))}function cg(r){var t=r._i;Dt(t)?r._d=new Date(R.now()):ci(t)?r._d=new Date(t.valueOf()):typeof t=="string"?ig(r):Ut(t)?(r._a=tl(t.slice(0),function(i){return parseInt(i,10)}),$a(r)):Xe(t)?lg(r):be(t)?r._d=new Date(t):R.createFromInputFallback(r)}function wl(r,t,i,s,u){var g={};return(t===!0||t===!1)&&(s=t,t=void 0),(i===!0||i===!1)&&(s=i,i=void 0),(Xe(r)&&Oa(r)||Ut(r)&&r.length===0)&&(r=void 0),g._isAMomentObject=!0,g._useUTC=g._isUTC=u,g._l=i,g._i=r,g._f=t,g._strict=s,ug(g)}function it(r,t,i,s){return wl(r,t,i,s,!1)}var dg=zt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=it.apply(null,arguments);return this.isValid()&&r.isValid()?r<this?this:r:Ji()}),hg=zt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=it.apply(null,arguments);return this.isValid()&&r.isValid()?r>this?this:r:Ji()});function _l(r,t){var i,s;if(t.length===1&&Ut(t[0])&&(t=t[0]),!t.length)return it();for(i=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][r](i))&&(i=t[s]);return i}function fg(){var r=[].slice.call(arguments,0);return _l("isBefore",r)}function gg(){var r=[].slice.call(arguments,0);return _l("isAfter",r)}var mg=function(){return Date.now?Date.now():+new Date},Gn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function vg(r){var t,i=!1,s,u=Gn.length;for(t in r)if(J(r,t)&&!(lt.call(Gn,t)!==-1&&(r[t]==null||!isNaN(r[t]))))return!1;for(s=0;s<u;++s)if(r[Gn[s]]){if(i)return!1;parseFloat(r[Gn[s]])!==V(r[Gn[s]])&&(i=!0)}return!0}function pg(){return this._isValid}function bg(){return Gt(NaN)}function rr(r){var t=Ba(r),i=t.year||0,s=t.quarter||0,u=t.month||0,g=t.week||t.isoWeek||0,b=t.day||0,k=t.hour||0,C=t.minute||0,D=t.second||0,E=t.millisecond||0;this._isValid=vg(t),this._milliseconds=+E+D*1e3+C*6e4+k*1e3*60*60,this._days=+b+g*7,this._months=+u+s*3+i*12,this._data={},this._locale=ye(),this._bubble()}function Ii(r){return r instanceof rr}function ba(r){return r<0?Math.round(-1*r)*-1:Math.round(r)}function yg(r,t,i){var s=Math.min(r.length,t.length),u=Math.abs(r.length-t.length),g=0,b;for(b=0;b<s;b++)V(r[b])!==V(t[b])&&g++;return g+u}function Sl(r,t){I(r,0,0,function(){var i=this.utcOffset(),s="+";return i<0&&(i=-i,s="-"),s+te(~~(i/60),2)+t+te(~~i%60,2)})}Sl("Z",":");Sl("ZZ","");P("Z",er);P("ZZ",er);tt(["Z","ZZ"],function(r,t,i){i._useUTC=!0,i._tzm=Ja(er,r)});var xg=/([\+\-]|\d\d)/gi;function Ja(r,t){var i=(t||"").match(r),s,u,g;return i===null?null:(s=i[i.length-1]||[],u=(s+"").match(xg)||["-",0,0],g=+(u[1]*60)+V(u[2]),g===0?0:u[0]==="+"?g:-g)}function Za(r,t){var i,s;return t._isUTC?(i=t.clone(),s=(qt(r)||ci(r)?r.valueOf():it(r).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),R.updateOffset(i,!1),i):it(r).local()}function ya(r){return-Math.round(r._d.getTimezoneOffset())}R.updateOffset=function(){};function Ag(r,t,i){var s=this._offset||0,u;if(!this.isValid())return r!=null?this:NaN;if(r!=null){if(typeof r=="string"){if(r=Ja(er,r),r===null)return this}else Math.abs(r)<16&&!i&&(r=r*60);return!this._isUTC&&t&&(u=ya(this)),this._offset=r,this._isUTC=!0,u!=null&&this.add(u,"m"),s!==r&&(!t||this._changeInProgress?Ml(this,Gt(r-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,R.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:ya(this)}function kg(r,t){return r!=null?(typeof r!="string"&&(r=-r),this.utcOffset(r,t),this):-this.utcOffset()}function wg(r){return this.utcOffset(0,r)}function _g(r){return this._isUTC&&(this.utcOffset(0,r),this._isUTC=!1,r&&this.subtract(ya(this),"m")),this}function Sg(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var r=Ja(Yh,this._i);r!=null?this.utcOffset(r):this.utcOffset(0,!0)}return this}function Cg(r){return this.isValid()?(r=r?it(r).utcOffset():0,(this.utcOffset()-r)%60===0):!1}function Dg(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Mg(){if(!Dt(this._isDSTShifted))return this._isDSTShifted;var r={},t;return Fa(r,this),r=kl(r),r._a?(t=r._isUTC?ee(r._a):it(r._a),this._isDSTShifted=this.isValid()&&yg(r._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tg(){return this.isValid()?!this._isUTC:!1}function Rg(){return this.isValid()?this._isUTC:!1}function Cl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Lg=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Pg=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gt(r,t){var i=r,s=null,u,g,b;return Ii(r)?i={ms:r._milliseconds,d:r._days,M:r._months}:be(r)||!isNaN(+r)?(i={},t?i[t]=+r:i.milliseconds=+r):(s=Lg.exec(r))?(u=s[1]==="-"?-1:1,i={y:0,d:V(s[Xt])*u,h:V(s[ft])*u,m:V(s[Yt])*u,s:V(s[ge])*u,ms:V(ba(s[Je]*1e3))*u}):(s=Pg.exec(r))?(u=s[1]==="-"?-1:1,i={y:Ge(s[2],u),M:Ge(s[3],u),w:Ge(s[4],u),d:Ge(s[5],u),h:Ge(s[6],u),m:Ge(s[7],u),s:Ge(s[8],u)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(b=Og(it(i.from),it(i.to)),i={},i.ms=b.milliseconds,i.M=b.months),g=new rr(i),Ii(r)&&J(r,"_locale")&&(g._locale=r._locale),Ii(r)&&J(r,"_isValid")&&(g._isValid=r._isValid),g}Gt.fn=rr.prototype;Gt.invalid=bg;function Ge(r,t){var i=r&&parseFloat(r.replace(",","."));return(isNaN(i)?0:i)*t}function _s(r,t){var i={};return i.months=t.month()-r.month()+(t.year()-r.year())*12,r.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+r.clone().add(i.months,"M"),i}function Og(r,t){var i;return r.isValid()&&t.isValid()?(t=Za(t,r),r.isBefore(t)?i=_s(r,t):(i=_s(t,r),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Dl(r,t){return function(i,s){var u,g;return s!==null&&!isNaN(+s)&&(nl(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),g=i,i=s,s=g),u=Gt(i,s),Ml(this,u,r),this}}function Ml(r,t,i,s){var u=t._milliseconds,g=ba(t._days),b=ba(t._months);r.isValid()&&(s=s??!0,b&&hl(r,ri(r,"Month")+b*i),g&&ul(r,"Date",ri(r,"Date")+g*i),u&&r._d.setTime(r._d.valueOf()+u*i),s&&R.updateOffset(r,g||b))}var Eg=Dl(1,"add"),Fg=Dl(-1,"subtract");function Tl(r){return typeof r=="string"||r instanceof String}function Ig(r){return qt(r)||ci(r)||Tl(r)||be(r)||Bg(r)||Ng(r)||r===null||r===void 0}function Ng(r){var t=Xe(r)&&!Oa(r),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u,g,b=s.length;for(u=0;u<b;u+=1)g=s[u],i=i||J(r,g);return t&&i}function Bg(r){var t=Ut(r),i=!1;return t&&(i=r.filter(function(s){return!be(s)&&Tl(r)}).length===0),t&&i}function Wg(r){var t=Xe(r)&&!Oa(r),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],u,g;for(u=0;u<s.length;u+=1)g=s[u],i=i||J(r,g);return t&&i}function zg(r,t){var i=r.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function jg(r,t){arguments.length===1&&(arguments[0]?Ig(arguments[0])?(r=arguments[0],t=void 0):Wg(arguments[0])&&(t=arguments[0],r=void 0):(r=void 0,t=void 0));var i=r||it(),s=Za(i,this).startOf("day"),u=R.calendarFormat(this,s)||"sameElse",g=t&&(ne(t[u])?t[u].call(this,i):t[u]);return this.format(g||this.localeData().calendar(u,this,it(i)))}function Hg(){return new di(this)}function Yg(r,t){var i=qt(r)?r:it(r);return this.isValid()&&i.isValid()?(t=jt(t)||"millisecond",t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function Vg(r,t){var i=qt(r)?r:it(r);return this.isValid()&&i.isValid()?(t=jt(t)||"millisecond",t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function Ug(r,t,i,s){var u=qt(r)?r:it(r),g=qt(t)?t:it(t);return this.isValid()&&u.isValid()&&g.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(u,i):!this.isBefore(u,i))&&(s[1]===")"?this.isBefore(g,i):!this.isAfter(g,i))):!1}function qg(r,t){var i=qt(r)?r:it(r),s;return this.isValid()&&i.isValid()?(t=jt(t)||"millisecond",t==="millisecond"?this.valueOf()===i.valueOf():(s=i.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function Gg(r,t){return this.isSame(r,t)||this.isAfter(r,t)}function $g(r,t){return this.isSame(r,t)||this.isBefore(r,t)}function Kg(r,t,i){var s,u,g;if(!this.isValid())return NaN;if(s=Za(r,this),!s.isValid())return NaN;switch(u=(s.utcOffset()-this.utcOffset())*6e4,t=jt(t),t){case"year":g=Ni(this,s)/12;break;case"month":g=Ni(this,s);break;case"quarter":g=Ni(this,s)/3;break;case"second":g=(this-s)/1e3;break;case"minute":g=(this-s)/6e4;break;case"hour":g=(this-s)/36e5;break;case"day":g=(this-s-u)/864e5;break;case"week":g=(this-s-u)/6048e5;break;default:g=this-s}return i?g:Bt(g)}function Ni(r,t){if(r.date()<t.date())return-Ni(t,r);var i=(t.year()-r.year())*12+(t.month()-r.month()),s=r.clone().add(i,"months"),u,g;return t-s<0?(u=r.clone().add(i-1,"months"),g=(t-s)/(s-u)):(u=r.clone().add(i+1,"months"),g=(t-s)/(u-s)),-(i+g)||0}R.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";R.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Jg(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zg(r){if(!this.isValid())return null;var t=r!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?Fi(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ne(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fi(i,"Z")):Fi(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Xg(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var r="moment",t="",i,s,u,g;return this.isLocal()||(r=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),i="["+r+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u="-MM-DD[T]HH:mm:ss.SSS",g=t+'[")]',this.format(i+s+u+g)}function Qg(r){r||(r=this.isUtc()?R.defaultFormatUtc:R.defaultFormat);var t=Fi(this,r);return this.localeData().postformat(t)}function tm(r,t){return this.isValid()&&(qt(r)&&r.isValid()||it(r).isValid())?Gt({to:this,from:r}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function em(r){return this.from(it(),r)}function nm(r,t){return this.isValid()&&(qt(r)&&r.isValid()||it(r).isValid())?Gt({from:this,to:r}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function im(r){return this.to(it(),r)}function Rl(r){var t;return r===void 0?this._locale._abbr:(t=ye(r),t!=null&&(this._locale=t),this)}var Ll=zt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(r){return r===void 0?this.localeData():this.locale(r)});function Pl(){return this._locale}var Yi=1e3,kn=60*Yi,Vi=60*kn,Ol=(365*400+97)*24*Vi;function wn(r,t){return(r%t+t)%t}function El(r,t,i){return r<100&&r>=0?new Date(r+400,t,i)-Ol:new Date(r,t,i).valueOf()}function Fl(r,t,i){return r<100&&r>=0?Date.UTC(r+400,t,i)-Ol:Date.UTC(r,t,i)}function rm(r){var t,i;if(r=jt(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Fl:El,r){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wn(t+(this._isUTC?0:this.utcOffset()*kn),Vi);break;case"minute":t=this._d.valueOf(),t-=wn(t,kn);break;case"second":t=this._d.valueOf(),t-=wn(t,Yi);break}return this._d.setTime(t),R.updateOffset(this,!0),this}function am(r){var t,i;if(r=jt(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Fl:El,r){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Vi-wn(t+(this._isUTC?0:this.utcOffset()*kn),Vi)-1;break;case"minute":t=this._d.valueOf(),t+=kn-wn(t,kn)-1;break;case"second":t=this._d.valueOf(),t+=Yi-wn(t,Yi)-1;break}return this._d.setTime(t),R.updateOffset(this,!0),this}function om(){return this._d.valueOf()-(this._offset||0)*6e4}function sm(){return Math.floor(this.valueOf()/1e3)}function lm(){return new Date(this.valueOf())}function um(){var r=this;return[r.year(),r.month(),r.date(),r.hour(),r.minute(),r.second(),r.millisecond()]}function cm(){var r=this;return{years:r.year(),months:r.month(),date:r.date(),hours:r.hours(),minutes:r.minutes(),seconds:r.seconds(),milliseconds:r.milliseconds()}}function dm(){return this.isValid()?this.toISOString():null}function hm(){return Ea(this)}function fm(){return Re({},z(this))}function gm(){return z(this).overflow}function mm(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}I("N",0,0,"eraAbbr");I("NN",0,0,"eraAbbr");I("NNN",0,0,"eraAbbr");I("NNNN",0,0,"eraName");I("NNNNN",0,0,"eraNarrow");I("y",["y",1],"yo","eraYear");I("y",["yy",2],0,"eraYear");I("y",["yyy",3],0,"eraYear");I("y",["yyyy",4],0,"eraYear");P("N",Xa);P("NN",Xa);P("NNN",Xa);P("NNNN",Cm);P("NNNNN",Dm);tt(["N","NN","NNN","NNNN","NNNNN"],function(r,t,i,s){var u=i._locale.erasParse(r,s,i._strict);u?z(i).era=u:z(i).invalidEra=r});P("y",Dn);P("yy",Dn);P("yyy",Dn);P("yyyy",Dn);P("yo",Mm);tt(["y","yy","yyy","yyyy"],vt);tt(["yo"],function(r,t,i,s){var u;i._locale._eraYearOrdinalRegex&&(u=r.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[vt]=i._locale.eraYearOrdinalParse(r,u):t[vt]=parseInt(r,10)});function vm(r,t){var i,s,u,g=this._eras||ye("en")._eras;for(i=0,s=g.length;i<s;++i){switch(typeof g[i].since){case"string":u=R(g[i].since).startOf("day"),g[i].since=u.valueOf();break}switch(typeof g[i].until){case"undefined":g[i].until=1/0;break;case"string":u=R(g[i].until).startOf("day").valueOf(),g[i].until=u.valueOf();break}}return g}function pm(r,t,i){var s,u,g=this.eras(),b,k,C;for(r=r.toUpperCase(),s=0,u=g.length;s<u;++s)if(b=g[s].name.toUpperCase(),k=g[s].abbr.toUpperCase(),C=g[s].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(k===r)return g[s];break;case"NNNN":if(b===r)return g[s];break;case"NNNNN":if(C===r)return g[s];break}else if([b,k,C].indexOf(r)>=0)return g[s]}function bm(r,t){var i=r.since<=r.until?1:-1;return t===void 0?R(r.since).year():R(r.since).year()+(t-r.offset)*i}function ym(){var r,t,i,s=this.localeData().eras();for(r=0,t=s.length;r<t;++r)if(i=this.clone().startOf("day").valueOf(),s[r].since<=i&&i<=s[r].until||s[r].until<=i&&i<=s[r].since)return s[r].name;return""}function xm(){var r,t,i,s=this.localeData().eras();for(r=0,t=s.length;r<t;++r)if(i=this.clone().startOf("day").valueOf(),s[r].since<=i&&i<=s[r].until||s[r].until<=i&&i<=s[r].since)return s[r].narrow;return""}function Am(){var r,t,i,s=this.localeData().eras();for(r=0,t=s.length;r<t;++r)if(i=this.clone().startOf("day").valueOf(),s[r].since<=i&&i<=s[r].until||s[r].until<=i&&i<=s[r].since)return s[r].abbr;return""}function km(){var r,t,i,s,u=this.localeData().eras();for(r=0,t=u.length;r<t;++r)if(i=u[r].since<=u[r].until?1:-1,s=this.clone().startOf("day").valueOf(),u[r].since<=s&&s<=u[r].until||u[r].until<=s&&s<=u[r].since)return(this.year()-R(u[r].since).year())*i+u[r].offset;return this.year()}function wm(r){return J(this,"_erasNameRegex")||Qa.call(this),r?this._erasNameRegex:this._erasRegex}function _m(r){return J(this,"_erasAbbrRegex")||Qa.call(this),r?this._erasAbbrRegex:this._erasRegex}function Sm(r){return J(this,"_erasNarrowRegex")||Qa.call(this),r?this._erasNarrowRegex:this._erasRegex}function Xa(r,t){return t.erasAbbrRegex(r)}function Cm(r,t){return t.erasNameRegex(r)}function Dm(r,t){return t.erasNarrowRegex(r)}function Mm(r,t){return t._eraYearOrdinalRegex||Dn}function Qa(){var r=[],t=[],i=[],s=[],u,g,b,k,C,D=this.eras();for(u=0,g=D.length;u<g;++u)b=ve(D[u].name),k=ve(D[u].abbr),C=ve(D[u].narrow),t.push(b),r.push(k),i.push(C),s.push(b),s.push(k),s.push(C);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}I(0,["gg",2],0,function(){return this.weekYear()%100});I(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ar(r,t){I(0,[r,r.length],0,t)}ar("gggg","weekYear");ar("ggggg","weekYear");ar("GGGG","isoWeekYear");ar("GGGGG","isoWeekYear");P("G",tr);P("g",tr);P("GG",rt,Pt);P("gg",rt,Pt);P("GGGG",za,Wa);P("gggg",za,Wa);P("GGGGG",Qi,Zi);P("ggggg",Qi,Zi);fi(["gggg","ggggg","GGGG","GGGGG"],function(r,t,i,s){t[s.substr(0,2)]=V(r)});fi(["gg","GG"],function(r,t,i,s){t[s]=R.parseTwoDigitYear(r)});function Tm(r){return Il.call(this,r,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Rm(r){return Il.call(this,r,this.isoWeek(),this.isoWeekday(),1,4)}function Lm(){return pe(this.year(),1,4)}function Pm(){return pe(this.isoWeekYear(),1,4)}function Om(){var r=this.localeData()._week;return pe(this.year(),r.dow,r.doy)}function Em(){var r=this.localeData()._week;return pe(this.weekYear(),r.dow,r.doy)}function Il(r,t,i,s,u){var g;return r==null?oi(this,s,u).year:(g=pe(r,s,u),t>g&&(t=g),Fm.call(this,r,t,i,s,u))}function Fm(r,t,i,s,u){var g=ml(r,t,i,s,u),b=ai(g.year,0,g.dayOfYear);return this.year(b.getUTCFullYear()),this.month(b.getUTCMonth()),this.date(b.getUTCDate()),this}I("Q",0,"Qo","quarter");P("Q",rl);tt("Q",function(r,t){t[fe]=(V(r)-1)*3});function Im(r){return r==null?Math.ceil((this.month()+1)/3):this.month((r-1)*3+this.month()%3)}I("D",["DD",2],"Do","date");P("D",rt,Mn);P("DD",rt,Pt);P("Do",function(r,t){return r?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});tt(["D","DD"],Xt);tt("Do",function(r,t){t[Xt]=V(r.match(rt)[0])});var Nl=Tn("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear");P("DDD",Xi);P("DDDD",al);tt(["DDD","DDDD"],function(r,t,i){i._dayOfYear=V(r)});function Nm(r){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return r==null?t:this.add(r-t,"d")}I("m",["mm",2],0,"minute");P("m",rt,ja);P("mm",rt,Pt);tt(["m","mm"],Yt);var Bm=Tn("Minutes",!1);I("s",["ss",2],0,"second");P("s",rt,ja);P("ss",rt,Pt);tt(["s","ss"],ge);var Wm=Tn("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)});I(0,["SS",2],0,function(){return~~(this.millisecond()/10)});I(0,["SSS",3],0,"millisecond");I(0,["SSSS",4],0,function(){return this.millisecond()*10});I(0,["SSSSS",5],0,function(){return this.millisecond()*100});I(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});I(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});I(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});I(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});P("S",Xi,rl);P("SS",Xi,Pt);P("SSS",Xi,al);var Le,Bl;for(Le="SSSS";Le.length<=9;Le+="S")P(Le,Dn);function zm(r,t){t[Je]=V(("0."+r)*1e3)}for(Le="S";Le.length<=9;Le+="S")tt(Le,zm);Bl=Tn("Milliseconds",!1);I("z",0,0,"zoneAbbr");I("zz",0,0,"zoneName");function jm(){return this._isUTC?"UTC":""}function Hm(){return this._isUTC?"Coordinated Universal Time":""}var T=di.prototype;T.add=Eg;T.calendar=jg;T.clone=Hg;T.diff=Kg;T.endOf=am;T.format=Qg;T.from=tm;T.fromNow=em;T.to=nm;T.toNow=im;T.get=Zh;T.invalidAt=gm;T.isAfter=Yg;T.isBefore=Vg;T.isBetween=Ug;T.isSame=qg;T.isSameOrAfter=Gg;T.isSameOrBefore=$g;T.isValid=hm;T.lang=Ll;T.locale=Rl;T.localeData=Pl;T.max=hg;T.min=dg;T.parsingFlags=fm;T.set=Xh;T.startOf=rm;T.subtract=Fg;T.toArray=um;T.toObject=cm;T.toDate=lm;T.toISOString=Zg;T.inspect=Xg;typeof Symbol<"u"&&Symbol.for!=null&&(T[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});T.toJSON=dm;T.toString=Jg;T.unix=sm;T.valueOf=om;T.creationData=mm;T.eraName=ym;T.eraNarrow=xm;T.eraAbbr=Am;T.eraYear=km;T.year=ll;T.isLeapYear=Jh;T.weekYear=Tm;T.isoWeekYear=Rm;T.quarter=T.quarters=Im;T.month=fl;T.daysInMonth=lf;T.week=T.weeks=vf;T.isoWeek=T.isoWeeks=pf;T.weeksInYear=Om;T.weeksInWeekYear=Em;T.isoWeeksInYear=Lm;T.isoWeeksInISOWeekYear=Pm;T.date=Nl;T.day=T.days=Rf;T.weekday=Lf;T.isoWeekday=Pf;T.dayOfYear=Nm;T.hour=T.hours=Wf;T.minute=T.minutes=Bm;T.second=T.seconds=Wm;T.millisecond=T.milliseconds=Bl;T.utcOffset=Ag;T.utc=wg;T.local=_g;T.parseZone=Sg;T.hasAlignedHourOffset=Cg;T.isDST=Dg;T.isLocal=Tg;T.isUtcOffset=Rg;T.isUtc=Cl;T.isUTC=Cl;T.zoneAbbr=jm;T.zoneName=Hm;T.dates=zt("dates accessor is deprecated. Use date instead.",Nl);T.months=zt("months accessor is deprecated. Use month instead",fl);T.years=zt("years accessor is deprecated. Use year instead",ll);T.zone=zt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",kg);T.isDSTShifted=zt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Mg);function Ym(r){return it(r*1e3)}function Vm(){return it.apply(null,arguments).parseZone()}function Wl(r){return r}var Z=Ia.prototype;Z.calendar=Mh;Z.longDateFormat=Ph;Z.invalidDate=Eh;Z.ordinal=Nh;Z.preparse=Wl;Z.postformat=Wl;Z.relativeTime=Wh;Z.pastFuture=zh;Z.set=Ch;Z.eras=vm;Z.erasParse=pm;Z.erasConvertYear=bm;Z.erasAbbrRegex=_m;Z.erasNameRegex=wm;Z.erasNarrowRegex=Sm;Z.months=rf;Z.monthsShort=af;Z.monthsParse=sf;Z.monthsRegex=cf;Z.monthsShortRegex=uf;Z.week=hf;Z.firstDayOfYear=mf;Z.firstDayOfWeek=gf;Z.weekdays=Sf;Z.weekdaysMin=Df;Z.weekdaysShort=Cf;Z.weekdaysParse=Tf;Z.weekdaysRegex=Of;Z.weekdaysShortRegex=Ef;Z.weekdaysMinRegex=Ff;Z.isPM=Nf;Z.meridiem=zf;function Ui(r,t,i,s){var u=ye(),g=ee().set(s,t);return u[i](g,r)}function zl(r,t,i){if(be(r)&&(t=r,r=void 0),r=r||"",t!=null)return Ui(r,t,i,"month");var s,u=[];for(s=0;s<12;s++)u[s]=Ui(r,s,i,"month");return u}function to(r,t,i,s){typeof r=="boolean"?(be(t)&&(i=t,t=void 0),t=t||""):(t=r,i=t,r=!1,be(t)&&(i=t,t=void 0),t=t||"");var u=ye(),g=r?u._week.dow:0,b,k=[];if(i!=null)return Ui(t,(i+g)%7,s,"day");for(b=0;b<7;b++)k[b]=Ui(t,(b+g)%7,s,"day");return k}function Um(r,t){return zl(r,t,"months")}function qm(r,t){return zl(r,t,"monthsShort")}function Gm(r,t,i){return to(r,t,i,"weekdays")}function $m(r,t,i){return to(r,t,i,"weekdaysShort")}function Km(r,t,i){return to(r,t,i,"weekdaysMin")}Pe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(r){var t=r%10,i=V(r%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return r+i}});R.lang=zt("moment.lang is deprecated. Use moment.locale instead.",Pe);R.langData=zt("moment.langData is deprecated. Use moment.localeData instead.",ye);var ce=Math.abs;function Jm(){var r=this._data;return this._milliseconds=ce(this._milliseconds),this._days=ce(this._days),this._months=ce(this._months),r.milliseconds=ce(r.milliseconds),r.seconds=ce(r.seconds),r.minutes=ce(r.minutes),r.hours=ce(r.hours),r.months=ce(r.months),r.years=ce(r.years),this}function jl(r,t,i,s){var u=Gt(t,i);return r._milliseconds+=s*u._milliseconds,r._days+=s*u._days,r._months+=s*u._months,r._bubble()}function Zm(r,t){return jl(this,r,t,1)}function Xm(r,t){return jl(this,r,t,-1)}function Ss(r){return r<0?Math.floor(r):Math.ceil(r)}function Qm(){var r=this._milliseconds,t=this._days,i=this._months,s=this._data,u,g,b,k,C;return r>=0&&t>=0&&i>=0||r<=0&&t<=0&&i<=0||(r+=Ss(xa(i)+t)*864e5,t=0,i=0),s.milliseconds=r%1e3,u=Bt(r/1e3),s.seconds=u%60,g=Bt(u/60),s.minutes=g%60,b=Bt(g/60),s.hours=b%24,t+=Bt(b/24),C=Bt(Hl(t)),i+=C,t-=Ss(xa(C)),k=Bt(i/12),i%=12,s.days=t,s.months=i,s.years=k,this}function Hl(r){return r*4800/146097}function xa(r){return r*146097/4800}function tv(r){if(!this.isValid())return NaN;var t,i,s=this._milliseconds;if(r=jt(r),r==="month"||r==="quarter"||r==="year")switch(t=this._days+s/864e5,i=this._months+Hl(t),r){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(xa(this._months)),r){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+r)}}function xe(r){return function(){return this.as(r)}}var Yl=xe("ms"),ev=xe("s"),nv=xe("m"),iv=xe("h"),rv=xe("d"),av=xe("w"),ov=xe("M"),sv=xe("Q"),lv=xe("y"),uv=Yl;function cv(){return Gt(this)}function dv(r){return r=jt(r),this.isValid()?this[r+"s"]():NaN}function an(r){return function(){return this.isValid()?this._data[r]:NaN}}var hv=an("milliseconds"),fv=an("seconds"),gv=an("minutes"),mv=an("hours"),vv=an("days"),pv=an("months"),bv=an("years");function yv(){return Bt(this.days()/7)}var de=Math.round,xn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xv(r,t,i,s,u){return u.relativeTime(t||1,!!i,r,s)}function Av(r,t,i,s){var u=Gt(r).abs(),g=de(u.as("s")),b=de(u.as("m")),k=de(u.as("h")),C=de(u.as("d")),D=de(u.as("M")),E=de(u.as("w")),H=de(u.as("y")),U=g<=i.ss&&["s",g]||g<i.s&&["ss",g]||b<=1&&["m"]||b<i.m&&["mm",b]||k<=1&&["h"]||k<i.h&&["hh",k]||C<=1&&["d"]||C<i.d&&["dd",C];return i.w!=null&&(U=U||E<=1&&["w"]||E<i.w&&["ww",E]),U=U||D<=1&&["M"]||D<i.M&&["MM",D]||H<=1&&["y"]||["yy",H],U[2]=t,U[3]=+r>0,U[4]=s,xv.apply(null,U)}function kv(r){return r===void 0?de:typeof r=="function"?(de=r,!0):!1}function wv(r,t){return xn[r]===void 0?!1:t===void 0?xn[r]:(xn[r]=t,r==="s"&&(xn.ss=t-1),!0)}function _v(r,t){if(!this.isValid())return this.localeData().invalidDate();var i=!1,s=xn,u,g;return typeof r=="object"&&(t=r,r=!1),typeof r=="boolean"&&(i=r),typeof t=="object"&&(s=Object.assign({},xn,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),u=this.localeData(),g=Av(this,!i,s,u),i&&(g=u.pastFuture(+this,g)),u.postformat(g)}var Kr=Math.abs;function pn(r){return(r>0)-(r<0)||+r}function or(){if(!this.isValid())return this.localeData().invalidDate();var r=Kr(this._milliseconds)/1e3,t=Kr(this._days),i=Kr(this._months),s,u,g,b,k=this.asSeconds(),C,D,E,H;return k?(s=Bt(r/60),u=Bt(s/60),r%=60,s%=60,g=Bt(i/12),i%=12,b=r?r.toFixed(3).replace(/\.?0+$/,""):"",C=k<0?"-":"",D=pn(this._months)!==pn(k)?"-":"",E=pn(this._days)!==pn(k)?"-":"",H=pn(this._milliseconds)!==pn(k)?"-":"",C+"P"+(g?D+g+"Y":"")+(i?D+i+"M":"")+(t?E+t+"D":"")+(u||s||r?"T":"")+(u?H+u+"H":"")+(s?H+s+"M":"")+(r?H+b+"S":"")):"P0D"}var $=rr.prototype;$.isValid=pg;$.abs=Jm;$.add=Zm;$.subtract=Xm;$.as=tv;$.asMilliseconds=Yl;$.asSeconds=ev;$.asMinutes=nv;$.asHours=iv;$.asDays=rv;$.asWeeks=av;$.asMonths=ov;$.asQuarters=sv;$.asYears=lv;$.valueOf=uv;$._bubble=Qm;$.clone=cv;$.get=dv;$.milliseconds=hv;$.seconds=fv;$.minutes=gv;$.hours=mv;$.days=vv;$.weeks=yv;$.months=pv;$.years=bv;$.humanize=_v;$.toISOString=or;$.toString=or;$.toJSON=or;$.locale=Rl;$.localeData=Pl;$.toIsoString=zt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",or);$.lang=Ll;I("X",0,0,"unix");I("x",0,0,"valueOf");P("x",tr);P("X",Vh);tt("X",function(r,t,i){i._d=new Date(parseFloat(r)*1e3)});tt("x",function(r,t,i){i._d=new Date(V(r))});//! moment.js
R.version="2.30.1";_h(it);R.fn=T;R.min=fg;R.max=gg;R.now=mg;R.utc=ee;R.unix=Ym;R.months=Um;R.isDate=ci;R.locale=Pe;R.invalid=Ji;R.duration=Gt;R.isMoment=qt;R.weekdays=Gm;R.parseZone=Vm;R.localeData=ye;R.isDuration=Ii;R.monthsShort=qm;R.weekdaysMin=Km;R.defineLocale=qa;R.updateLocale=Vf;R.locales=Uf;R.weekdaysShort=$m;R.normalizeUnits=jt;R.relativeTimeRounding=kv;R.relativeTimeThreshold=wv;R.calendarFormat=zg;R.prototype=T;R.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Sv=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),Cv=bh(Sv);/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */(function(r,t){(function(i,s){r.exports=s(function(){try{return Cv}catch{}}())})(yh,function(i){i=i&&i.hasOwnProperty("default")?i.default:i;function s(e,n){return n={exports:{}},e(n,n.exports),n.exports}function u(e){return e&&e.default||e}var g={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},b=s(function(e){var n={};for(var a in g)g.hasOwnProperty(a)&&(n[g[a]]=a);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var l in o)if(o.hasOwnProperty(l)){if(!("channels"in o[l]))throw new Error("missing channels property: "+l);if(!("labels"in o[l]))throw new Error("missing channel labels property: "+l);if(o[l].labels.length!==o[l].channels)throw new Error("channel and label counts mismatch: "+l);var c=o[l].channels,d=o[l].labels;delete o[l].channels,delete o[l].labels,Object.defineProperty(o[l],"channels",{value:c}),Object.defineProperty(o[l],"labels",{value:d})}o.rgb.hsl=function(h){var m=h[0]/255,v=h[1]/255,p=h[2]/255,x=Math.min(m,v,p),A=Math.max(m,v,p),w=A-x,_,S,M;return A===x?_=0:m===A?_=(v-p)/w:v===A?_=2+(p-m)/w:p===A&&(_=4+(m-v)/w),_=Math.min(_*60,360),_<0&&(_+=360),M=(x+A)/2,A===x?S=0:M<=.5?S=w/(A+x):S=w/(2-A-x),[_,S*100,M*100]},o.rgb.hsv=function(h){var m,v,p,x,A,w=h[0]/255,_=h[1]/255,S=h[2]/255,M=Math.max(w,_,S),L=M-Math.min(w,_,S),O=function(B){return(M-B)/6/L+1/2};return L===0?x=A=0:(A=L/M,m=O(w),v=O(_),p=O(S),w===M?x=p-v:_===M?x=1/3+m-p:S===M&&(x=2/3+v-m),x<0?x+=1:x>1&&(x-=1)),[x*360,A*100,M*100]},o.rgb.hwb=function(h){var m=h[0],v=h[1],p=h[2],x=o.rgb.hsl(h)[0],A=1/255*Math.min(m,Math.min(v,p));return p=1-1/255*Math.max(m,Math.max(v,p)),[x,A*100,p*100]},o.rgb.cmyk=function(h){var m=h[0]/255,v=h[1]/255,p=h[2]/255,x,A,w,_;return _=Math.min(1-m,1-v,1-p),x=(1-m-_)/(1-_)||0,A=(1-v-_)/(1-_)||0,w=(1-p-_)/(1-_)||0,[x*100,A*100,w*100,_*100]};function f(h,m){return Math.pow(h[0]-m[0],2)+Math.pow(h[1]-m[1],2)+Math.pow(h[2]-m[2],2)}o.rgb.keyword=function(h){var m=n[h];if(m)return m;var v=1/0,p;for(var x in g)if(g.hasOwnProperty(x)){var A=g[x],w=f(h,A);w<v&&(v=w,p=x)}return p},o.keyword.rgb=function(h){return g[h]},o.rgb.xyz=function(h){var m=h[0]/255,v=h[1]/255,p=h[2]/255;m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92,v=v>.04045?Math.pow((v+.055)/1.055,2.4):v/12.92,p=p>.04045?Math.pow((p+.055)/1.055,2.4):p/12.92;var x=m*.4124+v*.3576+p*.1805,A=m*.2126+v*.7152+p*.0722,w=m*.0193+v*.1192+p*.9505;return[x*100,A*100,w*100]},o.rgb.lab=function(h){var m=o.rgb.xyz(h),v=m[0],p=m[1],x=m[2],A,w,_;return v/=95.047,p/=100,x/=108.883,v=v>.008856?Math.pow(v,1/3):7.787*v+16/116,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,A=116*p-16,w=500*(v-p),_=200*(p-x),[A,w,_]},o.hsl.rgb=function(h){var m=h[0]/360,v=h[1]/100,p=h[2]/100,x,A,w,_,S;if(v===0)return S=p*255,[S,S,S];p<.5?A=p*(1+v):A=p+v-p*v,x=2*p-A,_=[0,0,0];for(var M=0;M<3;M++)w=m+1/3*-(M-1),w<0&&w++,w>1&&w--,6*w<1?S=x+(A-x)*6*w:2*w<1?S=A:3*w<2?S=x+(A-x)*(2/3-w)*6:S=x,_[M]=S*255;return _},o.hsl.hsv=function(h){var m=h[0],v=h[1]/100,p=h[2]/100,x=v,A=Math.max(p,.01),w,_;return p*=2,v*=p<=1?p:2-p,x*=A<=1?A:2-A,_=(p+v)/2,w=p===0?2*x/(A+x):2*v/(p+v),[m,w*100,_*100]},o.hsv.rgb=function(h){var m=h[0]/60,v=h[1]/100,p=h[2]/100,x=Math.floor(m)%6,A=m-Math.floor(m),w=255*p*(1-v),_=255*p*(1-v*A),S=255*p*(1-v*(1-A));switch(p*=255,x){case 0:return[p,S,w];case 1:return[_,p,w];case 2:return[w,p,S];case 3:return[w,_,p];case 4:return[S,w,p];case 5:return[p,w,_]}},o.hsv.hsl=function(h){var m=h[0],v=h[1]/100,p=h[2]/100,x=Math.max(p,.01),A,w,_;return _=(2-v)*p,A=(2-v)*x,w=v*x,w/=A<=1?A:2-A,w=w||0,_/=2,[m,w*100,_*100]},o.hwb.rgb=function(h){var m=h[0]/360,v=h[1]/100,p=h[2]/100,x=v+p,A,w,_,S;x>1&&(v/=x,p/=x),A=Math.floor(6*m),w=1-p,_=6*m-A,A&1&&(_=1-_),S=v+_*(w-v);var M,L,O;switch(A){default:case 6:case 0:M=w,L=S,O=v;break;case 1:M=S,L=w,O=v;break;case 2:M=v,L=w,O=S;break;case 3:M=v,L=S,O=w;break;case 4:M=S,L=v,O=w;break;case 5:M=w,L=v,O=S;break}return[M*255,L*255,O*255]},o.cmyk.rgb=function(h){var m=h[0]/100,v=h[1]/100,p=h[2]/100,x=h[3]/100,A,w,_;return A=1-Math.min(1,m*(1-x)+x),w=1-Math.min(1,v*(1-x)+x),_=1-Math.min(1,p*(1-x)+x),[A*255,w*255,_*255]},o.xyz.rgb=function(h){var m=h[0]/100,v=h[1]/100,p=h[2]/100,x,A,w;return x=m*3.2406+v*-1.5372+p*-.4986,A=m*-.9689+v*1.8758+p*.0415,w=m*.0557+v*-.204+p*1.057,x=x>.0031308?1.055*Math.pow(x,1/2.4)-.055:x*12.92,A=A>.0031308?1.055*Math.pow(A,1/2.4)-.055:A*12.92,w=w>.0031308?1.055*Math.pow(w,1/2.4)-.055:w*12.92,x=Math.min(Math.max(0,x),1),A=Math.min(Math.max(0,A),1),w=Math.min(Math.max(0,w),1),[x*255,A*255,w*255]},o.xyz.lab=function(h){var m=h[0],v=h[1],p=h[2],x,A,w;return m/=95.047,v/=100,p/=108.883,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,v=v>.008856?Math.pow(v,1/3):7.787*v+16/116,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,x=116*v-16,A=500*(m-v),w=200*(v-p),[x,A,w]},o.lab.xyz=function(h){var m=h[0],v=h[1],p=h[2],x,A,w;A=(m+16)/116,x=v/500+A,w=A-p/200;var _=Math.pow(A,3),S=Math.pow(x,3),M=Math.pow(w,3);return A=_>.008856?_:(A-16/116)/7.787,x=S>.008856?S:(x-16/116)/7.787,w=M>.008856?M:(w-16/116)/7.787,x*=95.047,A*=100,w*=108.883,[x,A,w]},o.lab.lch=function(h){var m=h[0],v=h[1],p=h[2],x,A,w;return x=Math.atan2(p,v),A=x*360/2/Math.PI,A<0&&(A+=360),w=Math.sqrt(v*v+p*p),[m,w,A]},o.lch.lab=function(h){var m=h[0],v=h[1],p=h[2],x,A,w;return w=p/360*2*Math.PI,x=v*Math.cos(w),A=v*Math.sin(w),[m,x,A]},o.rgb.ansi16=function(h){var m=h[0],v=h[1],p=h[2],x=1 in arguments?arguments[1]:o.rgb.hsv(h)[2];if(x=Math.round(x/50),x===0)return 30;var A=30+(Math.round(p/255)<<2|Math.round(v/255)<<1|Math.round(m/255));return x===2&&(A+=60),A},o.hsv.ansi16=function(h){return o.rgb.ansi16(o.hsv.rgb(h),h[2])},o.rgb.ansi256=function(h){var m=h[0],v=h[1],p=h[2];if(m===v&&v===p)return m<8?16:m>248?231:Math.round((m-8)/247*24)+232;var x=16+36*Math.round(m/255*5)+6*Math.round(v/255*5)+Math.round(p/255*5);return x},o.ansi16.rgb=function(h){var m=h%10;if(m===0||m===7)return h>50&&(m+=3.5),m=m/10.5*255,[m,m,m];var v=(~~(h>50)+1)*.5,p=(m&1)*v*255,x=(m>>1&1)*v*255,A=(m>>2&1)*v*255;return[p,x,A]},o.ansi256.rgb=function(h){if(h>=232){var m=(h-232)*10+8;return[m,m,m]}h-=16;var v,p=Math.floor(h/36)/5*255,x=Math.floor((v=h%36)/6)/5*255,A=v%6/5*255;return[p,x,A]},o.rgb.hex=function(h){var m=((Math.round(h[0])&255)<<16)+((Math.round(h[1])&255)<<8)+(Math.round(h[2])&255),v=m.toString(16).toUpperCase();return"000000".substring(v.length)+v},o.hex.rgb=function(h){var m=h.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!m)return[0,0,0];var v=m[0];m[0].length===3&&(v=v.split("").map(function(_){return _+_}).join(""));var p=parseInt(v,16),x=p>>16&255,A=p>>8&255,w=p&255;return[x,A,w]},o.rgb.hcg=function(h){var m=h[0]/255,v=h[1]/255,p=h[2]/255,x=Math.max(Math.max(m,v),p),A=Math.min(Math.min(m,v),p),w=x-A,_,S;return w<1?_=A/(1-w):_=0,w<=0?S=0:x===m?S=(v-p)/w%6:x===v?S=2+(p-m)/w:S=4+(m-v)/w+4,S/=6,S%=1,[S*360,w*100,_*100]},o.hsl.hcg=function(h){var m=h[1]/100,v=h[2]/100,p=1,x=0;return v<.5?p=2*m*v:p=2*m*(1-v),p<1&&(x=(v-.5*p)/(1-p)),[h[0],p*100,x*100]},o.hsv.hcg=function(h){var m=h[1]/100,v=h[2]/100,p=m*v,x=0;return p<1&&(x=(v-p)/(1-p)),[h[0],p*100,x*100]},o.hcg.rgb=function(h){var m=h[0]/360,v=h[1]/100,p=h[2]/100;if(v===0)return[p*255,p*255,p*255];var x=[0,0,0],A=m%1*6,w=A%1,_=1-w,S=0;switch(Math.floor(A)){case 0:x[0]=1,x[1]=w,x[2]=0;break;case 1:x[0]=_,x[1]=1,x[2]=0;break;case 2:x[0]=0,x[1]=1,x[2]=w;break;case 3:x[0]=0,x[1]=_,x[2]=1;break;case 4:x[0]=w,x[1]=0,x[2]=1;break;default:x[0]=1,x[1]=0,x[2]=_}return S=(1-v)*p,[(v*x[0]+S)*255,(v*x[1]+S)*255,(v*x[2]+S)*255]},o.hcg.hsv=function(h){var m=h[1]/100,v=h[2]/100,p=m+v*(1-m),x=0;return p>0&&(x=m/p),[h[0],x*100,p*100]},o.hcg.hsl=function(h){var m=h[1]/100,v=h[2]/100,p=v*(1-m)+.5*m,x=0;return p>0&&p<.5?x=m/(2*p):p>=.5&&p<1&&(x=m/(2*(1-p))),[h[0],x*100,p*100]},o.hcg.hwb=function(h){var m=h[1]/100,v=h[2]/100,p=m+v*(1-m);return[h[0],(p-m)*100,(1-p)*100]},o.hwb.hcg=function(h){var m=h[1]/100,v=h[2]/100,p=1-v,x=p-m,A=0;return x<1&&(A=(p-x)/(1-x)),[h[0],x*100,A*100]},o.apple.rgb=function(h){return[h[0]/65535*255,h[1]/65535*255,h[2]/65535*255]},o.rgb.apple=function(h){return[h[0]/255*65535,h[1]/255*65535,h[2]/255*65535]},o.gray.rgb=function(h){return[h[0]/100*255,h[0]/100*255,h[0]/100*255]},o.gray.hsl=o.gray.hsv=function(h){return[0,0,h[0]]},o.gray.hwb=function(h){return[0,100,h[0]]},o.gray.cmyk=function(h){return[0,0,0,h[0]]},o.gray.lab=function(h){return[h[0],0,0]},o.gray.hex=function(h){var m=Math.round(h[0]/100*255)&255,v=(m<<16)+(m<<8)+m,p=v.toString(16).toUpperCase();return"000000".substring(p.length)+p},o.rgb.gray=function(h){var m=(h[0]+h[1]+h[2])/3;return[m/255*100]}});b.rgb,b.hsl,b.hsv,b.hwb,b.cmyk,b.xyz,b.lab,b.lch,b.hex,b.keyword,b.ansi16,b.ansi256,b.hcg,b.apple,b.gray;function k(){for(var e={},n=Object.keys(b),a=n.length,o=0;o<a;o++)e[n[o]]={distance:-1,parent:null};return e}function C(e){var n=k(),a=[e];for(n[e].distance=0;a.length;)for(var o=a.pop(),l=Object.keys(b[o]),c=l.length,d=0;d<c;d++){var f=l[d],h=n[f];h.distance===-1&&(h.distance=n[o].distance+1,h.parent=o,a.unshift(f))}return n}function D(e,n){return function(a){return n(e(a))}}function E(e,n){for(var a=[n[e].parent,e],o=b[n[e].parent][e],l=n[e].parent;n[l].parent;)a.unshift(n[l].parent),o=D(b[n[l].parent][l],o),l=n[l].parent;return o.conversion=a,o}var H=function(e){for(var n=C(e),a={},o=Object.keys(n),l=o.length,c=0;c<l;c++){var d=o[c],f=n[d];f.parent!==null&&(a[d]=E(d,n))}return a},U={},Mt=Object.keys(b);function Fe(e){var n=function(a){return a==null?a:(arguments.length>1&&(a=Array.prototype.slice.call(arguments)),e(a))};return"conversion"in e&&(n.conversion=e.conversion),n}function Ht(e){var n=function(a){if(a==null)return a;arguments.length>1&&(a=Array.prototype.slice.call(arguments));var o=e(a);if(typeof o=="object")for(var l=o.length,c=0;c<l;c++)o[c]=Math.round(o[c]);return o};return"conversion"in e&&(n.conversion=e.conversion),n}Mt.forEach(function(e){U[e]={},Object.defineProperty(U[e],"channels",{value:b[e].channels}),Object.defineProperty(U[e],"labels",{value:b[e].labels});var n=H(e),a=Object.keys(n);a.forEach(function(o){var l=n[o];U[e][o]=Ht(l),U[e][o].raw=Fe(l)})});var Ae=U,ie={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},pt={getRgba:Ie,getHsla:bt,getRgb:Pn,getHsl:On,getHwb:re,getAlpha:Tu,hexString:Ru,rgbString:Lu,rgbaString:go,percentString:Pu,percentaString:mo,hslString:Ou,hslaString:vo,hwbString:Eu,keyword:Fu};function Ie(e){if(e){var n=/^#([a-fA-F0-9]{3,4})$/i,a=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,o=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,l=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,c=/(\w+)/,d=[0,0,0],f=1,h=e.match(n),m="";if(h){h=h[1],m=h[3];for(var v=0;v<d.length;v++)d[v]=parseInt(h[v]+h[v],16);m&&(f=Math.round(parseInt(m+m,16)/255*100)/100)}else if(h=e.match(a)){m=h[2],h=h[1];for(var v=0;v<d.length;v++)d[v]=parseInt(h.slice(v*2,v*2+2),16);m&&(f=Math.round(parseInt(m,16)/255*100)/100)}else if(h=e.match(o)){for(var v=0;v<d.length;v++)d[v]=parseInt(h[v+1]);f=parseFloat(h[4])}else if(h=e.match(l)){for(var v=0;v<d.length;v++)d[v]=Math.round(parseFloat(h[v+1])*2.55);f=parseFloat(h[4])}else if(h=e.match(c)){if(h[1]=="transparent")return[0,0,0,0];if(d=ie[h[1]],!d)return}for(var v=0;v<d.length;v++)d[v]=$t(d[v],0,255);return!f&&f!=0?f=1:f=$t(f,0,1),d[3]=f,d}}function bt(e){if(e){var n=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=e.match(n);if(a){var o=parseFloat(a[4]),l=$t(parseInt(a[1]),0,360),c=$t(parseFloat(a[2]),0,100),d=$t(parseFloat(a[3]),0,100),f=$t(isNaN(o)?1:o,0,1);return[l,c,d,f]}}}function re(e){if(e){var n=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,a=e.match(n);if(a){var o=parseFloat(a[4]),l=$t(parseInt(a[1]),0,360),c=$t(parseFloat(a[2]),0,100),d=$t(parseFloat(a[3]),0,100),f=$t(isNaN(o)?1:o,0,1);return[l,c,d,f]}}}function Pn(e){var n=Ie(e);return n&&n.slice(0,3)}function On(e){var n=bt(e);return n&&n.slice(0,3)}function Tu(e){var n=Ie(e);if(n)return n[3];if(n=bt(e))return n[3];if(n=re(e))return n[3]}function Ru(e,a){var a=a!==void 0&&e.length===3?a:e[3];return"#"+vi(e[0])+vi(e[1])+vi(e[2])+(a>=0&&a<1?vi(Math.round(a*255)):"")}function Lu(e,n){return n<1||e[3]&&e[3]<1?go(e,n):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function go(e,n){return n===void 0&&(n=e[3]!==void 0?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+n+")"}function Pu(e,n){if(n<1||e[3]&&e[3]<1)return mo(e,n);var a=Math.round(e[0]/255*100),o=Math.round(e[1]/255*100),l=Math.round(e[2]/255*100);return"rgb("+a+"%, "+o+"%, "+l+"%)"}function mo(e,n){var a=Math.round(e[0]/255*100),o=Math.round(e[1]/255*100),l=Math.round(e[2]/255*100);return"rgba("+a+"%, "+o+"%, "+l+"%, "+(n||e[3]||1)+")"}function Ou(e,n){return n<1||e[3]&&e[3]<1?vo(e,n):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function vo(e,n){return n===void 0&&(n=e[3]!==void 0?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+n+")"}function Eu(e,n){return n===void 0&&(n=e[3]!==void 0?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(n!==void 0&&n!==1?", "+n:"")+")"}function Fu(e){return po[e.slice(0,3)]}function $t(e,n,a){return Math.min(Math.max(n,e),a)}function vi(e){var n=e.toString(16).toUpperCase();return n.length<2?"0"+n:n}var po={};for(var bo in ie)po[ie[bo]]=bo;var Tt=function(e){if(e instanceof Tt)return e;if(!(this instanceof Tt))return new Tt(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var n;typeof e=="string"?(n=pt.getRgba(e),n?this.setValues("rgb",n):(n=pt.getHsla(e))?this.setValues("hsl",n):(n=pt.getHwb(e))&&this.setValues("hwb",n)):typeof e=="object"&&(n=e,n.r!==void 0||n.red!==void 0?this.setValues("rgb",n):n.l!==void 0||n.lightness!==void 0?this.setValues("hsl",n):n.v!==void 0||n.value!==void 0?this.setValues("hsv",n):n.w!==void 0||n.whiteness!==void 0?this.setValues("hwb",n):(n.c!==void 0||n.cyan!==void 0)&&this.setValues("cmyk",n))};Tt.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return e.alpha!==1?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return e===void 0?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return pt.hexString(this.values.rgb)},rgbString:function(){return pt.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return pt.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return pt.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return pt.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return pt.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return pt.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return pt.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,n=[],a=0;a<e.length;a++){var o=e[a]/255;n[a]=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(e){var n=this.luminosity(),a=e.luminosity();return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)},level:function(e){var n=this.contrast(e);return n>=7.1?"AAA":n>=4.5?"AA":""},dark:function(){var e=this.values.rgb,n=(e[0]*299+e[1]*587+e[2]*114)/1e3;return n<128},light:function(){return!this.dark()},negate:function(){for(var e=[],n=0;n<3;n++)e[n]=255-this.values.rgb[n];return this.setValues("rgb",e),this},lighten:function(e){var n=this.values.hsl;return n[2]+=n[2]*e,this.setValues("hsl",n),this},darken:function(e){var n=this.values.hsl;return n[2]-=n[2]*e,this.setValues("hsl",n),this},saturate:function(e){var n=this.values.hsl;return n[1]+=n[1]*e,this.setValues("hsl",n),this},desaturate:function(e){var n=this.values.hsl;return n[1]-=n[1]*e,this.setValues("hsl",n),this},whiten:function(e){var n=this.values.hwb;return n[1]+=n[1]*e,this.setValues("hwb",n),this},blacken:function(e){var n=this.values.hwb;return n[2]+=n[2]*e,this.setValues("hwb",n),this},greyscale:function(){var e=this.values.rgb,n=e[0]*.3+e[1]*.59+e[2]*.11;return this.setValues("rgb",[n,n,n]),this},clearer:function(e){var n=this.values.alpha;return this.setValues("alpha",n-n*e),this},opaquer:function(e){var n=this.values.alpha;return this.setValues("alpha",n+n*e),this},rotate:function(e){var n=this.values.hsl,a=(n[0]+e)%360;return n[0]=a<0?360+a:a,this.setValues("hsl",n),this},mix:function(e,n){var a=this,o=e,l=n===void 0?.5:n,c=2*l-1,d=a.alpha()-o.alpha(),f=((c*d===-1?c:(c+d)/(1+c*d))+1)/2,h=1-f;return this.rgb(f*a.red()+h*o.red(),f*a.green()+h*o.green(),f*a.blue()+h*o.blue()).alpha(a.alpha()*l+o.alpha()*(1-l))},toJSON:function(){return this.rgb()},clone:function(){var e=new Tt,n=this.values,a=e.values,o,l;for(var c in n)n.hasOwnProperty(c)&&(o=n[c],l={}.toString.call(o),l==="[object Array]"?a[c]=o.slice(0):l==="[object Number]"?a[c]=o:console.error("unexpected color value:",o));return e}},Tt.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Tt.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Tt.prototype.getValues=function(e){for(var n=this.values,a={},o=0;o<e.length;o++)a[e.charAt(o)]=n[e][o];return n.alpha!==1&&(a.a=n.alpha),a},Tt.prototype.setValues=function(e,n){var a=this.values,o=this.spaces,l=this.maxes,c=1,d;if(this.valid=!0,e==="alpha")c=n;else if(n.length)a[e]=n.slice(0,e.length),c=n[e.length];else if(n[e.charAt(0)]!==void 0){for(d=0;d<e.length;d++)a[e][d]=n[e.charAt(d)];c=n.a}else if(n[o[e][0]]!==void 0){var f=o[e];for(d=0;d<e.length;d++)a[e][d]=n[f[d]];c=n.alpha}if(a.alpha=Math.max(0,Math.min(1,c===void 0?a.alpha:c)),e==="alpha")return!1;var h;for(d=0;d<e.length;d++)h=Math.max(0,Math.min(l[e][d],a[e][d])),a[e][d]=Math.round(h);for(var m in o)m!==e&&(a[m]=Ae[e][m](a[e]));return!0},Tt.prototype.setSpace=function(e,n){var a=n[0];return a===void 0?this.getValues(e):(typeof a=="number"&&(a=Array.prototype.slice.call(n)),this.setValues(e,a),this)},Tt.prototype.setChannel=function(e,n,a){var o=this.values[e];return a===void 0?o[n]:a===o[n]?this:(o[n]=a,this.setValues(e,o),this)},typeof window<"u"&&(window.Color=Tt);var pi=Tt;function yo(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}var q={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return e===null||typeof e>"u"},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var n=Object.prototype.toString.call(e);return n.substr(0,7)==="[object"&&n.substr(-6)==="Array]"},isObject:function(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"},isFinite:function(e){return(typeof e=="number"||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,n){return typeof e>"u"?n:e},valueAtIndexOrDefault:function(e,n,a){return q.valueOrDefault(q.isArray(e)?e[n]:e,a)},callback:function(e,n,a){if(e&&typeof e.call=="function")return e.apply(a,n)},each:function(e,n,a,o){var l,c,d;if(q.isArray(e))if(c=e.length,o)for(l=c-1;l>=0;l--)n.call(a,e[l],l);else for(l=0;l<c;l++)n.call(a,e[l],l);else if(q.isObject(e))for(d=Object.keys(e),c=d.length,l=0;l<c;l++)n.call(a,e[d[l]],d[l])},arrayEquals:function(e,n){var a,o,l,c;if(!e||!n||e.length!==n.length)return!1;for(a=0,o=e.length;a<o;++a)if(l=e[a],c=n[a],l instanceof Array&&c instanceof Array){if(!q.arrayEquals(l,c))return!1}else if(l!==c)return!1;return!0},clone:function(e){if(q.isArray(e))return e.map(q.clone);if(q.isObject(e)){for(var n=Object.create(e),a=Object.keys(e),o=a.length,l=0;l<o;++l)n[a[l]]=q.clone(e[a[l]]);return n}return e},_merger:function(e,n,a,o){if(yo(e)){var l=n[e],c=a[e];q.isObject(l)&&q.isObject(c)?q.merge(l,c,o):n[e]=q.clone(c)}},_mergerIf:function(e,n,a){if(yo(e)){var o=n[e],l=a[e];q.isObject(o)&&q.isObject(l)?q.mergeIf(o,l):n.hasOwnProperty(e)||(n[e]=q.clone(l))}},merge:function(e,n,a){var o=q.isArray(n)?n:[n],l=o.length,c,d,f,h,m;if(!q.isObject(e))return e;for(a=a||{},c=a.merger||q._merger,d=0;d<l;++d)if(n=o[d],!!q.isObject(n))for(f=Object.keys(n),m=0,h=f.length;m<h;++m)c(f[m],e,n,a);return e},mergeIf:function(e,n){return q.merge(e,n,{merger:q._mergerIf})},extend:Object.assign||function(e){return q.merge(e,[].slice.call(arguments,1),{merger:function(n,a,o){a[n]=o[n]}})},inherits:function(e){var n=this,a=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},o=function(){this.constructor=a};return o.prototype=n.prototype,a.prototype=new o,a.extend=q.inherits,e&&q.extend(a.prototype,e),a.__super__=n.prototype,a},_deprecated:function(e,n,a,o){n!==void 0&&console.warn(e+': "'+a+'" is deprecated. Please use "'+o+'" instead')}},Ot=q;q.callCallback=q.callback,q.indexOf=function(e,n,a){return Array.prototype.indexOf.call(e,n,a)},q.getValueOrDefault=q.valueOrDefault,q.getValueAtIndexOrDefault=q.valueAtIndexOrDefault;var En={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e=e-1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e=e-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e=e-1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return e===0?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return e===1?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return e===0?0:e===1?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e=e-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var n=1.70158,a=0,o=1;return e===0?0:e===1?1:(a||(a=.3),n=a/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/a)))},easeOutElastic:function(e){var n=1.70158,a=0,o=1;return e===0?0:e===1?1:(a||(a=.3),n=a/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*e)*Math.sin((e-n)*(2*Math.PI)/a)+1)},easeInOutElastic:function(e){var n=1.70158,a=0,o=1;return e===0?0:(e/=.5)===2?1:(a||(a=.45),n=a/(2*Math.PI)*Math.asin(1/o),e<1?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/a)):o*Math.pow(2,-10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/a)*.5+1)},easeInBack:function(e){var n=1.70158;return e*e*((n+1)*e-n)},easeOutBack:function(e){var n=1.70158;return(e=e-1)*e*((n+1)*e+n)+1},easeInOutBack:function(e){var n=1.70158;return(e/=.5)<1?.5*(e*e*(((n*=1.525)+1)*e-n)):.5*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)},easeInBounce:function(e){return 1-En.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?En.easeInBounce(e*2)*.5:En.easeOutBounce(e*2-1)*.5+.5}},Iu={effects:En};Ot.easingEffects=En;var kt=Math.PI,Nu=kt/180,Bu=kt*2,Et=kt/2,Fn=kt/4,xo=kt*2/3,bi={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,n,a,o,l,c){if(c){var d=Math.min(c,l/2,o/2),f=n+d,h=a+d,m=n+o-d,v=a+l-d;e.moveTo(n,h),f<m&&h<v?(e.arc(f,h,d,-kt,-Et),e.arc(m,h,d,-Et,0),e.arc(m,v,d,0,Et),e.arc(f,v,d,Et,kt)):f<m?(e.moveTo(f,a),e.arc(m,h,d,-Et,Et),e.arc(f,h,d,Et,kt+Et)):h<v?(e.arc(f,h,d,-kt,0),e.arc(f,v,d,0,kt)):e.arc(f,h,d,-kt,kt),e.closePath(),e.moveTo(n,a)}else e.rect(n,a,o,l)},drawPoint:function(e,n,a,o,l,c){var d,f,h,m,v,p=(c||0)*Nu;if(n&&typeof n=="object"&&(d=n.toString(),d==="[object HTMLImageElement]"||d==="[object HTMLCanvasElement]")){e.save(),e.translate(o,l),e.rotate(p),e.drawImage(n,-n.width/2,-n.height/2,n.width,n.height),e.restore();return}if(!(isNaN(a)||a<=0)){switch(e.beginPath(),n){default:e.arc(o,l,a,0,Bu),e.closePath();break;case"triangle":e.moveTo(o+Math.sin(p)*a,l-Math.cos(p)*a),p+=xo,e.lineTo(o+Math.sin(p)*a,l-Math.cos(p)*a),p+=xo,e.lineTo(o+Math.sin(p)*a,l-Math.cos(p)*a),e.closePath();break;case"rectRounded":v=a*.516,m=a-v,f=Math.cos(p+Fn)*m,h=Math.sin(p+Fn)*m,e.arc(o-f,l-h,v,p-kt,p-Et),e.arc(o+h,l-f,v,p-Et,p),e.arc(o+f,l+h,v,p,p+Et),e.arc(o-h,l+f,v,p+Et,p+kt),e.closePath();break;case"rect":if(!c){m=Math.SQRT1_2*a,e.rect(o-m,l-m,2*m,2*m);break}p+=Fn;case"rectRot":f=Math.cos(p)*a,h=Math.sin(p)*a,e.moveTo(o-f,l-h),e.lineTo(o+h,l-f),e.lineTo(o+f,l+h),e.lineTo(o-h,l+f),e.closePath();break;case"crossRot":p+=Fn;case"cross":f=Math.cos(p)*a,h=Math.sin(p)*a,e.moveTo(o-f,l-h),e.lineTo(o+f,l+h),e.moveTo(o+h,l-f),e.lineTo(o-h,l+f);break;case"star":f=Math.cos(p)*a,h=Math.sin(p)*a,e.moveTo(o-f,l-h),e.lineTo(o+f,l+h),e.moveTo(o+h,l-f),e.lineTo(o-h,l+f),p+=Fn,f=Math.cos(p)*a,h=Math.sin(p)*a,e.moveTo(o-f,l-h),e.lineTo(o+f,l+h),e.moveTo(o+h,l-f),e.lineTo(o-h,l+f);break;case"line":f=Math.cos(p)*a,h=Math.sin(p)*a,e.moveTo(o-f,l-h),e.lineTo(o+f,l+h);break;case"dash":e.moveTo(o,l),e.lineTo(o+Math.cos(p)*a,l+Math.sin(p)*a);break}e.fill(),e.stroke()}},_isPointInArea:function(e,n){var a=1e-6;return e.x>n.left-a&&e.x<n.right+a&&e.y>n.top-a&&e.y<n.bottom+a},clipArea:function(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,n,a,o){var l=a.steppedLine;if(l){if(l==="middle"){var c=(n.x+a.x)/2;e.lineTo(c,o?a.y:n.y),e.lineTo(c,o?n.y:a.y)}else l==="after"&&!o||l!=="after"&&o?e.lineTo(n.x,a.y):e.lineTo(a.x,n.y);e.lineTo(a.x,a.y);return}if(!a.tension){e.lineTo(a.x,a.y);return}e.bezierCurveTo(o?n.controlPointPreviousX:n.controlPointNextX,o?n.controlPointPreviousY:n.controlPointNextY,o?a.controlPointNextX:a.controlPointPreviousX,o?a.controlPointNextY:a.controlPointPreviousY,a.x,a.y)}},Wu=bi;Ot.clear=bi.clear,Ot.drawRoundedRectangle=function(e){e.beginPath(),bi.roundedRect.apply(bi,arguments)};var Ao={_set:function(e,n){return Ot.merge(this[e]||(this[e]={}),n)}};Ao._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var F=Ao,yi=Ot.valueOrDefault;function zu(e){return!e||Ot.isNullOrUndef(e.size)||Ot.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}var ju={toLineHeight:function(e,n){var a=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!a||a[1]==="normal")return n*1.2;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100;break}return n*e},toPadding:function(e){var n,a,o,l;return Ot.isObject(e)?(n=+e.top||0,a=+e.right||0,o=+e.bottom||0,l=+e.left||0):n=a=o=l=+e||0,{top:n,right:a,bottom:o,left:l,height:n+o,width:l+a}},_parseFont:function(e){var n=F.global,a=yi(e.fontSize,n.defaultFontSize),o={family:yi(e.fontFamily,n.defaultFontFamily),lineHeight:Ot.options.toLineHeight(yi(e.lineHeight,n.defaultLineHeight),a),size:a,style:yi(e.fontStyle,n.defaultFontStyle),weight:null,string:""};return o.string=zu(o),o},resolve:function(e,n,a,o){var l=!0,c,d,f;for(c=0,d=e.length;c<d;++c)if(f=e[c],f!==void 0&&(n!==void 0&&typeof f=="function"&&(f=f(n),l=!1),a!==void 0&&Ot.isArray(f)&&(f=f[a],l=!1),f!==void 0))return o&&!l&&(o.cacheable=!1),f}},ko={_factorize:function(e){var n=[],a=Math.sqrt(e),o;for(o=1;o<a;o++)e%o===0&&(n.push(o),n.push(e/o));return a===(a|0)&&n.push(a),n.sort(function(l,c){return l-c}).pop(),n},log10:Math.log10||function(e){var n=Math.log(e)*Math.LOG10E,a=Math.round(n),o=e===Math.pow(10,a);return o?a:n}},Hu=ko;Ot.log10=ko.log10;var Yu=function(e,n){return{x:function(a){return e+e+n-a},setWidth:function(a){n=a},textAlign:function(a){return a==="center"?a:a==="right"?"left":"right"},xPlus:function(a,o){return a-o},leftForLtr:function(a,o){return a-o}}},Vu=function(){return{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,n){return e+n},leftForLtr:function(e,n){return e}}},Uu=function(e,n,a){return e?Yu(n,a):Vu()},qu=function(e,n){var a,o;(n==="ltr"||n==="rtl")&&(a=e.canvas.style,o=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",n,"important"),e.prevTextDirection=o)},Gu=function(e){var n=e.prevTextDirection;n!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))},$u={getRtlAdapter:Uu,overrideTextDirection:qu,restoreTextDirection:Gu},y=Ot,Ku=Iu,Ju=Wu,Zu=ju,Xu=Hu,Qu=$u;y.easing=Ku,y.canvas=Ju,y.options=Zu,y.math=Xu,y.rtl=Qu;function tc(e,n,a,o){var l=Object.keys(a),c,d,f,h,m,v,p,x,A;for(c=0,d=l.length;c<d;++c)if(f=l[c],v=a[f],n.hasOwnProperty(f)||(n[f]=v),h=n[f],!(h===v||f[0]==="_")){if(e.hasOwnProperty(f)||(e[f]=h),m=e[f],p=typeof v,p===typeof m){if(p==="string"){if(x=pi(m),x.valid&&(A=pi(v),A.valid)){n[f]=A.mix(x,o).rgbString();continue}}else if(y.isFinite(m)&&y.isFinite(v)){n[f]=m+(v-m)*o;continue}}n[f]=v}}var dr=function(e){y.extend(this,e),this.initialize.apply(this,arguments)};y.extend(dr.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=y.extend({},e._model)),e._start={},e},transition:function(e){var n=this,a=n._model,o=n._start,l=n._view;return!a||e===1?(n._view=y.extend({},a),n._start=null,n):(l||(l=n._view={}),o||(o=n._start={}),tc(o,l,a,e),n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return y.isNumber(this._model.x)&&y.isNumber(this._model.y)}}),dr.extend=y.inherits;var Kt=dr,hr=Kt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),fr=hr;Object.defineProperty(hr.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(hr.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),F._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:y.noop,onComplete:y.noop}});var gr={animations:[],request:null,addAnimation:function(e,n,a,o){var l=this.animations,c,d;for(n.chart=e,n.startTime=Date.now(),n.duration=a,o||(e.animating=!0),c=0,d=l.length;c<d;++c)if(l[c].chart===e){l[c]=n;return}l.push(n),l.length===1&&this.requestAnimationFrame()},cancelAnimation:function(e){var n=y.findIndex(this.animations,function(a){return a.chart===e});n!==-1&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;e.request===null&&(e.request=y.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e=this.animations,n,a,o,l,c=0;c<e.length;)n=e[c],a=n.chart,o=n.numSteps,l=Math.floor((Date.now()-n.startTime)/n.duration*o)+1,n.currentStep=Math.min(l,o),y.callback(n.render,[a,n],a),y.callback(n.onAnimationProgress,[n],a),n.currentStep>=o?(y.callback(n.onAnimationComplete,[n],a),a.animating=!1,e.splice(c,1)):++c}},un=y.options.resolve,wo=["push","pop","shift","splice","unshift"];function ec(e,n){if(e._chartjs){e._chartjs.listeners.push(n);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),wo.forEach(function(a){var o="onData"+a.charAt(0).toUpperCase()+a.slice(1),l=e[a];Object.defineProperty(e,a,{configurable:!0,enumerable:!1,value:function(){var c=Array.prototype.slice.call(arguments),d=l.apply(this,c);return y.each(e._chartjs.listeners,function(f){typeof f[o]=="function"&&f[o].apply(f,c)}),d}})})}function _o(e,n){var a=e._chartjs;if(a){var o=a.listeners,l=o.indexOf(n);l!==-1&&o.splice(l,1),!(o.length>0)&&(wo.forEach(function(c){delete e[c]}),delete e._chartjs)}}var mr=function(e,n){this.initialize(e,n)};y.extend(mr.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,n){var a=this;a.chart=e,a.index=n,a.linkScales(),a.addElements(),a._type=a.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,n=e.getMeta(),a=e.chart,o=a.scales,l=e.getDataset(),c=a.options.scales;(n.xAxisID===null||!(n.xAxisID in o)||l.xAxisID)&&(n.xAxisID=l.xAxisID||c.xAxes[0].id),(n.yAxisID===null||!(n.yAxisID in o)||l.yAxisID)&&(n.yAxisID=l.yAxisID||c.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&_o(this._data,this)},createMetaDataset:function(){var e=this,n=e.datasetElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var n=this,a=n.dataElementType;return a&&new a({_chart:n.chart,_datasetIndex:n.index,_index:e})},addElements:function(){var e=this,n=e.getMeta(),a=e.getDataset().data||[],o=n.data,l,c;for(l=0,c=a.length;l<c;++l)o[l]=o[l]||e.createMetaData(l);n.dataset=n.dataset||e.createMetaDataset()},addElementAndReset:function(e){var n=this.createMetaData(e);this.getMeta().data.splice(e,0,n),this.updateElement(n,e,!0)},buildOrUpdateElements:function(){var e=this,n=e.getDataset(),a=n.data||(n.data=[]);e._data!==a&&(e._data&&_o(e._data,e),a&&Object.isExtensible(a)&&ec(a,e),e._data=a),e.resyncElements()},_configure:function(){var e=this;e._config=y.merge(Object.create(null),[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(n,a,o){n!=="_meta"&&n!=="data"&&y._merger(n,a,o)}})},_update:function(e){var n=this;n._configure(),n._cachedDataOpts=null,n.update(e)},update:y.noop,transition:function(e){for(var n=this.getMeta(),a=n.data||[],o=a.length,l=0;l<o;++l)a[l].transition(e);n.dataset&&n.dataset.transition(e)},draw:function(){var e=this.getMeta(),n=e.data||[],a=n.length,o=0;for(e.dataset&&e.dataset.draw();o<a;++o)n[o].draw()},getStyle:function(e){var n=this,a=n.getMeta(),o=a.dataset,l;return n._configure(),o&&e===void 0?l=n._resolveDatasetElementOptions(o||{}):(e=e||0,l=n._resolveDataElementOptions(a.data[e]||{},e)),(l.fill===!1||l.fill===null)&&(l.backgroundColor=l.borderColor),l},_resolveDatasetElementOptions:function(e,n){var a=this,o=a.chart,l=a._config,c=e.custom||{},d=o.options.elements[a.datasetElementType.prototype._type]||{},f=a._datasetElementOptions,h={},m,v,p,x,A={chart:o,dataset:a.getDataset(),datasetIndex:a.index,hover:n};for(m=0,v=f.length;m<v;++m)p=f[m],x=n?"hover"+p.charAt(0).toUpperCase()+p.slice(1):p,h[p]=un([c[x],l[x],d[x]],A);return h},_resolveDataElementOptions:function(e,n){var a=this,o=e&&e.custom,l=a._cachedDataOpts;if(l&&!o)return l;var c=a.chart,d=a._config,f=c.options.elements[a.dataElementType.prototype._type]||{},h=a._dataElementOptions,m={},v={chart:c,dataIndex:n,dataset:a.getDataset(),datasetIndex:a.index},p={cacheable:!o},x,A,w,_;if(o=o||{},y.isArray(h))for(A=0,w=h.length;A<w;++A)_=h[A],m[_]=un([o[_],d[_],f[_]],v,n,p);else for(x=Object.keys(h),A=0,w=x.length;A<w;++A)_=x[A],m[_]=un([o[_],d[h[_]],d[_],f[_]],v,n,p);return p.cacheable&&(a._cachedDataOpts=Object.freeze(m)),m},removeHoverStyle:function(e){y.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],a=e._index,o=e.custom||{},l=e._model,c=y.getHoverColor;e.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth},l.backgroundColor=un([o.hoverBackgroundColor,n.hoverBackgroundColor,c(l.backgroundColor)],void 0,a),l.borderColor=un([o.hoverBorderColor,n.hoverBorderColor,c(l.borderColor)],void 0,a),l.borderWidth=un([o.hoverBorderWidth,n.hoverBorderWidth,l.borderWidth],void 0,a)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e=this.getMeta().dataset,n={},a,o,l,c,d,f;if(e){for(f=e._model,d=this._resolveDatasetElementOptions(e,!0),c=Object.keys(d),a=0,o=c.length;a<o;++a)l=c[a],n[l]=f[l],f[l]=d[l];e.$previousStyle=n}},resyncElements:function(){var e=this,n=e.getMeta(),a=e.getDataset().data,o=n.data.length,l=a.length;l<o?n.data.splice(l,o-l):l>o&&e.insertElements(o,l-o)},insertElements:function(e,n){for(var a=0;a<n;++a)this.addElementAndReset(e+a)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,n){this.getMeta().data.splice(e,n),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),mr.extend=y.inherits;var Ft=mr,Jt=Math.PI*2;F._set("global",{elements:{arc:{backgroundColor:F.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function So(e,n){var a=n.startAngle,o=n.endAngle,l=n.pixelMargin,c=l/n.outerRadius,d=n.x,f=n.y;e.beginPath(),e.arc(d,f,n.outerRadius,a-c,o+c),n.innerRadius>l?(c=l/n.innerRadius,e.arc(d,f,n.innerRadius-l,o+c,a-c,!0)):e.arc(d,f,l,o+Math.PI/2,a-Math.PI/2),e.closePath(),e.clip()}function nc(e,n,a,o){var l=a.endAngle,c;for(o&&(a.endAngle=a.startAngle+Jt,So(e,a),a.endAngle=l,a.endAngle===a.startAngle&&a.fullCircles&&(a.endAngle+=Jt,a.fullCircles--)),e.beginPath(),e.arc(a.x,a.y,a.innerRadius,a.startAngle+Jt,a.startAngle,!0),c=0;c<a.fullCircles;++c)e.stroke();for(e.beginPath(),e.arc(a.x,a.y,n.outerRadius,a.startAngle,a.startAngle+Jt),c=0;c<a.fullCircles;++c)e.stroke()}function ic(e,n,a){var o=n.borderAlign==="inner";o?(e.lineWidth=n.borderWidth*2,e.lineJoin="round"):(e.lineWidth=n.borderWidth,e.lineJoin="bevel"),a.fullCircles&&nc(e,n,a,o),o&&So(e,a),e.beginPath(),e.arc(a.x,a.y,n.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),e.stroke()}var rc=Kt.extend({_type:"arc",inLabelRange:function(e){var n=this._view;return n?Math.pow(e-n.x,2)<Math.pow(n.radius+n.hoverRadius,2):!1},inRange:function(e,n){var a=this._view;if(a){for(var o=y.getAngleFromPoint(a,{x:e,y:n}),l=o.angle,c=o.distance,d=a.startAngle,f=a.endAngle;f<d;)f+=Jt;for(;l>f;)l-=Jt;for(;l<d;)l+=Jt;var h=l>=d&&l<=f,m=c>=a.innerRadius&&c<=a.outerRadius;return h&&m}return!1},getCenterPoint:function(){var e=this._view,n=(e.startAngle+e.endAngle)/2,a=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(n)*a,y:e.y+Math.sin(n)*a}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,n=e.startAngle+(e.endAngle-e.startAngle)/2,a=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(n)*a,y:e.y+Math.sin(n)*a}},draw:function(){var e=this._chart.ctx,n=this._view,a=n.borderAlign==="inner"?.33:0,o={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-a,0),pixelMargin:a,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/Jt)},l;if(e.save(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,o.fullCircles){for(o.endAngle=o.startAngle+Jt,e.beginPath(),e.arc(o.x,o.y,o.outerRadius,o.startAngle,o.endAngle),e.arc(o.x,o.y,o.innerRadius,o.endAngle,o.startAngle,!0),e.closePath(),l=0;l<o.fullCircles;++l)e.fill();o.endAngle=o.startAngle+n.circumference%Jt}e.beginPath(),e.arc(o.x,o.y,o.outerRadius,o.startAngle,o.endAngle),e.arc(o.x,o.y,o.innerRadius,o.endAngle,o.startAngle,!0),e.closePath(),e.fill(),n.borderWidth&&ic(e,n,o),e.restore()}}),Co=y.valueOrDefault,Do=F.global.defaultColor;F._set("global",{elements:{line:{tension:.4,backgroundColor:Do,borderWidth:3,borderColor:Do,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ac=Kt.extend({_type:"line",draw:function(){var e=this,n=e._view,a=e._chart.ctx,o=n.spanGaps,l=e._children.slice(),c=F.global,d=c.elements.line,f=-1,h=e._loop,m,v,p;if(l.length){if(e._loop){for(m=0;m<l.length;++m)if(v=y.previousItem(l,m),!l[m]._view.skip&&v._view.skip){l=l.slice(m).concat(l.slice(0,m)),h=o;break}h&&l.push(l[0])}for(a.save(),a.lineCap=n.borderCapStyle||d.borderCapStyle,a.setLineDash&&a.setLineDash(n.borderDash||d.borderDash),a.lineDashOffset=Co(n.borderDashOffset,d.borderDashOffset),a.lineJoin=n.borderJoinStyle||d.borderJoinStyle,a.lineWidth=Co(n.borderWidth,d.borderWidth),a.strokeStyle=n.borderColor||c.defaultColor,a.beginPath(),p=l[0]._view,p.skip||(a.moveTo(p.x,p.y),f=0),m=1;m<l.length;++m)p=l[m]._view,v=f===-1?y.previousItem(l,m):l[f],p.skip||(f!==m-1&&!o||f===-1?a.moveTo(p.x,p.y):y.canvas.lineTo(a,v._view,p),f=m);h&&a.closePath(),a.stroke(),a.restore()}}}),oc=y.valueOrDefault,Mo=F.global.defaultColor;F._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Mo,borderColor:Mo,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function To(e){var n=this._view;return n?Math.abs(e-n.x)<n.radius+n.hitRadius:!1}function sc(e){var n=this._view;return n?Math.abs(e-n.y)<n.radius+n.hitRadius:!1}var lc=Kt.extend({_type:"point",inRange:function(e,n){var a=this._view;return a?Math.pow(e-a.x,2)+Math.pow(n-a.y,2)<Math.pow(a.hitRadius+a.radius,2):!1},inLabelRange:To,inXRange:To,inYRange:sc,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var n=this._view,a=this._chart.ctx,o=n.pointStyle,l=n.rotation,c=n.radius,d=n.x,f=n.y,h=F.global,m=h.defaultColor;n.skip||(e===void 0||y.canvas._isPointInArea(n,e))&&(a.strokeStyle=n.borderColor||m,a.lineWidth=oc(n.borderWidth,h.elements.point.borderWidth),a.fillStyle=n.backgroundColor||m,y.canvas.drawPoint(a,o,c,d,f,l))}}),Ro=F.global.defaultColor;F._set("global",{elements:{rectangle:{backgroundColor:Ro,borderColor:Ro,borderSkipped:"bottom",borderWidth:0}}});function xi(e){return e&&e.width!==void 0}function Lo(e){var n,a,o,l,c;return xi(e)?(c=e.width/2,n=e.x-c,a=e.x+c,o=Math.min(e.y,e.base),l=Math.max(e.y,e.base)):(c=e.height/2,n=Math.min(e.x,e.base),a=Math.max(e.x,e.base),o=e.y-c,l=e.y+c),{left:n,top:o,right:a,bottom:l}}function Po(e,n,a){return e===n?a:e===a?n:e}function uc(e){var n=e.borderSkipped,a={};return n&&(e.horizontal?e.base>e.x&&(n=Po(n,"left","right")):e.base<e.y&&(n=Po(n,"bottom","top")),a[n]=!0),a}function cc(e,n,a){var o=e.borderWidth,l=uc(e),c,d,f,h;return y.isObject(o)?(c=+o.top||0,d=+o.right||0,f=+o.bottom||0,h=+o.left||0):c=d=f=h=+o||0,{t:l.top||c<0?0:c>a?a:c,r:l.right||d<0?0:d>n?n:d,b:l.bottom||f<0?0:f>a?a:f,l:l.left||h<0?0:h>n?n:h}}function dc(e){var n=Lo(e),a=n.right-n.left,o=n.bottom-n.top,l=cc(e,a/2,o/2);return{outer:{x:n.left,y:n.top,w:a,h:o},inner:{x:n.left+l.l,y:n.top+l.t,w:a-l.l-l.r,h:o-l.t-l.b}}}function In(e,n,a){var o=n===null,l=a===null,c=!e||o&&l?!1:Lo(e);return c&&(o||n>=c.left&&n<=c.right)&&(l||a>=c.top&&a<=c.bottom)}var hc=Kt.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,n=this._view,a=dc(n),o=a.outer,l=a.inner;e.fillStyle=n.backgroundColor,e.fillRect(o.x,o.y,o.w,o.h),!(o.w===l.w&&o.h===l.h)&&(e.save(),e.beginPath(),e.rect(o.x,o.y,o.w,o.h),e.clip(),e.fillStyle=n.borderColor,e.rect(l.x,l.y,l.w,l.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,n){return In(this._view,e,n)},inLabelRange:function(e,n){var a=this._view;return xi(a)?In(a,e,null):In(a,null,n)},inXRange:function(e){return In(this._view,e,null)},inYRange:function(e){return In(this._view,null,e)},getCenterPoint:function(){var e=this._view,n,a;return xi(e)?(n=e.x,a=(e.y+e.base)/2):(n=(e.x+e.base)/2,a=e.y),{x:n,y:a}},getArea:function(){var e=this._view;return xi(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),wt={},fc=rc,gc=ac,mc=lc,vc=hc;wt.Arc=fc,wt.Line=gc,wt.Point=mc,wt.Rectangle=vc;var Nn=y._deprecated,cn=y.valueOrDefault;F._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),F._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function pc(e,n){var a=e._length,o,l,c,d;for(c=1,d=n.length;c<d;++c)a=Math.min(a,Math.abs(n[c]-n[c-1]));for(c=0,d=e.getTicks().length;c<d;++c)l=e.getPixelForTick(c),a=c>0?Math.min(a,Math.abs(l-o)):a,o=l;return a}function bc(e,n,a){var o=a.barThickness,l=n.stackCount,c=n.pixels[e],d=y.isNullOrUndef(o)?pc(n.scale,n.pixels):-1,f,h;return y.isNullOrUndef(o)?(f=d*a.categoryPercentage,h=a.barPercentage):(f=o*l,h=1),{chunk:f/l,ratio:h,start:c-f/2}}function yc(e,n,a){var o=n.pixels,l=o[e],c=e>0?o[e-1]:null,d=e<o.length-1?o[e+1]:null,f=a.categoryPercentage,h,m;return c===null&&(c=l-(d===null?n.end-n.start:d-l)),d===null&&(d=l+l-c),h=l-(l-Math.min(c,d))/2*f,m=Math.abs(d-c)/2*f,{chunk:m/n.stackCount,ratio:a.barPercentage,start:h}}var Oo=Ft.extend({dataElementType:wt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e=this,n,a;Ft.prototype.initialize.apply(e,arguments),n=e.getMeta(),n.stack=e.getDataset().stack,n.bar=!0,a=e._getIndexScale().options,Nn("bar chart",a.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Nn("bar chart",a.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Nn("bar chart",a.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Nn("bar chart",e._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Nn("bar chart",a.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var n=this,a=n.getMeta().data,o,l;for(n._ruler=n.getRuler(),o=0,l=a.length;o<l;++o)n.updateElement(a[o],o,e)},updateElement:function(e,n,a){var o=this,l=o.getMeta(),c=o.getDataset(),d=o._resolveDataElementOptions(e,n);e._xScale=o.getScaleForId(l.xAxisID),e._yScale=o.getScaleForId(l.yAxisID),e._datasetIndex=o.index,e._index=n,e._model={backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderSkipped:d.borderSkipped,borderWidth:d.borderWidth,datasetLabel:c.label,label:o.chart.data.labels[n]},y.isArray(c.data[n])&&(e._model.borderSkipped=null),o._updateElementGeometry(e,n,a,d),e.pivot()},_updateElementGeometry:function(e,n,a,o){var l=this,c=e._model,d=l._getValueScale(),f=d.getBasePixel(),h=d.isHorizontal(),m=l._ruler||l.getRuler(),v=l.calculateBarValuePixels(l.index,n,o),p=l.calculateBarIndexPixels(l.index,n,m,o);c.horizontal=h,c.base=a?f:v.base,c.x=h?a?f:v.head:p.center,c.y=h?p.center:a?f:v.head,c.height=h?p.size:void 0,c.width=h?void 0:p.size},_getStacks:function(e){var n=this,a=n._getIndexScale(),o=a._getMatchingVisibleMetas(n._type),l=a.options.stacked,c=o.length,d=[],f,h;for(f=0;f<c&&(h=o[f],(l===!1||d.indexOf(h.stack)===-1||l===void 0&&h.stack===void 0)&&d.push(h.stack),h.index!==e);++f);return d},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,n){var a=this._getStacks(e),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o},getRuler:function(){var e=this,n=e._getIndexScale(),a=[],o,l;for(o=0,l=e.getMeta().data.length;o<l;++o)a.push(n.getPixelForValue(null,o,e.index));return{pixels:a,start:n._startPixel,end:n._endPixel,stackCount:e.getStackCount(),scale:n}},calculateBarValuePixels:function(e,n,a){var o=this,l=o.chart,c=o._getValueScale(),d=c.isHorizontal(),f=l.data.datasets,h=c._getMatchingVisibleMetas(o._type),m=c._parseValue(f[e].data[n]),v=a.minBarLength,p=c.options.stacked,x=o.getMeta().stack,A=m.start===void 0?0:m.max>=0&&m.min>=0?m.min:m.max,w=m.start===void 0?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,_=h.length,S,M,L,O,B,N,K;if(p||p===void 0&&x!==void 0)for(S=0;S<_&&(M=h[S],M.index!==e);++S)M.stack===x&&(K=c._parseValue(f[M.index].data[n]),L=K.start===void 0?K.end:K.min>=0&&K.max>=0?K.max:K.min,(m.min<0&&L<0||m.max>=0&&L>0)&&(A+=L));return O=c.getPixelForValue(A),B=c.getPixelForValue(A+w),N=B-O,v!==void 0&&Math.abs(N)<v&&(N=v,w>=0&&!d||w<0&&d?B=O-v:B=O+v),{size:N,base:O,head:B,center:B+N/2}},calculateBarIndexPixels:function(e,n,a,o){var l=this,c=o.barThickness==="flex"?yc(n,a,o):bc(n,a,o),d=l.getStackIndex(e,l.getMeta().stack),f=c.start+c.chunk*d+c.chunk/2,h=Math.min(cn(o.maxBarThickness,1/0),c.chunk*c.ratio);return{base:f-h/2,head:f+h/2,center:f,size:h}},draw:function(){var e=this,n=e.chart,a=e._getValueScale(),o=e.getMeta().data,l=e.getDataset(),c=o.length,d=0;for(y.canvas.clipArea(n.ctx,n.chartArea);d<c;++d){var f=a._parseValue(l.data[d]);!isNaN(f.min)&&!isNaN(f.max)&&o[d].draw()}y.canvas.unclipArea(n.ctx)},_resolveDataElementOptions:function(){var e=this,n=y.extend({},Ft.prototype._resolveDataElementOptions.apply(e,arguments)),a=e._getIndexScale().options,o=e._getValueScale().options;return n.barPercentage=cn(a.barPercentage,n.barPercentage),n.barThickness=cn(a.barThickness,n.barThickness),n.categoryPercentage=cn(a.categoryPercentage,n.categoryPercentage),n.maxBarThickness=cn(a.maxBarThickness,n.maxBarThickness),n.minBarLength=cn(o.minBarLength,n.minBarLength),n}}),vr=y.valueOrDefault,xc=y.options.resolve;F._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,n){var a=n.datasets[e.datasetIndex].label||"",o=n.datasets[e.datasetIndex].data[e.index];return a+": ("+e.xLabel+", "+e.yLabel+", "+o.r+")"}}}});var Ac=Ft.extend({dataElementType:wt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var n=this,a=n.getMeta(),o=a.data;y.each(o,function(l,c){n.updateElement(l,c,e)})},updateElement:function(e,n,a){var o=this,l=o.getMeta(),c=e.custom||{},d=o.getScaleForId(l.xAxisID),f=o.getScaleForId(l.yAxisID),h=o._resolveDataElementOptions(e,n),m=o.getDataset().data[n],v=o.index,p=a?d.getPixelForDecimal(.5):d.getPixelForValue(typeof m=="object"?m:NaN,n,v),x=a?f.getBasePixel():f.getPixelForValue(m,n,v);e._xScale=d,e._yScale=f,e._options=h,e._datasetIndex=v,e._index=n,e._model={backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:h.borderWidth,hitRadius:h.hitRadius,pointStyle:h.pointStyle,rotation:h.rotation,radius:a?0:h.radius,skip:c.skip||isNaN(p)||isNaN(x),x:p,y:x},e.pivot()},setHoverStyle:function(e){var n=e._model,a=e._options,o=y.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=vr(a.hoverBackgroundColor,o(a.backgroundColor)),n.borderColor=vr(a.hoverBorderColor,o(a.borderColor)),n.borderWidth=vr(a.hoverBorderWidth,a.borderWidth),n.radius=a.radius+a.hoverRadius},_resolveDataElementOptions:function(e,n){var a=this,o=a.chart,l=a.getDataset(),c=e.custom||{},d=l.data[n]||{},f=Ft.prototype._resolveDataElementOptions.apply(a,arguments),h={chart:o,dataIndex:n,dataset:l,datasetIndex:a.index};return a._cachedDataOpts===f&&(f=y.extend({},f)),f.radius=xc([c.radius,d.r,a._config.radius,o.options.elements.point.radius],h,n),f}}),Ai=y.valueOrDefault,Ne=Math.PI,ae=Ne*2,Be=Ne/2;F._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var n=document.createElement("ul"),a=e.data,o=a.datasets,l=a.labels,c,d,f,h;if(n.setAttribute("class",e.id+"-legend"),o.length)for(c=0,d=o[0].data.length;c<d;++c)f=n.appendChild(document.createElement("li")),h=f.appendChild(document.createElement("span")),h.style.backgroundColor=o[0].backgroundColor[c],l[c]&&f.appendChild(document.createTextNode(l[c]));return n.outerHTML},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(a,o){var l=e.getDatasetMeta(0),c=l.controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,hidden:isNaN(n.datasets[0].data[o])||l.data[o].hidden,index:o}}):[]}},onClick:function(e,n){var a=n.index,o=this.chart,l,c,d;for(l=0,c=(o.data.datasets||[]).length;l<c;++l)d=o.getDatasetMeta(l),d.data[a]&&(d.data[a].hidden=!d.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-Be,circumference:ae,tooltips:{callbacks:{title:function(){return""},label:function(e,n){var a=n.labels[e.index],o=": "+n.datasets[e.datasetIndex].data[e.index];return y.isArray(a)?(a=a.slice(),a[0]+=o):a+=o,a}}}});var Eo=Ft.extend({dataElementType:wt.Arc,linkScales:y.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var n=0,a=0;a<e;++a)this.chart.isDatasetVisible(a)&&++n;return n},update:function(e){var n=this,a=n.chart,o=a.chartArea,l=a.options,c=1,d=1,f=0,h=0,m=n.getMeta(),v=m.data,p=l.cutoutPercentage/100||0,x=l.circumference,A=n._getRingWeight(n.index),w,_,S,M;if(x<ae){var L=l.rotation%ae;L+=L>=Ne?-ae:L<-Ne?ae:0;var O=L+x,B=Math.cos(L),N=Math.sin(L),K=Math.cos(O),G=Math.sin(O),Q=L<=0&&O>=0||O>=ae,nt=L<=Be&&O>=Be||O>=ae+Be,gt=L===-Ne||O>=Ne,ht=L<=-Be&&O>=-Be||O>=Ne+Be,ct=gt?-1:Math.min(B,B*p,K,K*p),mt=ht?-1:Math.min(N,N*p,G,G*p),mn=Q?1:Math.max(B,B*p,K,K*p),vn=nt?1:Math.max(N,N*p,G,G*p);c=(mn-ct)/2,d=(vn-mt)/2,f=-(mn+ct)/2,h=-(vn+mt)/2}for(S=0,M=v.length;S<M;++S)v[S]._options=n._resolveDataElementOptions(v[S],S);for(a.borderWidth=n.getMaxBorderWidth(),w=(o.right-o.left-a.borderWidth)/c,_=(o.bottom-o.top-a.borderWidth)/d,a.outerRadius=Math.max(Math.min(w,_)/2,0),a.innerRadius=Math.max(a.outerRadius*p,0),a.radiusLength=(a.outerRadius-a.innerRadius)/(n._getVisibleDatasetWeightTotal()||1),a.offsetX=f*a.outerRadius,a.offsetY=h*a.outerRadius,m.total=n.calculateTotal(),n.outerRadius=a.outerRadius-a.radiusLength*n._getRingWeightOffset(n.index),n.innerRadius=Math.max(n.outerRadius-a.radiusLength*A,0),S=0,M=v.length;S<M;++S)n.updateElement(v[S],S,e)},updateElement:function(e,n,a){var o=this,l=o.chart,c=l.chartArea,d=l.options,f=d.animation,h=(c.left+c.right)/2,m=(c.top+c.bottom)/2,v=d.rotation,p=d.rotation,x=o.getDataset(),A=a&&f.animateRotate||e.hidden?0:o.calculateCircumference(x.data[n])*(d.circumference/ae),w=a&&f.animateScale?0:o.innerRadius,_=a&&f.animateScale?0:o.outerRadius,S=e._options||{};y.extend(e,{_datasetIndex:o.index,_index:n,_model:{backgroundColor:S.backgroundColor,borderColor:S.borderColor,borderWidth:S.borderWidth,borderAlign:S.borderAlign,x:h+l.offsetX,y:m+l.offsetY,startAngle:v,endAngle:p,circumference:A,outerRadius:_,innerRadius:w,label:y.valueAtIndexOrDefault(x.label,n,l.data.labels[n])}});var M=e._model;(!a||!f.animateRotate)&&(n===0?M.startAngle=d.rotation:M.startAngle=o.getMeta().data[n-1]._model.endAngle,M.endAngle=M.startAngle+M.circumference),e.pivot()},calculateTotal:function(){var e=this.getDataset(),n=this.getMeta(),a=0,o;return y.each(n.data,function(l,c){o=e.data[c],!isNaN(o)&&!l.hidden&&(a+=Math.abs(o))}),a},calculateCircumference:function(e){var n=this.getMeta().total;return n>0&&!isNaN(e)?ae*(Math.abs(e)/n):0},getMaxBorderWidth:function(e){var n=this,a=0,o=n.chart,l,c,d,f,h,m,v,p;if(!e){for(l=0,c=o.data.datasets.length;l<c;++l)if(o.isDatasetVisible(l)){d=o.getDatasetMeta(l),e=d.data,l!==n.index&&(h=d.controller);break}}if(!e)return 0;for(l=0,c=e.length;l<c;++l)f=e[l],h?(h._configure(),m=h._resolveDataElementOptions(f,l)):m=f._options,m.borderAlign!=="inner"&&(v=m.borderWidth,p=m.hoverBorderWidth,a=v>a?v:a,a=p>a?p:a);return a},setHoverStyle:function(e){var n=e._model,a=e._options,o=y.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth},n.backgroundColor=Ai(a.hoverBackgroundColor,o(a.backgroundColor)),n.borderColor=Ai(a.hoverBorderColor,o(a.borderColor)),n.borderWidth=Ai(a.hoverBorderWidth,a.borderWidth)},_getRingWeightOffset:function(e){for(var n=0,a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(n+=this._getRingWeight(a));return n},_getRingWeight:function(e){return Math.max(Ai(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});F._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),F._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var kc=Oo.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),oe=y.valueOrDefault,wc=y.options.resolve,pr=y.canvas._isPointInArea;F._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function Fo(e,n){var a=e&&e.options.ticks||{},o=a.reverse,l=a.min===void 0?n:0,c=a.max===void 0?n:0;return{start:o?c:l,end:o?l:c}}function _c(e,n,a){var o=a/2,l=Fo(e,o),c=Fo(n,o);return{top:c.end,right:l.end,bottom:c.start,left:l.start}}function Sc(e){var n,a,o,l;return y.isObject(e)?(n=e.top,a=e.right,o=e.bottom,l=e.left):n=a=o=l=e,{top:n,right:a,bottom:o,left:l}}var Io=Ft.extend({datasetElementType:wt.Line,dataElementType:wt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var n=this,a=n.getMeta(),o=a.dataset,l=a.data||[],c=n.chart.options,d=n._config,f=n._showLine=oe(d.showLine,c.showLines),h,m;for(n._xScale=n.getScaleForId(a.xAxisID),n._yScale=n.getScaleForId(a.yAxisID),f&&(d.tension!==void 0&&d.lineTension===void 0&&(d.lineTension=d.tension),o._scale=n._yScale,o._datasetIndex=n.index,o._children=l,o._model=n._resolveDatasetElementOptions(o),o.pivot()),h=0,m=l.length;h<m;++h)n.updateElement(l[h],h,e);for(f&&o._model.tension!==0&&n.updateBezierControlPoints(),h=0,m=l.length;h<m;++h)l[h].pivot()},updateElement:function(e,n,a){var o=this,l=o.getMeta(),c=e.custom||{},d=o.getDataset(),f=o.index,h=d.data[n],m=o._xScale,v=o._yScale,p=l.dataset._model,x,A,w=o._resolveDataElementOptions(e,n);x=m.getPixelForValue(typeof h=="object"?h:NaN,n,f),A=a?v.getBasePixel():o.calculatePointY(h,n,f),e._xScale=m,e._yScale=v,e._options=w,e._datasetIndex=f,e._index=n,e._model={x,y:A,skip:c.skip||isNaN(x)||isNaN(A),radius:w.radius,pointStyle:w.pointStyle,rotation:w.rotation,backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth,tension:oe(c.tension,p?p.tension:0),steppedLine:p?p.steppedLine:!1,hitRadius:w.hitRadius}},_resolveDatasetElementOptions:function(e){var n=this,a=n._config,o=e.custom||{},l=n.chart.options,c=l.elements.line,d=Ft.prototype._resolveDatasetElementOptions.apply(n,arguments);return d.spanGaps=oe(a.spanGaps,l.spanGaps),d.tension=oe(a.lineTension,c.tension),d.steppedLine=wc([o.steppedLine,a.steppedLine,c.stepped]),d.clip=Sc(oe(a.clip,_c(n._xScale,n._yScale,d.borderWidth))),d},calculatePointY:function(e,n,a){var o=this,l=o.chart,c=o._yScale,d=0,f=0,h,m,v,p,x,A,w;if(c.options.stacked){for(x=+c.getRightValue(e),A=l._getSortedVisibleDatasetMetas(),w=A.length,h=0;h<w&&(v=A[h],v.index!==a);++h)m=l.data.datasets[v.index],v.type==="line"&&v.yAxisID===c.id&&(p=+c.getRightValue(m.data[n]),p<0?f+=p||0:d+=p||0);return x<0?c.getPixelForValue(f+x):c.getPixelForValue(d+x)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){var e=this,n=e.chart,a=e.getMeta(),o=a.dataset._model,l=n.chartArea,c=a.data||[],d,f,h,m;o.spanGaps&&(c=c.filter(function(p){return!p._model.skip}));function v(p,x,A){return Math.max(Math.min(p,A),x)}if(o.cubicInterpolationMode==="monotone")y.splineCurveMonotone(c);else for(d=0,f=c.length;d<f;++d)h=c[d]._model,m=y.splineCurve(y.previousItem(c,d)._model,h,y.nextItem(c,d)._model,o.tension),h.controlPointPreviousX=m.previous.x,h.controlPointPreviousY=m.previous.y,h.controlPointNextX=m.next.x,h.controlPointNextY=m.next.y;if(n.options.elements.line.capBezierPoints)for(d=0,f=c.length;d<f;++d)h=c[d]._model,pr(h,l)&&(d>0&&pr(c[d-1]._model,l)&&(h.controlPointPreviousX=v(h.controlPointPreviousX,l.left,l.right),h.controlPointPreviousY=v(h.controlPointPreviousY,l.top,l.bottom)),d<c.length-1&&pr(c[d+1]._model,l)&&(h.controlPointNextX=v(h.controlPointNextX,l.left,l.right),h.controlPointNextY=v(h.controlPointNextY,l.top,l.bottom)))},draw:function(){var e=this,n=e.chart,a=e.getMeta(),o=a.data||[],l=n.chartArea,c=n.canvas,d=0,f=o.length,h;for(e._showLine&&(h=a.dataset._model.clip,y.canvas.clipArea(n.ctx,{left:h.left===!1?0:l.left-h.left,right:h.right===!1?c.width:l.right+h.right,top:h.top===!1?0:l.top-h.top,bottom:h.bottom===!1?c.height:l.bottom+h.bottom}),a.dataset.draw(),y.canvas.unclipArea(n.ctx));d<f;++d)o[d].draw(l)},setHoverStyle:function(e){var n=e._model,a=e._options,o=y.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=oe(a.hoverBackgroundColor,o(a.backgroundColor)),n.borderColor=oe(a.hoverBorderColor,o(a.borderColor)),n.borderWidth=oe(a.hoverBorderWidth,a.borderWidth),n.radius=oe(a.hoverRadius,a.radius)}}),Cc=y.options.resolve;F._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var n=document.createElement("ul"),a=e.data,o=a.datasets,l=a.labels,c,d,f,h;if(n.setAttribute("class",e.id+"-legend"),o.length)for(c=0,d=o[0].data.length;c<d;++c)f=n.appendChild(document.createElement("li")),h=f.appendChild(document.createElement("span")),h.style.backgroundColor=o[0].backgroundColor[c],l[c]&&f.appendChild(document.createTextNode(l[c]));return n.outerHTML},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(a,o){var l=e.getDatasetMeta(0),c=l.controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,hidden:isNaN(n.datasets[0].data[o])||l.data[o].hidden,index:o}}):[]}},onClick:function(e,n){var a=n.index,o=this.chart,l,c,d;for(l=0,c=(o.data.datasets||[]).length;l<c;++l)d=o.getDatasetMeta(l),d.data[a].hidden=!d.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,n){return n.labels[e.index]+": "+e.yLabel}}}});var Dc=Ft.extend({dataElementType:wt.Arc,linkScales:y.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var n=this,a=n.getDataset(),o=n.getMeta(),l=n.chart.options.startAngle||0,c=n._starts=[],d=n._angles=[],f=o.data,h,m,v;for(n._updateRadius(),o.count=n.countVisibleElements(),h=0,m=a.data.length;h<m;h++)c[h]=l,v=n._computeAngle(h),d[h]=v,l+=v;for(h=0,m=f.length;h<m;++h)f[h]._options=n._resolveDataElementOptions(f[h],h),n.updateElement(f[h],h,e)},_updateRadius:function(){var e=this,n=e.chart,a=n.chartArea,o=n.options,l=Math.min(a.right-a.left,a.bottom-a.top);n.outerRadius=Math.max(l/2,0),n.innerRadius=Math.max(o.cutoutPercentage?n.outerRadius/100*o.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),e.outerRadius=n.outerRadius-n.radiusLength*e.index,e.innerRadius=e.outerRadius-n.radiusLength},updateElement:function(e,n,a){var o=this,l=o.chart,c=o.getDataset(),d=l.options,f=d.animation,h=l.scale,m=l.data.labels,v=h.xCenter,p=h.yCenter,x=d.startAngle,A=e.hidden?0:h.getDistanceFromCenterForValue(c.data[n]),w=o._starts[n],_=w+(e.hidden?0:o._angles[n]),S=f.animateScale?0:h.getDistanceFromCenterForValue(c.data[n]),M=e._options||{};y.extend(e,{_datasetIndex:o.index,_index:n,_scale:h,_model:{backgroundColor:M.backgroundColor,borderColor:M.borderColor,borderWidth:M.borderWidth,borderAlign:M.borderAlign,x:v,y:p,innerRadius:0,outerRadius:a?S:A,startAngle:a&&f.animateRotate?x:w,endAngle:a&&f.animateRotate?x:_,label:y.valueAtIndexOrDefault(m,n,m[n])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),n=this.getMeta(),a=0;return y.each(n.data,function(o,l){!isNaN(e.data[l])&&!o.hidden&&a++}),a},setHoverStyle:function(e){var n=e._model,a=e._options,o=y.getHoverColor,l=y.valueOrDefault;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth},n.backgroundColor=l(a.hoverBackgroundColor,o(a.backgroundColor)),n.borderColor=l(a.hoverBorderColor,o(a.borderColor)),n.borderWidth=l(a.hoverBorderWidth,a.borderWidth)},_computeAngle:function(e){var n=this,a=this.getMeta().count,o=n.getDataset(),l=n.getMeta();if(isNaN(o.data[e])||l.data[e].hidden)return 0;var c={chart:n.chart,dataIndex:e,dataset:o,datasetIndex:n.index};return Cc([n.chart.options.elements.arc.angle,2*Math.PI/a],c,e)}});F._set("pie",y.clone(F.doughnut)),F._set("pie",{cutoutPercentage:0});var Mc=Eo,We=y.valueOrDefault;F._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Tc=Ft.extend({datasetElementType:wt.Line,dataElementType:wt.Point,linkScales:y.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var n=this,a=n.getMeta(),o=a.dataset,l=a.data||[],c=n.chart.scale,d=n._config,f,h;for(d.tension!==void 0&&d.lineTension===void 0&&(d.lineTension=d.tension),o._scale=c,o._datasetIndex=n.index,o._children=l,o._loop=!0,o._model=n._resolveDatasetElementOptions(o),o.pivot(),f=0,h=l.length;f<h;++f)n.updateElement(l[f],f,e);for(n.updateBezierControlPoints(),f=0,h=l.length;f<h;++f)l[f].pivot()},updateElement:function(e,n,a){var o=this,l=e.custom||{},c=o.getDataset(),d=o.chart.scale,f=d.getPointPositionForValue(n,c.data[n]),h=o._resolveDataElementOptions(e,n),m=o.getMeta().dataset._model,v=a?d.xCenter:f.x,p=a?d.yCenter:f.y;e._scale=d,e._options=h,e._datasetIndex=o.index,e._index=n,e._model={x:v,y:p,skip:l.skip||isNaN(v)||isNaN(p),radius:h.radius,pointStyle:h.pointStyle,rotation:h.rotation,backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:h.borderWidth,tension:We(l.tension,m?m.tension:0),hitRadius:h.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,n=e._config,a=e.chart.options,o=Ft.prototype._resolveDatasetElementOptions.apply(e,arguments);return o.spanGaps=We(n.spanGaps,a.spanGaps),o.tension=We(n.lineTension,a.elements.line.tension),o},updateBezierControlPoints:function(){var e=this,n=e.getMeta(),a=e.chart.chartArea,o=n.data||[],l,c,d,f;n.dataset._model.spanGaps&&(o=o.filter(function(m){return!m._model.skip}));function h(m,v,p){return Math.max(Math.min(m,p),v)}for(l=0,c=o.length;l<c;++l)d=o[l]._model,f=y.splineCurve(y.previousItem(o,l,!0)._model,d,y.nextItem(o,l,!0)._model,d.tension),d.controlPointPreviousX=h(f.previous.x,a.left,a.right),d.controlPointPreviousY=h(f.previous.y,a.top,a.bottom),d.controlPointNextX=h(f.next.x,a.left,a.right),d.controlPointNextY=h(f.next.y,a.top,a.bottom)},setHoverStyle:function(e){var n=e._model,a=e._options,o=y.getHoverColor;e.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=We(a.hoverBackgroundColor,o(a.backgroundColor)),n.borderColor=We(a.hoverBorderColor,o(a.borderColor)),n.borderWidth=We(a.hoverBorderWidth,a.borderWidth),n.radius=We(a.hoverRadius,a.radius)}});F._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),F._set("global",{datasets:{scatter:{showLine:!1}}});var Rc=Io,No={bar:Oo,bubble:Ac,doughnut:Eo,horizontalBar:kc,line:Io,polarArea:Dc,pie:Mc,radar:Tc,scatter:Rc};function ze(e,n){return e.native?{x:e.x,y:e.y}:y.getRelativePosition(e,n)}function Bn(e,n){var a=e._getSortedVisibleDatasetMetas(),o,l,c,d,f,h;for(l=0,d=a.length;l<d;++l)for(o=a[l].data,c=0,f=o.length;c<f;++c)h=o[c],h._view.skip||n(h)}function br(e,n){var a=[];return Bn(e,function(o){o.inRange(n.x,n.y)&&a.push(o)}),a}function yr(e,n,a,o){var l=Number.POSITIVE_INFINITY,c=[];return Bn(e,function(d){if(!(a&&!d.inRange(n.x,n.y))){var f=d.getCenterPoint(),h=o(n,f);h<l?(c=[d],l=h):h===l&&c.push(d)}}),c}function xr(e){var n=e.indexOf("x")!==-1,a=e.indexOf("y")!==-1;return function(o,l){var c=n?Math.abs(o.x-l.x):0,d=a?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2))}}function Ar(e,n,a){var o=ze(n,e);a.axis=a.axis||"x";var l=xr(a.axis),c=a.intersect?br(e,o):yr(e,o,!1,l),d=[];return c.length?(e._getSortedVisibleDatasetMetas().forEach(function(f){var h=f.data[c[0]._index];h&&!h._view.skip&&d.push(h)}),d):[]}var dn={modes:{single:function(e,n){var a=ze(n,e),o=[];return Bn(e,function(l){if(l.inRange(a.x,a.y))return o.push(l),o}),o.slice(0,1)},label:Ar,index:Ar,dataset:function(e,n,a){var o=ze(n,e);a.axis=a.axis||"xy";var l=xr(a.axis),c=a.intersect?br(e,o):yr(e,o,!1,l);return c.length>0&&(c=e.getDatasetMeta(c[0]._datasetIndex).data),c},"x-axis":function(e,n){return Ar(e,n,{intersect:!1})},point:function(e,n){var a=ze(n,e);return br(e,a)},nearest:function(e,n,a){var o=ze(n,e);a.axis=a.axis||"xy";var l=xr(a.axis);return yr(e,o,a.intersect,l)},x:function(e,n,a){var o=ze(n,e),l=[],c=!1;return Bn(e,function(d){d.inXRange(o.x)&&l.push(d),d.inRange(o.x,o.y)&&(c=!0)}),a.intersect&&!c&&(l=[]),l},y:function(e,n,a){var o=ze(n,e),l=[],c=!1;return Bn(e,function(d){d.inYRange(o.y)&&l.push(d),d.inRange(o.x,o.y)&&(c=!0)}),a.intersect&&!c&&(l=[]),l}}},kr=y.extend;function Wn(e,n){return y.where(e,function(a){return a.pos===n})}function ki(e,n){return e.sort(function(a,o){var l=n?o:a,c=n?a:o;return l.weight===c.weight?l.index-c.index:l.weight-c.weight})}function Lc(e){var n=[],a,o,l;for(a=0,o=(e||[]).length;a<o;++a)l=e[a],n.push({index:a,box:l,pos:l.position,horizontal:l.isHorizontal(),weight:l.weight});return n}function Pc(e,n){var a,o,l;for(a=0,o=e.length;a<o;++a)l=e[a],l.width=l.horizontal?l.box.fullWidth&&n.availableWidth:n.vBoxMaxWidth,l.height=l.horizontal&&n.hBoxMaxHeight}function Oc(e){var n=Lc(e),a=ki(Wn(n,"left"),!0),o=ki(Wn(n,"right")),l=ki(Wn(n,"top"),!0),c=ki(Wn(n,"bottom"));return{leftAndTop:a.concat(l),rightAndBottom:o.concat(c),chartArea:Wn(n,"chartArea"),vertical:a.concat(o),horizontal:l.concat(c)}}function Bo(e,n,a,o){return Math.max(e[a],n[a])+Math.max(e[o],n[o])}function Ec(e,n,a){var o=a.box,l=e.maxPadding,c,d;if(a.size&&(e[a.pos]-=a.size),a.size=a.horizontal?o.height:o.width,e[a.pos]+=a.size,o.getPadding){var f=o.getPadding();l.top=Math.max(l.top,f.top),l.left=Math.max(l.left,f.left),l.bottom=Math.max(l.bottom,f.bottom),l.right=Math.max(l.right,f.right)}if(c=n.outerWidth-Bo(l,e,"left","right"),d=n.outerHeight-Bo(l,e,"top","bottom"),c!==e.w||d!==e.h){e.w=c,e.h=d;var h=a.horizontal?[c,e.w]:[d,e.h];return h[0]!==h[1]&&(!isNaN(h[0])||!isNaN(h[1]))}}function Fc(e){var n=e.maxPadding;function a(o){var l=Math.max(n[o]-e[o],0);return e[o]+=l,l}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}function Ic(e,n){var a=n.maxPadding;function o(l){var c={left:0,top:0,right:0,bottom:0};return l.forEach(function(d){c[d]=Math.max(n[d],a[d])}),c}return o(e?["left","right"]:["top","bottom"])}function wi(e,n,a){var o=[],l,c,d,f,h,m;for(l=0,c=e.length;l<c;++l)d=e[l],f=d.box,f.update(d.width||n.w,d.height||n.h,Ic(d.horizontal,n)),Ec(n,a,d)&&(m=!0,o.length&&(h=!0)),f.fullWidth||o.push(d);return h&&wi(o,n,a)||m}function Wo(e,n,a){var o=a.padding,l=n.x,c=n.y,d,f,h,m;for(d=0,f=e.length;d<f;++d)h=e[d],m=h.box,h.horizontal?(m.left=m.fullWidth?o.left:n.left,m.right=m.fullWidth?a.outerWidth-o.right:n.left+n.w,m.top=c,m.bottom=c+m.height,m.width=m.right-m.left,c=m.bottom):(m.left=l,m.right=l+m.width,m.top=n.top,m.bottom=n.top+n.h,m.height=m.bottom-m.top,l=m.right);n.x=l,n.y=c}F._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var It={defaults:{},addBox:function(e,n){e.boxes||(e.boxes=[]),n.fullWidth=n.fullWidth||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw:function(){n.draw.apply(n,arguments)}}]},e.boxes.push(n)},removeBox:function(e,n){var a=e.boxes?e.boxes.indexOf(n):-1;a!==-1&&e.boxes.splice(a,1)},configure:function(e,n,a){for(var o=["fullWidth","position","weight"],l=o.length,c=0,d;c<l;++c)d=o[c],a.hasOwnProperty(d)&&(n[d]=a[d])},update:function(e,n,a){if(e){var o=e.options.layout||{},l=y.options.toPadding(o.padding),c=n-l.width,d=a-l.height,f=Oc(e.boxes),h=f.vertical,m=f.horizontal,v=Object.freeze({outerWidth:n,outerHeight:a,padding:l,availableWidth:c,vBoxMaxWidth:c/2/h.length,hBoxMaxHeight:d/2}),p=kr({maxPadding:kr({},l),w:c,h:d,x:l.left,y:l.top},l);Pc(h.concat(m),v),wi(h,p,v),wi(m,p,v)&&wi(h,p,v),Fc(p),Wo(f.leftAndTop,p,v),p.x+=p.w,p.y+=p.h,Wo(f.rightAndBottom,p,v),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h},y.each(f.chartArea,function(x){var A=x.box;kr(A,e.chartArea),A.update(p.w,p.h)})}}},Nc={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},Bc=`/*\r
 * DOM element rendering detection\r
 * https://davidwalsh.name/detect-node-insertion\r
 */\r
@keyframes chartjs-render-animation {\r
	from { opacity: 0.99; }\r
	to { opacity: 1; }\r
}\r
\r
.chartjs-render-monitor {\r
	animation: chartjs-render-animation 0.001s;\r
}\r
\r
/*\r
 * DOM element resizing detection\r
 * https://github.com/marcj/css-element-queries\r
 */\r
.chartjs-size-monitor,\r
.chartjs-size-monitor-expand,\r
.chartjs-size-monitor-shrink {\r
	position: absolute;\r
	direction: ltr;\r
	left: 0;\r
	top: 0;\r
	right: 0;\r
	bottom: 0;\r
	overflow: hidden;\r
	pointer-events: none;\r
	visibility: hidden;\r
	z-index: -1;\r
}\r
\r
.chartjs-size-monitor-expand > div {\r
	position: absolute;\r
	width: 1000000px;\r
	height: 1000000px;\r
	left: 0;\r
	top: 0;\r
}\r
\r
.chartjs-size-monitor-shrink > div {\r
	position: absolute;\r
	width: 200%;\r
	height: 200%;\r
	left: 0;\r
	top: 0;\r
}\r
`,Wc=Object.freeze({__proto__:null,default:Bc}),zc=u(Wc),yt="$chartjs",wr="chartjs-",_r=wr+"size-monitor",zo=wr+"render-monitor",jc=wr+"render-animation",jo=["animationstart","webkitAnimationStart"],Hc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Ho(e,n){var a=y.getStyle(e,n),o=a&&a.match(/^(\d+)(\.\d+)?px$/);return o?Number(o[1]):void 0}function Yc(e,n){var a=e.style,o=e.getAttribute("height"),l=e.getAttribute("width");if(e[yt]={initial:{height:o,width:l,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",l===null||l===""){var c=Ho(e,"width");c!==void 0&&(e.width=c)}if(o===null||o==="")if(e.style.height==="")e.height=e.width/(n.options.aspectRatio||2);else{var d=Ho(e,"height");c!==void 0&&(e.height=d)}return e}var Vc=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,n)}catch{}return e}(),Yo=Vc?{passive:!0}:!1;function zn(e,n,a){e.addEventListener(n,a,Yo)}function Sr(e,n,a){e.removeEventListener(n,a,Yo)}function Cr(e,n,a,o,l){return{type:e,chart:n,native:l||null,x:a!==void 0?a:null,y:o!==void 0?o:null}}function Uc(e,n){var a=Hc[e.type]||e.type,o=y.getRelativePosition(e,n);return Cr(a,n,o.x,o.y,e)}function qc(e,n){var a=!1,o=[];return function(){o=Array.prototype.slice.call(arguments),n=n||this,a||(a=!0,y.requestAnimFrame.call(window,function(){a=!1,e.apply(n,o)}))}}function jn(e){var n=document.createElement("div");return n.className=e||"",n}function Gc(e){var n=1e6,a=jn(_r),o=jn(_r+"-expand"),l=jn(_r+"-shrink");o.appendChild(jn()),l.appendChild(jn()),a.appendChild(o),a.appendChild(l),a._reset=function(){o.scrollLeft=n,o.scrollTop=n,l.scrollLeft=n,l.scrollTop=n};var c=function(){a._reset(),e()};return zn(o,"scroll",c.bind(o,"expand")),zn(l,"scroll",c.bind(l,"shrink")),a}function $c(e,n){var a=e[yt]||(e[yt]={}),o=a.renderProxy=function(l){l.animationName===jc&&n()};y.each(jo,function(l){zn(e,l,o)}),a.reflow=!!e.offsetParent,e.classList.add(zo)}function Kc(e){var n=e[yt]||{},a=n.renderProxy;a&&(y.each(jo,function(o){Sr(e,o,a)}),delete n.renderProxy),e.classList.remove(zo)}function Jc(e,n,a){var o=e[yt]||(e[yt]={}),l=o.resizer=Gc(qc(function(){if(o.resizer){var c=a.options.maintainAspectRatio&&e.parentNode,d=c?c.clientWidth:0;n(Cr("resize",a)),c&&c.clientWidth<d&&a.canvas&&n(Cr("resize",a))}}));$c(e,function(){if(o.resizer){var c=e.parentNode;c&&c!==l.parentNode&&c.insertBefore(l,c.firstChild),l._reset()}})}function Zc(e){var n=e[yt]||{},a=n.resizer;delete n.resizer,Kc(e),a&&a.parentNode&&a.parentNode.removeChild(a)}function Xc(e,n){var a=e[yt]||(e[yt]={});if(!a.containsStyles){a.containsStyles=!0,n=`/* Chart.js */
`+n;var o=document.createElement("style");o.setAttribute("type","text/css"),o.appendChild(document.createTextNode(n)),e.appendChild(o)}}var Vo={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(e){if(!this.disableCSSInjection){var n=e.getRootNode?e.getRootNode():document,a=n.host?n:document.head;Xc(a,zc)}},acquireContext:function(e,n){typeof e=="string"?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(this._ensureLoaded(e),Yc(e,n),a):null},releaseContext:function(e){var n=e.canvas;if(n[yt]){var a=n[yt].initial;["height","width"].forEach(function(o){var l=a[o];y.isNullOrUndef(l)?n.removeAttribute(o):n.setAttribute(o,l)}),y.each(a.style||{},function(o,l){n.style[l]=o}),n.width=n.width,delete n[yt]}},addEventListener:function(e,n,a){var o=e.canvas;if(n==="resize"){Jc(o,a,e);return}var l=a[yt]||(a[yt]={}),c=l.proxies||(l.proxies={}),d=c[e.id+"_"+n]=function(f){a(Uc(f,e))};zn(o,n,d)},removeEventListener:function(e,n,a){var o=e.canvas;if(n==="resize"){Zc(o);return}var l=a[yt]||{},c=l.proxies||{},d=c[e.id+"_"+n];d&&Sr(o,n,d)}};y.addEvent=zn,y.removeEvent=Sr;var Qc=Vo._enabled?Vo:Nc,hn=y.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Qc);F._set("global",{plugins:{}});var et={_plugins:[],_cacheId:0,register:function(e){var n=this._plugins;[].concat(e).forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),this._cacheId++},unregister:function(e){var n=this._plugins;[].concat(e).forEach(function(a){var o=n.indexOf(a);o!==-1&&n.splice(o,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,n,a){var o=this.descriptors(e),l=o.length,c,d,f,h,m;for(c=0;c<l;++c)if(d=o[c],f=d.plugin,m=f[n],typeof m=="function"&&(h=[e].concat(a||[]),h.push(d.options),m.apply(f,h)===!1))return!1;return!0},descriptors:function(e){var n=e.$plugins||(e.$plugins={});if(n.id===this._cacheId)return n.descriptors;var a=[],o=[],l=e&&e.config||{},c=l.options&&l.options.plugins||{};return this._plugins.concat(l.plugins||[]).forEach(function(d){var f=a.indexOf(d);if(f===-1){var h=d.id,m=c[h];m!==!1&&(m===!0&&(m=y.clone(F.global.plugins[h])),a.push(d),o.push({plugin:d,options:m||{}}))}}),n.descriptors=o,n.id=this._cacheId,o},_invalidate:function(e){delete e.$plugins}},Hn={constructors:{},defaults:{},registerScaleType:function(e,n,a){this.constructors[e]=n,this.defaults[e]=y.clone(a)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?y.merge(Object.create(null),[F.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,n){var a=this;a.defaults.hasOwnProperty(e)&&(a.defaults[e]=y.extend(a.defaults[e],n))},addScalesToLayout:function(e){y.each(e.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,It.addBox(e,n)})}},se=y.valueOrDefault,Dr=y.rtl.getRtlAdapter;F._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:y.noop,title:function(e,n){var a="",o=n.labels,l=o?o.length:0;if(e.length>0){var c=e[0];c.label?a=c.label:c.xLabel?a=c.xLabel:l>0&&c.index<l&&(a=o[c.index])}return a},afterTitle:y.noop,beforeBody:y.noop,beforeLabel:y.noop,label:function(e,n){var a=n.datasets[e.datasetIndex].label||"";return a&&(a+=": "),y.isNullOrUndef(e.value)?a+=e.yLabel:a+=e.value,a},labelColor:function(e,n){var a=n.getDatasetMeta(e.datasetIndex),o=a.data[e.index],l=o._view;return{borderColor:l.borderColor,backgroundColor:l.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:y.noop,afterBody:y.noop,beforeFooter:y.noop,footer:y.noop,afterFooter:y.noop}}});var Uo={average:function(e){if(!e.length)return!1;var n,a,o=0,l=0,c=0;for(n=0,a=e.length;n<a;++n){var d=e[n];if(d&&d.hasValue()){var f=d.tooltipPosition();o+=f.x,l+=f.y,++c}}return{x:o/c,y:l/c}},nearest:function(e,n){var a=n.x,o=n.y,l=Number.POSITIVE_INFINITY,c,d,f;for(c=0,d=e.length;c<d;++c){var h=e[c];if(h&&h.hasValue()){var m=h.getCenterPoint(),v=y.distanceBetweenPoints(n,m);v<l&&(l=v,f=h)}}if(f){var p=f.tooltipPosition();a=p.x,o=p.y}return{x:a,y:o}}};function Zt(e,n){return n&&(y.isArray(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function le(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function td(e){var n=e._xScale,a=e._yScale||e._scale,o=e._index,l=e._datasetIndex,c=e._chart.getDatasetMeta(l).controller,d=c._getIndexScale(),f=c._getValueScale();return{xLabel:n?n.getLabelForIndex(o,l):"",yLabel:a?a.getLabelForIndex(o,l):"",label:d?""+d.getLabelForIndex(o,l):"",value:f?""+f.getLabelForIndex(o,l):"",index:o,datasetIndex:l,x:e._model.x,y:e._model.y}}function qo(e){var n=F.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:se(e.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:se(e.bodyFontStyle,n.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:se(e.bodyFontSize,n.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:se(e.titleFontFamily,n.defaultFontFamily),_titleFontStyle:se(e.titleFontStyle,n.defaultFontStyle),titleFontSize:se(e.titleFontSize,n.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:se(e.footerFontFamily,n.defaultFontFamily),_footerFontStyle:se(e.footerFontStyle,n.defaultFontStyle),footerFontSize:se(e.footerFontSize,n.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function ed(e,n){var a=e._chart.ctx,o=n.yPadding*2,l=0,c=n.body,d=c.reduce(function(w,_){return w+_.before.length+_.lines.length+_.after.length},0);d+=n.beforeBody.length+n.afterBody.length;var f=n.title.length,h=n.footer.length,m=n.titleFontSize,v=n.bodyFontSize,p=n.footerFontSize;o+=f*m,o+=f?(f-1)*n.titleSpacing:0,o+=f?n.titleMarginBottom:0,o+=d*v,o+=d?(d-1)*n.bodySpacing:0,o+=h?n.footerMarginTop:0,o+=h*p,o+=h?(h-1)*n.footerSpacing:0;var x=0,A=function(w){l=Math.max(l,a.measureText(w).width+x)};return a.font=y.fontString(m,n._titleFontStyle,n._titleFontFamily),y.each(n.title,A),a.font=y.fontString(v,n._bodyFontStyle,n._bodyFontFamily),y.each(n.beforeBody.concat(n.afterBody),A),x=n.displayColors?v+2:0,y.each(c,function(w){y.each(w.before,A),y.each(w.lines,A),y.each(w.after,A)}),x=0,a.font=y.fontString(p,n._footerFontStyle,n._footerFontFamily),y.each(n.footer,A),l+=2*n.xPadding,{width:l,height:o}}function nd(e,n){var a=e._model,o=e._chart,l=e._chart.chartArea,c="center",d="center";a.y<n.height?d="top":a.y>o.height-n.height&&(d="bottom");var f,h,m,v,p,x=(l.left+l.right)/2,A=(l.top+l.bottom)/2;d==="center"?(f=function(_){return _<=x},h=function(_){return _>x}):(f=function(_){return _<=n.width/2},h=function(_){return _>=o.width-n.width/2}),m=function(_){return _+n.width+a.caretSize+a.caretPadding>o.width},v=function(_){return _-n.width-a.caretSize-a.caretPadding<0},p=function(_){return _<=A?"top":"bottom"},f(a.x)?(c="left",m(a.x)&&(c="center",d=p(a.y))):h(a.x)&&(c="right",v(a.x)&&(c="center",d=p(a.y)));var w=e._options;return{xAlign:w.xAlign?w.xAlign:c,yAlign:w.yAlign?w.yAlign:d}}function id(e,n,a,o){var l=e.x,c=e.y,d=e.caretSize,f=e.caretPadding,h=e.cornerRadius,m=a.xAlign,v=a.yAlign,p=d+f,x=h+f;return m==="right"?l-=n.width:m==="center"&&(l-=n.width/2,l+n.width>o.width&&(l=o.width-n.width),l<0&&(l=0)),v==="top"?c+=p:v==="bottom"?c-=n.height+p:c-=n.height/2,v==="center"?m==="left"?l+=p:m==="right"&&(l-=p):m==="left"?l-=x:m==="right"&&(l+=x),{x:l,y:c}}function _i(e,n){return n==="center"?e.x+e.width/2:n==="right"?e.x+e.width-e.xPadding:e.x+e.xPadding}function Go(e){return Zt([],le(e))}var rd=Kt.extend({initialize:function(){this._model=qo(this._options),this._lastActive=[]},getTitle:function(){var e=this,n=e._options,a=n.callbacks,o=a.beforeTitle.apply(e,arguments),l=a.title.apply(e,arguments),c=a.afterTitle.apply(e,arguments),d=[];return d=Zt(d,le(o)),d=Zt(d,le(l)),d=Zt(d,le(c)),d},getBeforeBody:function(){return Go(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,n){var a=this,o=a._options.callbacks,l=[];return y.each(e,function(c){var d={before:[],lines:[],after:[]};Zt(d.before,le(o.beforeLabel.call(a,c,n))),Zt(d.lines,o.label.call(a,c,n)),Zt(d.after,le(o.afterLabel.call(a,c,n))),l.push(d)}),l},getAfterBody:function(){return Go(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,n=e._options.callbacks,a=n.beforeFooter.apply(e,arguments),o=n.footer.apply(e,arguments),l=n.afterFooter.apply(e,arguments),c=[];return c=Zt(c,le(a)),c=Zt(c,le(o)),c=Zt(c,le(l)),c},update:function(e){var n=this,a=n._options,o=n._model,l=n._model=qo(a),c=n._active,d=n._data,f={xAlign:o.xAlign,yAlign:o.yAlign},h={x:o.x,y:o.y},m={width:o.width,height:o.height},v={x:o.caretX,y:o.caretY},p,x;if(c.length){l.opacity=1;var A=[],w=[];v=Uo[a.position].call(n,c,n._eventPosition);var _=[];for(p=0,x=c.length;p<x;++p)_.push(td(c[p]));a.filter&&(_=_.filter(function(S){return a.filter(S,d)})),a.itemSort&&(_=_.sort(function(S,M){return a.itemSort(S,M,d)})),y.each(_,function(S){A.push(a.callbacks.labelColor.call(n,S,n._chart)),w.push(a.callbacks.labelTextColor.call(n,S,n._chart))}),l.title=n.getTitle(_,d),l.beforeBody=n.getBeforeBody(_,d),l.body=n.getBody(_,d),l.afterBody=n.getAfterBody(_,d),l.footer=n.getFooter(_,d),l.x=v.x,l.y=v.y,l.caretPadding=a.caretPadding,l.labelColors=A,l.labelTextColors=w,l.dataPoints=_,m=ed(this,l),f=nd(this,m),h=id(l,m,f,n._chart)}else l.opacity=0;return l.xAlign=f.xAlign,l.yAlign=f.yAlign,l.x=h.x,l.y=h.y,l.width=m.width,l.height=m.height,l.caretX=v.x,l.caretY=v.y,n._model=l,e&&a.custom&&a.custom.call(n,l),n},drawCaret:function(e,n){var a=this._chart.ctx,o=this._view,l=this.getCaretPosition(e,n,o);a.lineTo(l.x1,l.y1),a.lineTo(l.x2,l.y2),a.lineTo(l.x3,l.y3)},getCaretPosition:function(e,n,a){var o,l,c,d,f,h,m=a.caretSize,v=a.cornerRadius,p=a.xAlign,x=a.yAlign,A=e.x,w=e.y,_=n.width,S=n.height;if(x==="center")f=w+S/2,p==="left"?(o=A,l=o-m,c=o,d=f+m,h=f-m):(o=A+_,l=o+m,c=o,d=f-m,h=f+m);else if(p==="left"?(l=A+v+m,o=l-m,c=l+m):p==="right"?(l=A+_-v-m,o=l-m,c=l+m):(l=a.caretX,o=l-m,c=l+m),x==="top")d=w,f=d-m,h=d;else{d=w+S,f=d+m,h=d;var M=c;c=o,o=M}return{x1:o,x2:l,x3:c,y1:d,y2:f,y3:h}},drawTitle:function(e,n,a){var o=n.title,l=o.length,c,d,f;if(l){var h=Dr(n.rtl,n.x,n.width);for(e.x=_i(n,n._titleAlign),a.textAlign=h.textAlign(n._titleAlign),a.textBaseline="middle",c=n.titleFontSize,d=n.titleSpacing,a.fillStyle=n.titleFontColor,a.font=y.fontString(c,n._titleFontStyle,n._titleFontFamily),f=0;f<l;++f)a.fillText(o[f],h.x(e.x),e.y+c/2),e.y+=c+d,f+1===l&&(e.y+=n.titleMarginBottom-d)}},drawBody:function(e,n,a){var o=n.bodyFontSize,l=n.bodySpacing,c=n._bodyAlign,d=n.body,f=n.displayColors,h=0,m=f?_i(n,"left"):0,v=Dr(n.rtl,n.x,n.width),p=function(K){a.fillText(K,v.x(e.x+h),e.y+o/2),e.y+=o+l},x,A,w,_,S,M,L,O,B=v.textAlign(c);for(a.textAlign=c,a.textBaseline="middle",a.font=y.fontString(o,n._bodyFontStyle,n._bodyFontFamily),e.x=_i(n,B),a.fillStyle=n.bodyFontColor,y.each(n.beforeBody,p),h=f&&B!=="right"?c==="center"?o/2+1:o+2:0,S=0,L=d.length;S<L;++S){for(x=d[S],A=n.labelTextColors[S],w=n.labelColors[S],a.fillStyle=A,y.each(x.before,p),_=x.lines,M=0,O=_.length;M<O;++M){if(f){var N=v.x(m);a.fillStyle=n.legendColorBackground,a.fillRect(v.leftForLtr(N,o),e.y,o,o),a.lineWidth=1,a.strokeStyle=w.borderColor,a.strokeRect(v.leftForLtr(N,o),e.y,o,o),a.fillStyle=w.backgroundColor,a.fillRect(v.leftForLtr(v.xPlus(N,1),o-2),e.y+1,o-2,o-2),a.fillStyle=A}p(_[M])}y.each(x.after,p)}h=0,y.each(n.afterBody,p),e.y-=l},drawFooter:function(e,n,a){var o=n.footer,l=o.length,c,d;if(l){var f=Dr(n.rtl,n.x,n.width);for(e.x=_i(n,n._footerAlign),e.y+=n.footerMarginTop,a.textAlign=f.textAlign(n._footerAlign),a.textBaseline="middle",c=n.footerFontSize,a.fillStyle=n.footerFontColor,a.font=y.fontString(c,n._footerFontStyle,n._footerFontFamily),d=0;d<l;++d)a.fillText(o[d],f.x(e.x),e.y+c/2),e.y+=c+n.footerSpacing}},drawBackground:function(e,n,a,o){a.fillStyle=n.backgroundColor,a.strokeStyle=n.borderColor,a.lineWidth=n.borderWidth;var l=n.xAlign,c=n.yAlign,d=e.x,f=e.y,h=o.width,m=o.height,v=n.cornerRadius;a.beginPath(),a.moveTo(d+v,f),c==="top"&&this.drawCaret(e,o),a.lineTo(d+h-v,f),a.quadraticCurveTo(d+h,f,d+h,f+v),c==="center"&&l==="right"&&this.drawCaret(e,o),a.lineTo(d+h,f+m-v),a.quadraticCurveTo(d+h,f+m,d+h-v,f+m),c==="bottom"&&this.drawCaret(e,o),a.lineTo(d+v,f+m),a.quadraticCurveTo(d,f+m,d,f+m-v),c==="center"&&l==="left"&&this.drawCaret(e,o),a.lineTo(d,f+v),a.quadraticCurveTo(d,f,d+v,f),a.closePath(),a.fill(),n.borderWidth>0&&a.stroke()},draw:function(){var e=this._chart.ctx,n=this._view;if(n.opacity!==0){var a={width:n.width,height:n.height},o={x:n.x,y:n.y},l=Math.abs(n.opacity<.001)?0:n.opacity,c=n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length;this._options.enabled&&c&&(e.save(),e.globalAlpha=l,this.drawBackground(o,n,e,a),o.y+=n.yPadding,y.rtl.overrideTextDirection(e,n.textDirection),this.drawTitle(o,n,e),this.drawBody(o,n,e),this.drawFooter(o,n,e),y.rtl.restoreTextDirection(e,n.textDirection),e.restore())}},handleEvent:function(e){var n=this,a=n._options,o=!1;return n._lastActive=n._lastActive||[],e.type==="mouseout"?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,a.mode,a),a.reverse&&n._active.reverse()),o=!y.arrayEquals(n._active,n._lastActive),o&&(n._lastActive=n._active,(a.enabled||a.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),o}}),ad=Uo,Mr=rd;Mr.positioners=ad;var Tr=y.valueOrDefault;F._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function $o(){return y.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,n,a,o){if(e==="xAxes"||e==="yAxes"){var l=a[e].length,c,d,f;for(n[e]||(n[e]=[]),c=0;c<l;++c)f=a[e][c],d=Tr(f.type,e==="xAxes"?"category":"linear"),c>=n[e].length&&n[e].push({}),!n[e][c].type||f.type&&f.type!==n[e][c].type?y.merge(n[e][c],[Hn.getScaleDefaults(d),f]):y.merge(n[e][c],f)}else y._merger(e,n,a,o)}})}function Rr(){return y.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,n,a,o){var l=n[e]||Object.create(null),c=a[e];e==="scales"?n[e]=$o(l,c):e==="scale"?n[e]=y.merge(l,[Hn.getScaleDefaults(c.type),c]):y._merger(e,n,a,o)}})}function od(e){e=e||Object.create(null);var n=e.data=e.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],e.options=Rr(F.global,F[e.type],e.options||{}),e}function sd(e){var n=e.options;y.each(e.scales,function(a){It.removeBox(e,a)}),n=Rr(F.global,F[e.config.type],n),e.options=e.config.options=n,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=n.tooltips,e.tooltip.initialize()}function Ko(e,n,a){var o,l=function(c){return c.id===o};do o=n+a++;while(y.findIndex(e,l)>=0);return o}function Jo(e){return e==="top"||e==="bottom"}function Zo(e,n){return function(a,o){return a[e]===o[e]?a[n]-o[n]:a[e]-o[e]}}var ke=function(e,n){return this.construct(e,n),this};y.extend(ke.prototype,{construct:function(e,n){var a=this;n=od(n);var o=hn.acquireContext(e,n),l=o&&o.canvas,c=l&&l.height,d=l&&l.width;if(a.id=y.uid(),a.ctx=o,a.canvas=l,a.config=n,a.width=d,a.height=c,a.aspectRatio=c?d/c:null,a.options=n.options,a._bufferedRender=!1,a._layers=[],a.chart=a,a.controller=a,ke.instances[a.id]=a,Object.defineProperty(a,"data",{get:function(){return a.config.data},set:function(f){a.config.data=f}}),!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}a.initialize(),a.update()},initialize:function(){var e=this;return et.notify(e,"beforeInit"),y.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),et.notify(e,"afterInit"),e},clear:function(){return y.canvas.clear(this),this},stop:function(){return gr.cancelAnimation(this),this},resize:function(e){var n=this,a=n.options,o=n.canvas,l=a.maintainAspectRatio&&n.aspectRatio||null,c=Math.max(0,Math.floor(y.getMaximumWidth(o))),d=Math.max(0,Math.floor(l?c/l:y.getMaximumHeight(o)));if(!(n.width===c&&n.height===d)&&(o.width=n.width=c,o.height=n.height=d,o.style.width=c+"px",o.style.height=d+"px",y.retinaScale(n,a.devicePixelRatio),!e)){var f={width:c,height:d};et.notify(n,"resize",[f]),a.onResize&&a.onResize(n,f),n.stop(),n.update({duration:a.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,n=e.scales||{},a=e.scale;y.each(n.xAxes,function(o,l){o.id||(o.id=Ko(n.xAxes,"x-axis-",l))}),y.each(n.yAxes,function(o,l){o.id||(o.id=Ko(n.yAxes,"y-axis-",l))}),a&&(a.id=a.id||"scale")},buildOrUpdateScales:function(){var e=this,n=e.options,a=e.scales||{},o=[],l=Object.keys(a).reduce(function(c,d){return c[d]=!1,c},{});n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(c){return{options:c,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(c){return{options:c,dtype:"linear",dposition:"left"}}))),n.scale&&o.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),y.each(o,function(c){var d=c.options,f=d.id,h=Tr(d.type,c.dtype);Jo(d.position)!==Jo(c.dposition)&&(d.position=c.dposition),l[f]=!0;var m=null;if(f in a&&a[f].type===h)m=a[f],m.options=d,m.ctx=e.ctx,m.chart=e;else{var v=Hn.getScaleConstructor(h);if(!v)return;m=new v({id:f,type:h,options:d,ctx:e.ctx,chart:e}),a[m.id]=m}m.mergeTicksOptions(),c.isDefault&&(e.scale=m)}),y.each(l,function(c,d){c||delete a[d]}),e.scales=a,Hn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],a=e.data.datasets,o,l;for(o=0,l=a.length;o<l;o++){var c=a[o],d=e.getDatasetMeta(o),f=c.type||e.config.type;if(d.type&&d.type!==f&&(e.destroyDatasetMeta(o),d=e.getDatasetMeta(o)),d.type=f,d.order=c.order||0,d.index=o,d.controller)d.controller.updateIndex(o),d.controller.linkScales();else{var h=No[d.type];if(h===void 0)throw new Error('"'+d.type+'" is not a chart type.');d.controller=new h(e,o),n.push(d.controller)}}return n},resetElements:function(){var e=this;y.each(e.data.datasets,function(n,a){e.getDatasetMeta(a).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var n=this,a,o;if((!e||typeof e!="object")&&(e={duration:e,lazy:arguments[1]}),sd(n),et._invalidate(n),et.notify(n,"beforeUpdate")!==!1){n.tooltip._data=n.data;var l=n.buildOrUpdateControllers();for(a=0,o=n.data.datasets.length;a<o;a++)n.getDatasetMeta(a).controller.buildOrUpdateElements();n.updateLayout(),n.options.animation&&n.options.animation.duration&&y.each(l,function(c){c.reset()}),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],et.notify(n,"afterUpdate"),n._layers.sort(Zo("z","_idx")),n._bufferedRender?n._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:n.render(e)}},updateLayout:function(){var e=this;et.notify(e,"beforeLayout")!==!1&&(It.update(this,this.width,this.height),e._layers=[],y.each(e.boxes,function(n){n._configure&&n._configure(),e._layers.push.apply(e._layers,n._layers())},e),e._layers.forEach(function(n,a){n._idx=a}),et.notify(e,"afterScaleUpdate"),et.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(et.notify(e,"beforeDatasetsUpdate")!==!1){for(var n=0,a=e.data.datasets.length;n<a;++n)e.updateDataset(n);et.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var n=this,a=n.getDatasetMeta(e),o={meta:a,index:e};et.notify(n,"beforeDatasetUpdate",[o])!==!1&&(a.controller._update(),et.notify(n,"afterDatasetUpdate",[o]))},render:function(e){var n=this;(!e||typeof e!="object")&&(e={duration:e,lazy:arguments[1]});var a=n.options.animation,o=Tr(e.duration,a&&a.duration),l=e.lazy;if(et.notify(n,"beforeRender")!==!1){var c=function(f){et.notify(n,"afterRender"),y.callback(a&&a.onComplete,[f],n)};if(a&&o){var d=new fr({numSteps:o/16.66,easing:e.easing||a.easing,render:function(f,h){var m=y.easing.effects[h.easing],v=h.currentStep,p=v/h.numSteps;f.draw(m(p),p,v)},onAnimationProgress:a.onProgress,onAnimationComplete:c});gr.addAnimation(n,d,o,l)}else n.draw(),c(new fr({numSteps:0,chart:n}));return n}},draw:function(e){var n=this,a,o;if(n.clear(),y.isNullOrUndef(e)&&(e=1),n.transition(e),!(n.width<=0||n.height<=0)&&et.notify(n,"beforeDraw",[e])!==!1){for(o=n._layers,a=0;a<o.length&&o[a].z<=0;++a)o[a].draw(n.chartArea);for(n.drawDatasets(e);a<o.length;++a)o[a].draw(n.chartArea);n._drawTooltip(e),et.notify(n,"afterDraw",[e])}},transition:function(e){for(var n=this,a=0,o=(n.data.datasets||[]).length;a<o;++a)n.isDatasetVisible(a)&&n.getDatasetMeta(a).controller.transition(e);n.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var n=this,a=n.data.datasets||[],o=[],l,c;for(l=0,c=a.length;l<c;++l)(!e||n.isDatasetVisible(l))&&o.push(n.getDatasetMeta(l));return o.sort(Zo("order","index")),o},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var n=this,a,o;if(et.notify(n,"beforeDatasetsDraw",[e])!==!1){for(a=n._getSortedVisibleDatasetMetas(),o=a.length-1;o>=0;--o)n.drawDataset(a[o],e);et.notify(n,"afterDatasetsDraw",[e])}},drawDataset:function(e,n){var a=this,o={meta:e,index:e.index,easingValue:n};et.notify(a,"beforeDatasetDraw",[o])!==!1&&(e.controller.draw(n),et.notify(a,"afterDatasetDraw",[o]))},_drawTooltip:function(e){var n=this,a=n.tooltip,o={tooltip:a,easingValue:e};et.notify(n,"beforeTooltipDraw",[o])!==!1&&(a.draw(),et.notify(n,"afterTooltipDraw",[o]))},getElementAtEvent:function(e){return dn.modes.single(this,e)},getElementsAtEvent:function(e){return dn.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return dn.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,n,a){var o=dn.modes[n];return typeof o=="function"?o(this,e,a):[]},getDatasetAtEvent:function(e){return dn.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var n=this,a=n.data.datasets[e];a._meta||(a._meta={});var o=a._meta[n.id];return o||(o=a._meta[n.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a.order||0,index:e}),o},getVisibleDatasetCount:function(){for(var e=0,n=0,a=this.data.datasets.length;n<a;++n)this.isDatasetVisible(n)&&e++;return e},isDatasetVisible:function(e){var n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var n=this.id,a=this.data.datasets[e],o=a._meta&&a._meta[n];o&&(o.controller.destroy(),delete a._meta[n])},destroy:function(){var e=this,n=e.canvas,a,o;for(e.stop(),a=0,o=e.data.datasets.length;a<o;++a)e.destroyDatasetMeta(a);n&&(e.unbindEvents(),y.canvas.clear(e),hn.releaseContext(e.ctx),e.canvas=null,e.ctx=null),et.notify(e,"destroy"),delete ke.instances[e.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Mr({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,n=e._listeners={},a=function(){e.eventHandler.apply(e,arguments)};y.each(e.options.events,function(o){hn.addEventListener(e,o,a),n[o]=a}),e.options.responsive&&(a=function(){e.resize()},hn.addEventListener(e,"resize",a),n.resize=a)},unbindEvents:function(){var e=this,n=e._listeners;n&&(delete e._listeners,y.each(n,function(a,o){hn.removeEventListener(e,o,a)}))},updateHoverStyle:function(e,n,a){var o=a?"set":"remove",l,c,d;for(c=0,d=e.length;c<d;++c)l=e[c],l&&this.getDatasetMeta(l._datasetIndex).controller[o+"HoverStyle"](l);n==="dataset"&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(e){var n=this,a=n.tooltip;if(et.notify(n,"beforeEvent",[e])!==!1){n._bufferedRender=!0,n._bufferedRequest=null;var o=n.handleEvent(e);a&&(o=a._start?a.handleEvent(e):o|a.handleEvent(e)),et.notify(n,"afterEvent",[e]);var l=n._bufferedRequest;return l?n.render(l):o&&!n.animating&&(n.stop(),n.render({duration:n.options.hover.animationDuration,lazy:!0})),n._bufferedRender=!1,n._bufferedRequest=null,n}},handleEvent:function(e){var n=this,a=n.options||{},o=a.hover,l=!1;return n.lastActive=n.lastActive||[],e.type==="mouseout"?n.active=[]:n.active=n.getElementsAtEventForMode(e,o.mode,o),y.callback(a.onHover||a.hover.onHover,[e.native,n.active],n),(e.type==="mouseup"||e.type==="click")&&a.onClick&&a.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),l=!y.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,l}}),ke.instances={};var j=ke;ke.Controller=ke,ke.types={},y.configMerge=Rr,y.scaleMerge=$o;var ld=function(){y.where=function(o,l){if(y.isArray(o)&&Array.prototype.filter)return o.filter(l);var c=[];return y.each(o,function(d){l(d)&&c.push(d)}),c},y.findIndex=Array.prototype.findIndex?function(o,l,c){return o.findIndex(l,c)}:function(o,l,c){c=c===void 0?o:c;for(var d=0,f=o.length;d<f;++d)if(l.call(c,o[d],d,o))return d;return-1},y.findNextWhere=function(o,l,c){y.isNullOrUndef(c)&&(c=-1);for(var d=c+1;d<o.length;d++){var f=o[d];if(l(f))return f}},y.findPreviousWhere=function(o,l,c){y.isNullOrUndef(c)&&(c=o.length);for(var d=c-1;d>=0;d--){var f=o[d];if(l(f))return f}},y.isNumber=function(o){return!isNaN(parseFloat(o))&&isFinite(o)},y.almostEquals=function(o,l,c){return Math.abs(o-l)<c},y.almostWhole=function(o,l){var c=Math.round(o);return c-l<=o&&c+l>=o},y.max=function(o){return o.reduce(function(l,c){return isNaN(c)?l:Math.max(l,c)},Number.NEGATIVE_INFINITY)},y.min=function(o){return o.reduce(function(l,c){return isNaN(c)?l:Math.min(l,c)},Number.POSITIVE_INFINITY)},y.sign=Math.sign?function(o){return Math.sign(o)}:function(o){return o=+o,o===0||isNaN(o)?o:o>0?1:-1},y.toRadians=function(o){return o*(Math.PI/180)},y.toDegrees=function(o){return o*(180/Math.PI)},y._decimalPlaces=function(o){if(y.isFinite(o)){for(var l=1,c=0;Math.round(o*l)/l!==o;)l*=10,c++;return c}},y.getAngleFromPoint=function(o,l){var c=l.x-o.x,d=l.y-o.y,f=Math.sqrt(c*c+d*d),h=Math.atan2(d,c);return h<-.5*Math.PI&&(h+=2*Math.PI),{angle:h,distance:f}},y.distanceBetweenPoints=function(o,l){return Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2))},y.aliasPixel=function(o){return o%2===0?0:.5},y._alignPixel=function(o,l,c){var d=o.currentDevicePixelRatio,f=c/2;return Math.round((l-f)*d)/d+f},y.splineCurve=function(o,l,c,d){var f=o.skip?l:o,h=l,m=c.skip?l:c,v=Math.sqrt(Math.pow(h.x-f.x,2)+Math.pow(h.y-f.y,2)),p=Math.sqrt(Math.pow(m.x-h.x,2)+Math.pow(m.y-h.y,2)),x=v/(v+p),A=p/(v+p);x=isNaN(x)?0:x,A=isNaN(A)?0:A;var w=d*x,_=d*A;return{previous:{x:h.x-w*(m.x-f.x),y:h.y-w*(m.y-f.y)},next:{x:h.x+_*(m.x-f.x),y:h.y+_*(m.y-f.y)}}},y.EPSILON=Number.EPSILON||1e-14,y.splineCurveMonotone=function(o){var l=(o||[]).map(function(S){return{model:S._model,deltaK:0,mK:0}}),c=l.length,d,f,h,m;for(d=0;d<c;++d)if(h=l[d],!h.model.skip){if(f=d>0?l[d-1]:null,m=d<c-1?l[d+1]:null,m&&!m.model.skip){var v=m.model.x-h.model.x;h.deltaK=v!==0?(m.model.y-h.model.y)/v:0}!f||f.model.skip?h.mK=h.deltaK:!m||m.model.skip?h.mK=f.deltaK:this.sign(f.deltaK)!==this.sign(h.deltaK)?h.mK=0:h.mK=(f.deltaK+h.deltaK)/2}var p,x,A,w;for(d=0;d<c-1;++d)if(h=l[d],m=l[d+1],!(h.model.skip||m.model.skip)){if(y.almostEquals(h.deltaK,0,this.EPSILON)){h.mK=m.mK=0;continue}p=h.mK/h.deltaK,x=m.mK/h.deltaK,w=Math.pow(p,2)+Math.pow(x,2),!(w<=9)&&(A=3/Math.sqrt(w),h.mK=p*A*h.deltaK,m.mK=x*A*h.deltaK)}var _;for(d=0;d<c;++d)h=l[d],!h.model.skip&&(f=d>0?l[d-1]:null,m=d<c-1?l[d+1]:null,f&&!f.model.skip&&(_=(h.model.x-f.model.x)/3,h.model.controlPointPreviousX=h.model.x-_,h.model.controlPointPreviousY=h.model.y-_*h.mK),m&&!m.model.skip&&(_=(m.model.x-h.model.x)/3,h.model.controlPointNextX=h.model.x+_,h.model.controlPointNextY=h.model.y+_*h.mK))},y.nextItem=function(o,l,c){return c?l>=o.length-1?o[0]:o[l+1]:l>=o.length-1?o[o.length-1]:o[l+1]},y.previousItem=function(o,l,c){return c?l<=0?o[o.length-1]:o[l-1]:l<=0?o[0]:o[l-1]},y.niceNum=function(o,l){var c=Math.floor(y.log10(o)),d=o/Math.pow(10,c),f;return l?d<1.5?f=1:d<3?f=2:d<7?f=5:f=10:d<=1?f=1:d<=2?f=2:d<=5?f=5:f=10,f*Math.pow(10,c)},y.requestAnimFrame=function(){return typeof window>"u"?function(o){o()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){return window.setTimeout(o,1e3/60)}}(),y.getRelativePosition=function(o,l){var c,d,f=o.originalEvent||o,h=o.target||o.srcElement,m=h.getBoundingClientRect(),v=f.touches;v&&v.length>0?(c=v[0].clientX,d=v[0].clientY):(c=f.clientX,d=f.clientY);var p=parseFloat(y.getStyle(h,"padding-left")),x=parseFloat(y.getStyle(h,"padding-top")),A=parseFloat(y.getStyle(h,"padding-right")),w=parseFloat(y.getStyle(h,"padding-bottom")),_=m.right-m.left-p-A,S=m.bottom-m.top-x-w;return c=Math.round((c-m.left-p)/_*h.width/l.currentDevicePixelRatio),d=Math.round((d-m.top-x)/S*h.height/l.currentDevicePixelRatio),{x:c,y:d}};function e(o,l,c){var d;return typeof o=="string"?(d=parseInt(o,10),o.indexOf("%")!==-1&&(d=d/100*l.parentNode[c])):d=o,d}function n(o){return o!=null&&o!=="none"}function a(o,l,c){var d=document.defaultView,f=y._getParentNode(o),h=d.getComputedStyle(o)[l],m=d.getComputedStyle(f)[l],v=n(h),p=n(m),x=Number.POSITIVE_INFINITY;return v||p?Math.min(v?e(h,o,c):x,p?e(m,f,c):x):"none"}y.getConstraintWidth=function(o){return a(o,"max-width","clientWidth")},y.getConstraintHeight=function(o){return a(o,"max-height","clientHeight")},y._calculatePadding=function(o,l,c){return l=y.getStyle(o,l),l.indexOf("%")>-1?c*parseInt(l,10)/100:parseInt(l,10)},y._getParentNode=function(o){var l=o.parentNode;return l&&l.toString()==="[object ShadowRoot]"&&(l=l.host),l},y.getMaximumWidth=function(o){var l=y._getParentNode(o);if(!l)return o.clientWidth;var c=l.clientWidth,d=y._calculatePadding(l,"padding-left",c),f=y._calculatePadding(l,"padding-right",c),h=c-d-f,m=y.getConstraintWidth(o);return isNaN(m)?h:Math.min(h,m)},y.getMaximumHeight=function(o){var l=y._getParentNode(o);if(!l)return o.clientHeight;var c=l.clientHeight,d=y._calculatePadding(l,"padding-top",c),f=y._calculatePadding(l,"padding-bottom",c),h=c-d-f,m=y.getConstraintHeight(o);return isNaN(m)?h:Math.min(h,m)},y.getStyle=function(o,l){return o.currentStyle?o.currentStyle[l]:document.defaultView.getComputedStyle(o,null).getPropertyValue(l)},y.retinaScale=function(o,l){var c=o.currentDevicePixelRatio=l||typeof window<"u"&&window.devicePixelRatio||1;if(c!==1){var d=o.canvas,f=o.height,h=o.width;d.height=f*c,d.width=h*c,o.ctx.scale(c,c),!d.style.height&&!d.style.width&&(d.style.height=f+"px",d.style.width=h+"px")}},y.fontString=function(o,l,c){return l+" "+o+"px "+c},y.longestText=function(o,l,c,d){d=d||{};var f=d.data=d.data||{},h=d.garbageCollect=d.garbageCollect||[];d.font!==l&&(f=d.data={},h=d.garbageCollect=[],d.font=l),o.font=l;var m=0,v=c.length,p,x,A,w,_;for(p=0;p<v;p++)if(w=c[p],w!=null&&y.isArray(w)!==!0)m=y.measureText(o,f,h,m,w);else if(y.isArray(w))for(x=0,A=w.length;x<A;x++)_=w[x],_!=null&&!y.isArray(_)&&(m=y.measureText(o,f,h,m,_));var S=h.length/2;if(S>c.length){for(p=0;p<S;p++)delete f[h[p]];h.splice(0,S)}return m},y.measureText=function(o,l,c,d,f){var h=l[f];return h||(h=l[f]=o.measureText(f).width,c.push(f)),h>d&&(d=h),d},y.numberOfLabelLines=function(o){var l=1;return y.each(o,function(c){y.isArray(c)&&c.length>l&&(l=c.length)}),l},y.color=pi?function(o){return o instanceof CanvasGradient&&(o=F.global.defaultColor),pi(o)}:function(o){return console.error("Color.js not found!"),o},y.getHoverColor=function(o){return o instanceof CanvasPattern||o instanceof CanvasGradient?o:y.color(o).saturate(.5).darken(.1).rgbString()}};function je(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Si(e){this.options=e||{}}y.extend(Si.prototype,{formats:je,parse:je,format:je,add:je,diff:je,startOf:je,endOf:je,_create:function(e){return e}}),Si.override=function(e){y.extend(Si.prototype,e)};var ud=Si,Lr={_date:ud},Yn={formatters:{values:function(e){return y.isArray(e)?e:""+e},linear:function(e,n,a){var o=a.length>3?a[2]-a[1]:a[1]-a[0];Math.abs(o)>1&&e!==Math.floor(e)&&(o=e-Math.floor(e));var l=y.log10(Math.abs(o)),c="";if(e!==0){var d=Math.max(Math.abs(a[0]),Math.abs(a[a.length-1]));if(d<1e-4){var f=y.log10(Math.abs(e)),h=Math.floor(f)-Math.floor(l);h=Math.max(Math.min(h,20),0),c=e.toExponential(h)}else{var m=-1*Math.floor(l);m=Math.max(Math.min(m,20),0),c=e.toFixed(m)}}else c="0";return c},logarithmic:function(e,n,a){var o=e/Math.pow(10,Math.floor(y.log10(e)));return e===0?"0":o===1||o===2||o===5||n===0||n===a.length-1?e.toExponential():""}}},He=y.isArray,Vn=y.isNullOrUndef,Ye=y.valueOrDefault,fn=y.valueAtIndexOrDefault;F._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Yn.formatters.values,minor:{},major:{}}});function cd(e,n){for(var a=[],o=e.length/n,l=0,c=e.length;l<c;l+=o)a.push(e[Math.floor(l)]);return a}function dd(e,n,a){var o=e.getTicks().length,l=Math.min(n,o-1),c=e.getPixelForTick(l),d=e._startPixel,f=e._endPixel,h=1e-6,m;if(!(a&&(o===1?m=Math.max(c-d,f-c):n===0?m=(e.getPixelForTick(1)-c)/2:m=(c-e.getPixelForTick(l-1))/2,c+=l<n?m:-m,c<d-h||c>f+h)))return c}function hd(e,n){y.each(e,function(a){var o=a.gc,l=o.length/2,c;if(l>n){for(c=0;c<l;++c)delete a.data[o[c]];o.splice(0,l)}})}function fd(e,n,a,o){var l=a.length,c=[],d=[],f=[],h=0,m=0,v,p,x,A,w,_,S,M,L,O,B,N,K;for(v=0;v<l;++v){if(A=a[v].label,w=a[v].major?n.major:n.minor,e.font=_=w.string,S=o[_]=o[_]||{data:{},gc:[]},M=w.lineHeight,L=O=0,!Vn(A)&&!He(A))L=y.measureText(e,S.data,S.gc,L,A),O=M;else if(He(A))for(p=0,x=A.length;p<x;++p)B=A[p],!Vn(B)&&!He(B)&&(L=y.measureText(e,S.data,S.gc,L,B),O+=M);c.push(L),d.push(O),f.push(M/2),h=Math.max(L,h),m=Math.max(O,m)}hd(o,l),N=c.indexOf(h),K=d.indexOf(m);function G(Q){return{width:c[Q]||0,height:d[Q]||0,offset:f[Q]||0}}return{first:G(0),last:G(l-1),widest:G(N),highest:G(K)}}function Un(e){return e.drawTicks?e.tickMarkLength:0}function Pr(e){var n,a;return e.display?(n=y.options._parseFont(e),a=y.options.toPadding(e.padding),n.lineHeight+a.height):0}function Xo(e,n){return y.extend(y.options._parseFont({fontFamily:Ye(n.fontFamily,e.fontFamily),fontSize:Ye(n.fontSize,e.fontSize),fontStyle:Ye(n.fontStyle,e.fontStyle),lineHeight:Ye(n.lineHeight,e.lineHeight)}),{color:y.options.resolve([n.fontColor,e.fontColor,F.global.defaultFontColor])})}function Or(e){var n=Xo(e,e.minor),a=e.major.enabled?Xo(e,e.major):n;return{minor:n,major:a}}function Er(e){var n=[],a,o,l;for(o=0,l=e.length;o<l;++o)a=e[o],typeof a._index<"u"&&n.push(a);return n}function gd(e){var n=e.length,a,o;if(n<2)return!1;for(o=e[0],a=1;a<n;++a)if(e[a]-e[a-1]!==o)return!1;return o}function md(e,n,a,o){var l=gd(e),c=(n.length-1)/o,d,f,h,m;if(!l)return Math.max(c,1);for(d=y.math._factorize(l),h=0,m=d.length-1;h<m;h++)if(f=d[h],f>c)return f;return Math.max(c,1)}function vd(e){var n=[],a,o;for(a=0,o=e.length;a<o;a++)e[a].major&&n.push(a);return n}function pd(e,n,a){var o=0,l=n[0],c,d;for(a=Math.ceil(a),c=0;c<e.length;c++)d=e[c],c===l?(d._index=c,o++,l=n[o*a]):delete d.label}function Ci(e,n,a,o){var l=Ye(a,0),c=Math.min(Ye(o,e.length),e.length),d=0,f,h,m,v;for(n=Math.ceil(n),o&&(f=o-a,n=f/Math.floor(f/n)),v=l;v<0;)d++,v=Math.round(l+d*n);for(h=Math.max(l,0);h<c;h++)m=e[h],h===v?(m._index=h,d++,v=Math.round(l+d*n)):delete m.label}var Fr=Kt.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){y.callback(this.options.beforeUpdate,[this])},update:function(e,n,a){var o=this,l=o.options.ticks,c=l.sampleSize,d,f,h,m,v;if(o.beforeUpdate(),o.maxWidth=e,o.maxHeight=n,o.margins=y.extend({left:0,right:0,top:0,bottom:0},a),o._ticks=null,o.ticks=null,o._labelSizes=null,o._maxLabelLines=0,o.longestLabelWidth=0,o.longestTextCache=o.longestTextCache||{},o._gridLineItems=null,o._labelItems=null,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeDataLimits(),o.determineDataLimits(),o.afterDataLimits(),o.beforeBuildTicks(),m=o.buildTicks()||[],m=o.afterBuildTicks(m)||m,(!m||!m.length)&&o.ticks)for(m=[],d=0,f=o.ticks.length;d<f;++d)m.push({value:o.ticks[d],major:!1});return o._ticks=m,v=c<m.length,h=o._convertTicksToLabels(v?cd(m,c):m),o._configure(),o.beforeCalculateTickRotation(),o.calculateTickRotation(),o.afterCalculateTickRotation(),o.beforeFit(),o.fit(),o.afterFit(),o._ticksToDraw=l.display&&(l.autoSkip||l.source==="auto")?o._autoSkip(m):m,v&&(h=o._convertTicksToLabels(o._ticksToDraw)),o.ticks=h,o.afterUpdate(),o.minSize},_configure:function(){var e=this,n=e.options.ticks.reverse,a,o;e.isHorizontal()?(a=e.left,o=e.right):(a=e.top,o=e.bottom,n=!n),e._startPixel=a,e._endPixel=o,e._reversePixels=n,e._length=o-a},afterUpdate:function(){y.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){y.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){y.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){y.callback(this.options.beforeDataLimits,[this])},determineDataLimits:y.noop,afterDataLimits:function(){y.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){y.callback(this.options.beforeBuildTicks,[this])},buildTicks:y.noop,afterBuildTicks:function(e){var n=this;return He(e)&&e.length?y.callback(n.options.afterBuildTicks,[n,e]):(n.ticks=y.callback(n.options.afterBuildTicks,[n,n.ticks])||n.ticks,e)},beforeTickToLabelConversion:function(){y.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,n=e.options.ticks;e.ticks=e.ticks.map(n.userCallback||n.callback,this)},afterTickToLabelConversion:function(){y.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){y.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,n=e.options,a=n.ticks,o=e.getTicks().length,l=a.minRotation||0,c=a.maxRotation,d=l,f,h,m,v,p,x,A;if(!e._isVisible()||!a.display||l>=c||o<=1||!e.isHorizontal()){e.labelRotation=l;return}f=e._getLabelSizes(),h=f.widest.width,m=f.highest.height-f.highest.offset,v=Math.min(e.maxWidth,e.chart.width-h),p=n.offset?e.maxWidth/o:v/(o-1),h+6>p&&(p=v/(o-(n.offset?.5:1)),x=e.maxHeight-Un(n.gridLines)-a.padding-Pr(n.scaleLabel),A=Math.sqrt(h*h+m*m),d=y.toDegrees(Math.min(Math.asin(Math.min((f.highest.height+6)/p,1)),Math.asin(Math.min(x/A,1))-Math.asin(m/A))),d=Math.max(l,Math.min(c,d))),e.labelRotation=d},afterCalculateTickRotation:function(){y.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){y.callback(this.options.beforeFit,[this])},fit:function(){var e=this,n=e.minSize={width:0,height:0},a=e.chart,o=e.options,l=o.ticks,c=o.scaleLabel,d=o.gridLines,f=e._isVisible(),h=o.position==="bottom",m=e.isHorizontal();if(m?n.width=e.maxWidth:f&&(n.width=Un(d)+Pr(c)),m?f&&(n.height=Un(d)+Pr(c)):n.height=e.maxHeight,l.display&&f){var v=Or(l),p=e._getLabelSizes(),x=p.first,A=p.last,w=p.widest,_=p.highest,S=v.minor.lineHeight*.4,M=l.padding;if(m){var L=e.labelRotation!==0,O=y.toRadians(e.labelRotation),B=Math.cos(O),N=Math.sin(O),K=N*w.width+B*(_.height-(L?_.offset:0))+(L?0:S);n.height=Math.min(e.maxHeight,n.height+K+M);var G=e.getPixelForTick(0)-e.left,Q=e.right-e.getPixelForTick(e.getTicks().length-1),nt,gt;L?(nt=h?B*x.width+N*x.offset:N*(x.height-x.offset),gt=h?N*(A.height-A.offset):B*A.width+N*A.offset):(nt=x.width/2,gt=A.width/2),e.paddingLeft=Math.max((nt-G)*e.width/(e.width-G),0)+3,e.paddingRight=Math.max((gt-Q)*e.width/(e.width-Q),0)+3}else{var ht=l.mirror?0:w.width+M+S;n.width=Math.min(e.maxWidth,n.width+ht),e.paddingTop=x.height/2,e.paddingBottom=A.height/2}}e.handleMargins(),m?(e.width=e._length=a.width-e.margins.left-e.margins.right,e.height=n.height):(e.width=n.width,e.height=e._length=a.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){y.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return e==="top"||e==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(Vn(e))return NaN;if((typeof e=="number"||e instanceof Number)&&!isFinite(e))return NaN;if(e){if(this.isHorizontal()){if(e.x!==void 0)return this.getRightValue(e.x)}else if(e.y!==void 0)return this.getRightValue(e.y)}return e},_convertTicksToLabels:function(e){var n=this,a,o,l;for(n.ticks=e.map(function(c){return c.value}),n.beforeTickToLabelConversion(),a=n.convertTicksToLabels(e)||n.ticks,n.afterTickToLabelConversion(),o=0,l=e.length;o<l;++o)e[o].label=a[o];return a},_getLabelSizes:function(){var e=this,n=e._labelSizes;return n||(e._labelSizes=n=fd(e.ctx,Or(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=n.widest.width),n},_parseValue:function(e){var n,a,o,l;return He(e)?(n=+this.getRightValue(e[0]),a=+this.getRightValue(e[1]),o=Math.min(n,a),l=Math.max(n,a)):(e=+this.getRightValue(e),n=void 0,a=e,o=e,l=e),{min:o,max:l,start:n,end:a}},_getScaleLabel:function(e){var n=this._parseValue(e);return n.start!==void 0?"["+n.start+", "+n.end+"]":+this.getRightValue(e)},getLabelForIndex:y.noop,getPixelForValue:y.noop,getValueForPixel:y.noop,getPixelForTick:function(e){var n=this,a=n.options.offset,o=n._ticks.length,l=1/Math.max(o-(a?0:1),1);return e<0||e>o-1?null:n.getPixelForDecimal(e*l+(a?l/2:0))},getPixelForDecimal:function(e){var n=this;return n._reversePixels&&(e=1-e),n._startPixel+e*n._length},getDecimalForPixel:function(e){var n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,n=e.min,a=e.max;return e.beginAtZero?0:n<0&&a<0?a:n>0&&a>0?n:0},_autoSkip:function(e){var n=this,a=n.options.ticks,o=n._length,l=a.maxTicksLimit||o/n._tickSize()+1,c=a.major.enabled?vd(e):[],d=c.length,f=c[0],h=c[d-1],m,v,p,x;if(d>l)return pd(e,c,d/l),Er(e);if(p=md(c,e,o,l),d>0){for(m=0,v=d-1;m<v;m++)Ci(e,p,c[m],c[m+1]);return x=d>1?(h-f)/(d-1):null,Ci(e,p,y.isNullOrUndef(x)?0:f-x,f),Ci(e,p,h,y.isNullOrUndef(x)?e.length:h+x),Er(e)}return Ci(e,p),Er(e)},_tickSize:function(){var e=this,n=e.options.ticks,a=y.toRadians(e.labelRotation),o=Math.abs(Math.cos(a)),l=Math.abs(Math.sin(a)),c=e._getLabelSizes(),d=n.autoSkipPadding||0,f=c?c.widest.width+d:0,h=c?c.highest.height+d:0;return e.isHorizontal()?h*o>f*l?f/o:h/l:h*l<f*o?h/o:f/l},_isVisible:function(){var e=this,n=e.chart,a=e.options.display,o,l,c;if(a!=="auto")return!!a;for(o=0,l=n.data.datasets.length;o<l;++o)if(n.isDatasetVisible(o)&&(c=n.getDatasetMeta(o),c.xAxisID===e.id||c.yAxisID===e.id))return!0;return!1},_computeGridLineItems:function(e){var n=this,a=n.chart,o=n.options,l=o.gridLines,c=o.position,d=l.offsetGridLines,f=n.isHorizontal(),h=n._ticksToDraw,m=h.length+(d?1:0),v=Un(l),p=[],x=l.drawBorder?fn(l.lineWidth,0,0):0,A=x/2,w=y._alignPixel,_=function(vh){return w(a,vh,x)},S,M,L,O,B,N,K,G,Q,nt,gt,ht,ct,mt,mn,vn,Vr;for(c==="top"?(S=_(n.bottom),K=n.bottom-v,Q=S-A,gt=_(e.top)+A,ct=e.bottom):c==="bottom"?(S=_(n.top),gt=e.top,ct=_(e.bottom)-A,K=S+A,Q=n.top+v):c==="left"?(S=_(n.right),N=n.right-v,G=S-A,nt=_(e.left)+A,ht=e.right):(S=_(n.left),nt=e.left,ht=_(e.right)-A,N=S+A,G=n.left+v),M=0;M<m;++M)L=h[M]||{},!(Vn(L.label)&&M<h.length)&&(M===n.zeroLineIndex&&o.offset===d?(mt=l.zeroLineWidth,mn=l.zeroLineColor,vn=l.zeroLineBorderDash||[],Vr=l.zeroLineBorderDashOffset||0):(mt=fn(l.lineWidth,M,1),mn=fn(l.color,M,"rgba(0,0,0,0.1)"),vn=l.borderDash||[],Vr=l.borderDashOffset||0),O=dd(n,L._index||M,d),O!==void 0&&(B=w(a,O,mt),f?N=G=nt=ht=B:K=Q=gt=ct=B,p.push({tx1:N,ty1:K,tx2:G,ty2:Q,x1:nt,y1:gt,x2:ht,y2:ct,width:mt,color:mn,borderDash:vn,borderDashOffset:Vr})));return p.ticksLength=m,p.borderValue=S,p},_computeLabelItems:function(){var e=this,n=e.options,a=n.ticks,o=n.position,l=a.mirror,c=e.isHorizontal(),d=e._ticksToDraw,f=Or(a),h=a.padding,m=Un(n.gridLines),v=-y.toRadians(e.labelRotation),p=[],x,A,w,_,S,M,L,O,B,N,K,G;for(o==="top"?(M=e.bottom-m-h,L=v?"left":"center"):o==="bottom"?(M=e.top+m+h,L=v?"right":"center"):o==="left"?(S=e.right-(l?0:m)-h,L=l?"left":"right"):(S=e.left+(l?0:m)+h,L=l?"right":"left"),x=0,A=d.length;x<A;++x)w=d[x],_=w.label,!Vn(_)&&(O=e.getPixelForTick(w._index||x)+a.labelOffset,B=w.major?f.major:f.minor,N=B.lineHeight,K=He(_)?_.length:1,c?(S=O,G=o==="top"?((v?1:.5)-K)*N:(v?0:.5)*N):(M=O,G=(1-K)*N/2),p.push({x:S,y:M,rotation:v,label:_,font:B,textOffset:G,textAlign:L}));return p},_drawGrid:function(e){var n=this,a=n.options.gridLines;if(a.display){var o=n.ctx,l=n.chart,c=y._alignPixel,d=a.drawBorder?fn(a.lineWidth,0,0):0,f=n._gridLineItems||(n._gridLineItems=n._computeGridLineItems(e)),h,m,v,p,x;for(v=0,p=f.length;v<p;++v)x=f[v],h=x.width,m=x.color,h&&m&&(o.save(),o.lineWidth=h,o.strokeStyle=m,o.setLineDash&&(o.setLineDash(x.borderDash),o.lineDashOffset=x.borderDashOffset),o.beginPath(),a.drawTicks&&(o.moveTo(x.tx1,x.ty1),o.lineTo(x.tx2,x.ty2)),a.drawOnChartArea&&(o.moveTo(x.x1,x.y1),o.lineTo(x.x2,x.y2)),o.stroke(),o.restore());if(d){var A=d,w=fn(a.lineWidth,f.ticksLength-1,1),_=f.borderValue,S,M,L,O;n.isHorizontal()?(S=c(l,n.left,A)-A/2,M=c(l,n.right,w)+w/2,L=O=_):(L=c(l,n.top,A)-A/2,O=c(l,n.bottom,w)+w/2,S=M=_),o.lineWidth=d,o.strokeStyle=fn(a.color,0),o.beginPath(),o.moveTo(S,L),o.lineTo(M,O),o.stroke()}}},_drawLabels:function(){var e=this,n=e.options.ticks;if(n.display){var a=e.ctx,o=e._labelItems||(e._labelItems=e._computeLabelItems()),l,c,d,f,h,m,v,p;for(l=0,d=o.length;l<d;++l){if(h=o[l],m=h.font,a.save(),a.translate(h.x,h.y),a.rotate(h.rotation),a.font=m.string,a.fillStyle=m.color,a.textBaseline="middle",a.textAlign=h.textAlign,v=h.label,p=h.textOffset,He(v))for(c=0,f=v.length;c<f;++c)a.fillText(""+v[c],0,p),p+=m.lineHeight;else a.fillText(v,0,p);a.restore()}}},_drawTitle:function(){var e=this,n=e.ctx,a=e.options,o=a.scaleLabel;if(o.display){var l=Ye(o.fontColor,F.global.defaultFontColor),c=y.options._parseFont(o),d=y.options.toPadding(o.padding),f=c.lineHeight/2,h=a.position,m=0,v,p;if(e.isHorizontal())v=e.left+e.width/2,p=h==="bottom"?e.bottom-f-d.bottom:e.top+f+d.top;else{var x=h==="left";v=x?e.left+f+d.top:e.right-f-d.top,p=e.top+e.height/2,m=x?-.5*Math.PI:.5*Math.PI}n.save(),n.translate(v,p),n.rotate(m),n.textAlign="center",n.textBaseline="middle",n.fillStyle=l,n.font=c.string,n.fillText(o.labelString,0,0),n.restore()}},draw:function(e){var n=this;n._isVisible()&&(n._drawGrid(e),n._drawTitle(),n._drawLabels())},_layers:function(){var e=this,n=e.options,a=n.ticks&&n.ticks.z||0,o=n.gridLines&&n.gridLines.z||0;return!e._isVisible()||a===o||e.draw!==e._draw?[{z:a,draw:function(){e.draw.apply(e,arguments)}}]:[{z:o,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:a,draw:function(){e._drawLabels.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var n=this,a=n.isHorizontal();return n.chart._getSortedVisibleDatasetMetas().filter(function(o){return(!e||o.type===e)&&(a?o.xAxisID===n.id:o.yAxisID===n.id)})}});Fr.prototype._draw=Fr.prototype.draw;var _t=Fr,Ir=y.isNullOrUndef,bd={position:"bottom"},Qo=_t.extend({determineDataLimits:function(){var e=this,n=e._getLabels(),a=e.options.ticks,o=a.min,l=a.max,c=0,d=n.length-1,f;o!==void 0&&(f=n.indexOf(o),f>=0&&(c=f)),l!==void 0&&(f=n.indexOf(l),f>=0&&(d=f)),e.minIndex=c,e.maxIndex=d,e.min=n[c],e.max=n[d]},buildTicks:function(){var e=this,n=e._getLabels(),a=e.minIndex,o=e.maxIndex;e.ticks=a===0&&o===n.length-1?n:n.slice(a,o+1)},getLabelForIndex:function(e,n){var a=this,o=a.chart;return o.getDatasetMeta(n).controller._getValueScaleId()===a.id?a.getRightValue(o.data.datasets[n].data[e]):a._getLabels()[e]},_configure:function(){var e=this,n=e.options.offset,a=e.ticks;_t.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),a&&(e._startValue=e.minIndex-(n?.5:0),e._valueRange=Math.max(a.length-(n?0:1),1))},getPixelForValue:function(e,n,a){var o=this,l,c,d;return!Ir(n)&&!Ir(a)&&(e=o.chart.data.datasets[a].data[n]),Ir(e)||(l=o.isHorizontal()?e.x:e.y),(l!==void 0||e!==void 0&&isNaN(n))&&(c=o._getLabels(),e=y.valueOrDefault(l,e),d=c.indexOf(e),n=d!==-1?d:n,isNaN(n)&&(n=e)),o.getPixelForDecimal((n-o._startValue)/o._valueRange)},getPixelForTick:function(e){var n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e],e+this.minIndex)},getValueForPixel:function(e){var n=this,a=Math.round(n._startValue+n.getDecimalForPixel(e)*n._valueRange);return Math.min(Math.max(a,0),n.ticks.length-1)},getBasePixel:function(){return this.bottom}}),yd=bd;Qo._defaults=yd;var xd=y.noop,Ve=y.isNullOrUndef;function Ad(e,n){var a=[],o=1e-14,l=e.stepSize,c=l||1,d=e.maxTicks-1,f=e.min,h=e.max,m=e.precision,v=n.min,p=n.max,x=y.niceNum((p-v)/d/c)*c,A,w,_,S;if(x<o&&Ve(f)&&Ve(h))return[v,p];S=Math.ceil(p/x)-Math.floor(v/x),S>d&&(x=y.niceNum(S*x/d/c)*c),l||Ve(m)?A=Math.pow(10,y._decimalPlaces(x)):(A=Math.pow(10,m),x=Math.ceil(x*A)/A),w=Math.floor(v/x)*x,_=Math.ceil(p/x)*x,l&&(!Ve(f)&&y.almostWhole(f/x,x/1e3)&&(w=f),!Ve(h)&&y.almostWhole(h/x,x/1e3)&&(_=h)),S=(_-w)/x,y.almostEquals(S,Math.round(S),x/1e3)?S=Math.round(S):S=Math.ceil(S),w=Math.round(w*A)/A,_=Math.round(_*A)/A,a.push(Ve(f)?w:f);for(var M=1;M<S;++M)a.push(Math.round((w+M*x)*A)/A);return a.push(Ve(h)?_:h),a}var Di=_t.extend({getRightValue:function(e){return typeof e=="string"?+e:_t.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,n=e.options,a=n.ticks;if(a.beginAtZero){var o=y.sign(e.min),l=y.sign(e.max);o<0&&l<0?e.max=0:o>0&&l>0&&(e.min=0)}var c=a.min!==void 0||a.suggestedMin!==void 0,d=a.max!==void 0||a.suggestedMax!==void 0;a.min!==void 0?e.min=a.min:a.suggestedMin!==void 0&&(e.min===null?e.min=a.suggestedMin:e.min=Math.min(e.min,a.suggestedMin)),a.max!==void 0?e.max=a.max:a.suggestedMax!==void 0&&(e.max===null?e.max=a.suggestedMax:e.max=Math.max(e.max,a.suggestedMax)),c!==d&&e.min>=e.max&&(c?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,a.beginAtZero||e.min--)},getTickLimit:function(){var e=this,n=e.options.ticks,a=n.stepSize,o=n.maxTicksLimit,l;return a?l=Math.ceil(e.max/a)-Math.floor(e.min/a)+1:(l=e._computeTickLimit(),o=o||11),o&&(l=Math.min(o,l)),l},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:xd,buildTicks:function(){var e=this,n=e.options,a=n.ticks,o=e.getTickLimit();o=Math.max(2,o);var l={maxTicks:o,min:a.min,max:a.max,precision:a.precision,stepSize:y.valueOrDefault(a.fixedStepSize,a.stepSize)},c=e.ticks=Ad(l,e);e.handleDirectionalChanges(),e.max=y.max(c),e.min=y.min(c),a.reverse?(c.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),_t.prototype.convertTicksToLabels.call(e)},_configure:function(){var e=this,n=e.getTicks(),a=e.min,o=e.max,l;_t.prototype._configure.call(e),e.options.offset&&n.length&&(l=(o-a)/Math.max(n.length-1,1)/2,a-=l,o+=l),e._startValue=a,e._endValue=o,e._valueRange=o-a}}),kd={position:"left",ticks:{callback:Yn.formatters.linear}},wd=0,_d=1;function Sd(e,n,a){var o=[a.type,n===void 0&&a.stack===void 0?a.index:"",a.stack].join(".");return e[o]===void 0&&(e[o]={pos:[],neg:[]}),e[o]}function Cd(e,n,a,o){var l=e.options,c=l.stacked,d=Sd(n,c,a),f=d.pos,h=d.neg,m=o.length,v,p;for(v=0;v<m;++v)p=e._parseValue(o[v]),!(isNaN(p.min)||isNaN(p.max)||a.data[v].hidden)&&(f[v]=f[v]||0,h[v]=h[v]||0,l.relativePoints?f[v]=100:p.min<0||p.max<0?h[v]+=p.min:f[v]+=p.max)}function Dd(e,n,a){var o=a.length,l,c;for(l=0;l<o;++l)c=e._parseValue(a[l]),!(isNaN(c.min)||isNaN(c.max)||n.data[l].hidden)&&(e.min=Math.min(e.min,c.min),e.max=Math.max(e.max,c.max))}var ts=Di.extend({determineDataLimits:function(){var e=this,n=e.options,a=e.chart,o=a.data.datasets,l=e._getMatchingVisibleMetas(),c=n.stacked,d={},f=l.length,h,m,v,p;if(e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,c===void 0)for(h=0;!c&&h<f;++h)m=l[h],c=m.stack!==void 0;for(h=0;h<f;++h)m=l[h],v=o[m.index].data,c?Cd(e,d,m,v):Dd(e,m,v);y.each(d,function(x){p=x.pos.concat(x.neg),e.min=Math.min(e.min,y.min(p)),e.max=Math.max(e.max,y.max(p))}),e.min=y.isFinite(e.min)&&!isNaN(e.min)?e.min:wd,e.max=y.isFinite(e.max)&&!isNaN(e.max)?e.max:_d,e.handleTickRangeOptions()},_computeTickLimit:function(){var e=this,n;return e.isHorizontal()?Math.ceil(e.width/40):(n=y.options._parseFont(e.options.ticks),Math.ceil(e.height/n.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,n){return this._getScaleLabel(this.chart.data.datasets[n].data[e])},getPixelForValue:function(e){var n=this;return n.getPixelForDecimal((+n.getRightValue(e)-n._startValue)/n._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var n=this.ticksAsNumbers;return e<0||e>n.length-1?null:this.getPixelForValue(n[e])}}),Md=kd;ts._defaults=Md;var Nr=y.valueOrDefault,St=y.math.log10;function Td(e,n){var a=[],o=Nr(e.min,Math.pow(10,Math.floor(St(n.min)))),l=Math.floor(St(n.max)),c=Math.ceil(n.max/Math.pow(10,l)),d,f;o===0?(d=Math.floor(St(n.minNotZero)),f=Math.floor(n.minNotZero/Math.pow(10,d)),a.push(o),o=f*Math.pow(10,d)):(d=Math.floor(St(o)),f=Math.floor(o/Math.pow(10,d)));var h=d<0?Math.pow(10,Math.abs(d)):1;do a.push(o),++f,f===10&&(f=1,++d,h=d>=0?1:h),o=Math.round(f*Math.pow(10,d)*h)/h;while(d<l||d===l&&f<c);var m=Nr(e.max,o);return a.push(m),a}var Rd={position:"left",ticks:{callback:Yn.formatters.logarithmic}};function Mi(e,n){return y.isFinite(e)&&e>=0?e:n}var es=_t.extend({determineDataLimits:function(){var e=this,n=e.options,a=e.chart,o=a.data.datasets,l=e.isHorizontal();function c(S){return l?S.xAxisID===e.id:S.yAxisID===e.id}var d,f,h,m,v,p;e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,e.minNotZero=Number.POSITIVE_INFINITY;var x=n.stacked;if(x===void 0){for(d=0;d<o.length;d++)if(f=a.getDatasetMeta(d),a.isDatasetVisible(d)&&c(f)&&f.stack!==void 0){x=!0;break}}if(n.stacked||x){var A={};for(d=0;d<o.length;d++){f=a.getDatasetMeta(d);var w=[f.type,n.stacked===void 0&&f.stack===void 0?d:"",f.stack].join(".");if(a.isDatasetVisible(d)&&c(f))for(A[w]===void 0&&(A[w]=[]),m=o[d].data,v=0,p=m.length;v<p;v++){var _=A[w];h=e._parseValue(m[v]),!(isNaN(h.min)||isNaN(h.max)||f.data[v].hidden||h.min<0||h.max<0)&&(_[v]=_[v]||0,_[v]+=h.max)}}y.each(A,function(S){if(S.length>0){var M=y.min(S),L=y.max(S);e.min=Math.min(e.min,M),e.max=Math.max(e.max,L)}})}else for(d=0;d<o.length;d++)if(f=a.getDatasetMeta(d),a.isDatasetVisible(d)&&c(f))for(m=o[d].data,v=0,p=m.length;v<p;v++)h=e._parseValue(m[v]),!(isNaN(h.min)||isNaN(h.max)||f.data[v].hidden||h.min<0||h.max<0)&&(e.min=Math.min(h.min,e.min),e.max=Math.max(h.max,e.max),h.min!==0&&(e.minNotZero=Math.min(h.min,e.minNotZero)));e.min=y.isFinite(e.min)?e.min:null,e.max=y.isFinite(e.max)?e.max:null,e.minNotZero=y.isFinite(e.minNotZero)?e.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,n=e.options.ticks,a=1,o=10;e.min=Mi(n.min,e.min),e.max=Mi(n.max,e.max),e.min===e.max&&(e.min!==0&&e.min!==null?(e.min=Math.pow(10,Math.floor(St(e.min))-1),e.max=Math.pow(10,Math.floor(St(e.max))+1)):(e.min=a,e.max=o)),e.min===null&&(e.min=Math.pow(10,Math.floor(St(e.max))-1)),e.max===null&&(e.max=e.min!==0?Math.pow(10,Math.floor(St(e.min))+1):o),e.minNotZero===null&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(St(e.max))):e.minNotZero=a)},buildTicks:function(){var e=this,n=e.options.ticks,a=!e.isHorizontal(),o={min:Mi(n.min),max:Mi(n.max)},l=e.ticks=Td(o,e);e.max=y.max(l),e.min=y.min(l),n.reverse?(a=!a,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),a&&l.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),_t.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,n){return this._getScaleLabel(this.chart.data.datasets[n].data[e])},getPixelForTick:function(e){var n=this.tickValues;return e<0||e>n.length-1?null:this.getPixelForValue(n[e])},_getFirstTickValue:function(e){var n=Math.floor(St(e)),a=Math.floor(e/Math.pow(10,n));return a*Math.pow(10,n)},_configure:function(){var e=this,n=e.min,a=0;_t.prototype._configure.call(e),n===0&&(n=e._getFirstTickValue(e.minNotZero),a=Nr(e.options.ticks.fontSize,F.global.defaultFontSize)/e._length),e._startValue=St(n),e._valueOffset=a,e._valueRange=(St(e.max)-St(n))/(1-a)},getPixelForValue:function(e){var n=this,a=0;return e=+n.getRightValue(e),e>n.min&&e>0&&(a=(St(e)-n._startValue)/n._valueRange+n._valueOffset),n.getPixelForDecimal(a)},getValueForPixel:function(e){var n=this,a=n.getDecimalForPixel(e);return a===0&&n.min===0?0:Math.pow(10,n._startValue+(a-n._valueOffset)*n._valueRange)}}),Ld=Rd;es._defaults=Ld;var Ti=y.valueOrDefault,Br=y.valueAtIndexOrDefault,ns=y.options.resolve,Pd={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Yn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Wr(e){var n=e.ticks;return n.display&&e.display?Ti(n.fontSize,F.global.defaultFontSize)+n.backdropPaddingY*2:0}function Od(e,n,a){return y.isArray(a)?{w:y.longestText(e,e.font,a),h:a.length*n}:{w:e.measureText(a).width,h:n}}function is(e,n,a,o,l){return e===o||e===l?{start:n-a/2,end:n+a/2}:e<o||e>l?{start:n-a,end:n}:{start:n,end:n+a}}function Ed(e){var n=y.options._parseFont(e.options.pointLabels),a={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={},l,c,d;e.ctx.font=n.string,e._pointLabelSizes=[];var f=e.chart.data.labels.length;for(l=0;l<f;l++){d=e.getPointPosition(l,e.drawingArea+5),c=Od(e.ctx,n.lineHeight,e.pointLabels[l]),e._pointLabelSizes[l]=c;var h=e.getIndexAngle(l),m=y.toDegrees(h)%360,v=is(m,d.x,c.w,0,180),p=is(m,d.y,c.h,90,270);v.start<a.l&&(a.l=v.start,o.l=h),v.end>a.r&&(a.r=v.end,o.r=h),p.start<a.t&&(a.t=p.start,o.t=h),p.end>a.b&&(a.b=p.end,o.b=h)}e.setReductions(e.drawingArea,a,o)}function Fd(e){return e===0||e===180?"center":e<180?"left":"right"}function Id(e,n,a,o){var l=a.y+o/2,c,d;if(y.isArray(n))for(c=0,d=n.length;c<d;++c)e.fillText(n[c],a.x,l),l+=o;else e.fillText(n,a.x,l)}function Nd(e,n,a){e===90||e===270?a.y-=n.h/2:(e>270||e<90)&&(a.y-=n.h)}function Bd(e){var n=e.ctx,a=e.options,o=a.pointLabels,l=Wr(a),c=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),d=y.options._parseFont(o);n.save(),n.font=d.string,n.textBaseline="middle";for(var f=e.chart.data.labels.length-1;f>=0;f--){var h=f===0?l/2:0,m=e.getPointPosition(f,c+h+5),v=Br(o.fontColor,f,F.global.defaultFontColor);n.fillStyle=v;var p=e.getIndexAngle(f),x=y.toDegrees(p);n.textAlign=Fd(x),Nd(x,e._pointLabelSizes[f],m),Id(n,e.pointLabels[f],m,d.lineHeight)}n.restore()}function Wd(e,n,a,o){var l=e.ctx,c=n.circular,d=e.chart.data.labels.length,f=Br(n.color,o-1),h=Br(n.lineWidth,o-1),m;if(!(!c&&!d||!f||!h)){if(l.save(),l.strokeStyle=f,l.lineWidth=h,l.setLineDash&&(l.setLineDash(n.borderDash||[]),l.lineDashOffset=n.borderDashOffset||0),l.beginPath(),c)l.arc(e.xCenter,e.yCenter,a,0,Math.PI*2);else{m=e.getPointPosition(0,a),l.moveTo(m.x,m.y);for(var v=1;v<d;v++)m=e.getPointPosition(v,a),l.lineTo(m.x,m.y)}l.closePath(),l.stroke(),l.restore()}}function Ri(e){return y.isNumber(e)?e:0}var rs=Di.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Wr(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,n=e.chart,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;y.each(n.data.datasets,function(l,c){if(n.isDatasetVisible(c)){var d=n.getDatasetMeta(c);y.each(l.data,function(f,h){var m=+e.getRightValue(f);isNaN(m)||d.data[h].hidden||(a=Math.min(m,a),o=Math.max(m,o))})}}),e.min=a===Number.POSITIVE_INFINITY?0:a,e.max=o===Number.NEGATIVE_INFINITY?0:o,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Wr(this.options))},convertTicksToLabels:function(){var e=this;Di.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var n=y.callback(e.options.pointLabels.callback,arguments,e);return n||n===0?n:""})},getLabelForIndex:function(e,n){return+this.getRightValue(this.chart.data.datasets[n].data[e])},fit:function(){var e=this,n=e.options;n.display&&n.pointLabels.display?Ed(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,n,a){var o=this,l=n.l/Math.sin(a.l),c=Math.max(n.r-o.width,0)/Math.sin(a.r),d=-n.t/Math.cos(a.t),f=-Math.max(n.b-(o.height-o.paddingTop),0)/Math.cos(a.b);l=Ri(l),c=Ri(c),d=Ri(d),f=Ri(f),o.drawingArea=Math.min(Math.floor(e-(l+c)/2),Math.floor(e-(d+f)/2)),o.setCenterPoint(l,c,d,f)},setCenterPoint:function(e,n,a,o){var l=this,c=l.width-n-l.drawingArea,d=e+l.drawingArea,f=a+l.drawingArea,h=l.height-l.paddingTop-o-l.drawingArea;l.xCenter=Math.floor((d+c)/2+l.left),l.yCenter=Math.floor((f+h)/2+l.top+l.paddingTop)},getIndexAngle:function(e){var n=this.chart,a=360/n.data.labels.length,o=n.options||{},l=o.startAngle||0,c=(e*a+l)%360;return(c<0?c+360:c)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var n=this;if(y.isNullOrUndef(e))return NaN;var a=n.drawingArea/(n.max-n.min);return n.options.ticks.reverse?(n.max-e)*a:(e-n.min)*a},getPointPosition:function(e,n){var a=this,o=a.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(o)*n+a.xCenter,y:Math.sin(o)*n+a.yCenter}},getPointPositionForValue:function(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))},getBasePosition:function(e){var n=this,a=n.min,o=n.max;return n.getPointPositionForValue(e||0,n.beginAtZero?0:a<0&&o<0?o:a>0&&o>0?a:0)},_drawGrid:function(){var e=this,n=e.ctx,a=e.options,o=a.gridLines,l=a.angleLines,c=Ti(l.lineWidth,o.lineWidth),d=Ti(l.color,o.color),f,h,m;if(a.pointLabels.display&&Bd(e),o.display&&y.each(e.ticks,function(v,p){p!==0&&(h=e.getDistanceFromCenterForValue(e.ticksAsNumbers[p]),Wd(e,o,h,p))}),l.display&&c&&d){for(n.save(),n.lineWidth=c,n.strokeStyle=d,n.setLineDash&&(n.setLineDash(ns([l.borderDash,o.borderDash,[]])),n.lineDashOffset=ns([l.borderDashOffset,o.borderDashOffset,0])),f=e.chart.data.labels.length-1;f>=0;f--)h=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),m=e.getPointPosition(f,h),n.beginPath(),n.moveTo(e.xCenter,e.yCenter),n.lineTo(m.x,m.y),n.stroke();n.restore()}},_drawLabels:function(){var e=this,n=e.ctx,a=e.options,o=a.ticks;if(o.display){var l=e.getIndexAngle(0),c=y.options._parseFont(o),d=Ti(o.fontColor,F.global.defaultFontColor),f,h;n.save(),n.font=c.string,n.translate(e.xCenter,e.yCenter),n.rotate(l),n.textAlign="center",n.textBaseline="middle",y.each(e.ticks,function(m,v){v===0&&!o.reverse||(f=e.getDistanceFromCenterForValue(e.ticksAsNumbers[v]),o.showLabelBackdrop&&(h=n.measureText(m).width,n.fillStyle=o.backdropColor,n.fillRect(-h/2-o.backdropPaddingX,-f-c.size/2-o.backdropPaddingY,h+o.backdropPaddingX*2,c.size+o.backdropPaddingY*2)),n.fillStyle=d,n.fillText(m,0,-f))}),n.restore()}},_drawTitle:y.noop}),zd=Pd;rs._defaults=zd;var zr=y._deprecated,as=y.options.resolve,jd=y.valueOrDefault,os=Number.MIN_SAFE_INTEGER||-9007199254740991,jr=Number.MAX_SAFE_INTEGER||9007199254740991,Li={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ct=Object.keys(Li);function ss(e,n){return e-n}function Hd(e){var n={},a=[],o,l,c;for(o=0,l=e.length;o<l;++o)c=e[o],n[c]||(n[c]=!0,a.push(c));return a}function ls(e){return y.valueOrDefault(e.time.min,e.ticks.min)}function us(e){return y.valueOrDefault(e.time.max,e.ticks.max)}function Yd(e,n,a,o){if(o==="linear"||!e.length)return[{time:n,pos:0},{time:a,pos:1}];var l=[],c=[n],d,f,h,m,v;for(d=0,f=e.length;d<f;++d)m=e[d],m>n&&m<a&&c.push(m);for(c.push(a),d=0,f=c.length;d<f;++d)v=c[d+1],h=c[d-1],m=c[d],(h===void 0||v===void 0||Math.round((v+h)/2)!==m)&&l.push({time:m,pos:d/(f-1)});return l}function Vd(e,n,a){for(var o=0,l=e.length-1,c,d,f;o>=0&&o<=l;)if(c=o+l>>1,d=e[c-1]||null,f=e[c],d)if(f[n]<a)o=c+1;else if(d[n]>a)l=c-1;else return{lo:d,hi:f};else return{lo:null,hi:f};return{lo:f,hi:null}}function gn(e,n,a,o){var l=Vd(e,n,a),c=l.lo?l.hi?l.lo:e[e.length-2]:e[0],d=l.lo?l.hi?l.hi:e[e.length-1]:e[1],f=d[n]-c[n],h=f?(a-c[n])/f:0,m=(d[o]-c[o])*h;return c[o]+m}function Hr(e,n){var a=e._adapter,o=e.options.time,l=o.parser,c=l||o.format,d=n;return typeof l=="function"&&(d=l(d)),y.isFinite(d)||(d=typeof c=="string"?a.parse(d,c):a.parse(d)),d!==null?+d:(!l&&typeof c=="function"&&(d=c(n),y.isFinite(d)||(d=a.parse(d))),d)}function Ue(e,n){if(y.isNullOrUndef(n))return null;var a=e.options.time,o=Hr(e,e.getRightValue(n));return o===null||a.round&&(o=+e._adapter.startOf(o,a.round)),o}function cs(e,n,a,o){var l=Ct.length,c,d,f;for(c=Ct.indexOf(e);c<l-1;++c)if(d=Li[Ct[c]],f=d.steps?d.steps:jr,d.common&&Math.ceil((a-n)/(f*d.size))<=o)return Ct[c];return Ct[l-1]}function Ud(e,n,a,o,l){var c,d;for(c=Ct.length-1;c>=Ct.indexOf(a);c--)if(d=Ct[c],Li[d].common&&e._adapter.diff(l,o,d)>=n-1)return d;return Ct[a?Ct.indexOf(a):0]}function qd(e){for(var n=Ct.indexOf(e)+1,a=Ct.length;n<a;++n)if(Li[Ct[n]].common)return Ct[n]}function Gd(e,n,a,o){var l=e._adapter,c=e.options,d=c.time,f=d.unit||cs(d.minUnit,n,a,o),h=as([d.stepSize,d.unitStepSize,1]),m=f==="week"?d.isoWeekday:!1,v=n,p=[],x;if(m&&(v=+l.startOf(v,"isoWeek",m)),v=+l.startOf(v,m?"day":f),l.diff(a,n,f)>1e5*h)throw n+" and "+a+" are too far apart with stepSize of "+h+" "+f;for(x=v;x<a;x=+l.add(x,h,f))p.push(x);return(x===a||c.bounds==="ticks")&&p.push(x),p}function $d(e,n,a,o,l){var c=0,d=0,f,h;return l.offset&&n.length&&(f=gn(e,"time",n[0],"pos"),n.length===1?c=1-f:c=(gn(e,"time",n[1],"pos")-f)/2,h=gn(e,"time",n[n.length-1],"pos"),n.length===1?d=h:d=(h-gn(e,"time",n[n.length-2],"pos"))/2),{start:c,end:d,factor:1/(c+1+d)}}function Kd(e,n,a,o){var l=e._adapter,c=+l.startOf(n[0].value,o),d=n[n.length-1].value,f,h;for(f=c;f<=d;f=+l.add(f,1,o))h=a[f],h>=0&&(n[h].major=!0);return n}function ds(e,n,a){var o=[],l={},c=n.length,d,f;for(d=0;d<c;++d)f=n[d],l[f]=d,o.push({value:f,major:!1});return c===0||!a?o:Kd(e,o,l,a)}var Jd={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},hs=_t.extend({initialize:function(){this.mergeTicksOptions(),_t.prototype.initialize.call(this)},update:function(){var e=this,n=e.options,a=n.time||(n.time={}),o=e._adapter=new Lr._date(n.adapters.date);return zr("time scale",a.format,"time.format","time.parser"),zr("time scale",a.min,"time.min","ticks.min"),zr("time scale",a.max,"time.max","ticks.max"),y.mergeIf(a.displayFormats,o.formats()),_t.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&e.t!==void 0&&(e=e.t),_t.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e=this,n=e.chart,a=e._adapter,o=e.options,l=o.time.unit||"day",c=jr,d=os,f=[],h=[],m=[],v,p,x,A,w,_,S,M=e._getLabels();for(v=0,x=M.length;v<x;++v)m.push(Ue(e,M[v]));for(v=0,x=(n.data.datasets||[]).length;v<x;++v)if(n.isDatasetVisible(v))if(w=n.data.datasets[v].data,y.isObject(w[0]))for(h[v]=[],p=0,A=w.length;p<A;++p)_=Ue(e,w[p]),f.push(_),h[v][p]=_;else h[v]=m.slice(0),S||(f=f.concat(m),S=!0);else h[v]=[];m.length&&(c=Math.min(c,m[0]),d=Math.max(d,m[m.length-1])),f.length&&(f=x>1?Hd(f).sort(ss):f.sort(ss),c=Math.min(c,f[0]),d=Math.max(d,f[f.length-1])),c=Ue(e,ls(o))||c,d=Ue(e,us(o))||d,c=c===jr?+a.startOf(Date.now(),l):c,d=d===os?+a.endOf(Date.now(),l)+1:d,e.min=Math.min(c,d),e.max=Math.max(c+1,d),e._table=[],e._timestamps={data:f,datasets:h,labels:m}},buildTicks:function(){var e=this,n=e.min,a=e.max,o=e.options,l=o.ticks,c=o.time,d=e._timestamps,f=[],h=e.getLabelCapacity(n),m=l.source,v=o.distribution,p,x,A;for(m==="data"||m==="auto"&&v==="series"?d=d.data:m==="labels"?d=d.labels:d=Gd(e,n,a,h),o.bounds==="ticks"&&d.length&&(n=d[0],a=d[d.length-1]),n=Ue(e,ls(o))||n,a=Ue(e,us(o))||a,p=0,x=d.length;p<x;++p)A=d[p],A>=n&&A<=a&&f.push(A);return e.min=n,e.max=a,e._unit=c.unit||(l.autoSkip?cs(c.minUnit,e.min,e.max,h):Ud(e,f.length,c.minUnit,e.min,e.max)),e._majorUnit=!l.major.enabled||e._unit==="year"?void 0:qd(e._unit),e._table=Yd(e._timestamps.data,n,a,v),e._offsets=$d(e._table,f,n,a,o),l.reverse&&f.reverse(),ds(e,f,e._majorUnit)},getLabelForIndex:function(e,n){var a=this,o=a._adapter,l=a.chart.data,c=a.options.time,d=l.labels&&e<l.labels.length?l.labels[e]:"",f=l.datasets[n].data[e];return y.isObject(f)&&(d=a.getRightValue(f)),c.tooltipFormat?o.format(Hr(a,d),c.tooltipFormat):typeof d=="string"?d:o.format(Hr(a,d),c.displayFormats.datetime)},tickFormatFunction:function(e,n,a,o){var l=this,c=l._adapter,d=l.options,f=d.time.displayFormats,h=f[l._unit],m=l._majorUnit,v=f[m],p=a[n],x=d.ticks,A=m&&v&&p&&p.major,w=c.format(e,o||(A?v:h)),_=A?x.major:x.minor,S=as([_.callback,_.userCallback,x.callback,x.userCallback]);return S?S(w,n,a):w},convertTicksToLabels:function(e){var n=[],a,o;for(a=0,o=e.length;a<o;++a)n.push(this.tickFormatFunction(e[a].value,a,e));return n},getPixelForOffset:function(e){var n=this,a=n._offsets,o=gn(n._table,"time",e,"pos");return n.getPixelForDecimal((a.start+o)*a.factor)},getPixelForValue:function(e,n,a){var o=this,l=null;if(n!==void 0&&a!==void 0&&(l=o._timestamps.datasets[a][n]),l===null&&(l=Ue(o,e)),l!==null)return o.getPixelForOffset(l)},getPixelForTick:function(e){var n=this.getTicks();return e>=0&&e<n.length?this.getPixelForOffset(n[e].value):null},getValueForPixel:function(e){var n=this,a=n._offsets,o=n.getDecimalForPixel(e)/a.factor-a.end,l=gn(n._table,"pos",o,"time");return n._adapter._create(l)},_getLabelSize:function(e){var n=this,a=n.options.ticks,o=n.ctx.measureText(e).width,l=y.toRadians(n.isHorizontal()?a.maxRotation:a.minRotation),c=Math.cos(l),d=Math.sin(l),f=jd(a.fontSize,F.global.defaultFontSize);return{w:o*c+f*d,h:o*d+f*c}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var n=this,a=n.options.time,o=a.displayFormats,l=o[a.unit]||o.millisecond,c=n.tickFormatFunction(e,0,ds(n,[e],n._majorUnit),l),d=n._getLabelSize(c),f=Math.floor(n.isHorizontal()?n.width/d.w:n.height/d.h);return n.options.offset&&f--,f>0?f:1}}),Zd=Jd;hs._defaults=Zd;var Xd={category:Qo,linear:ts,logarithmic:es,radialLinear:rs,time:hs},Qd={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Lr._date.override(typeof i=="function"?{_id:"moment",formats:function(){return Qd},parse:function(e,n){return typeof e=="string"&&typeof n=="string"?e=i(e,n):e instanceof i||(e=i(e)),e.isValid()?e.valueOf():null},format:function(e,n){return i(e).format(n)},add:function(e,n,a){return i(e).add(n,a).valueOf()},diff:function(e,n,a){return i(e).diff(i(n),a)},startOf:function(e,n,a){return e=i(e),n==="isoWeek"?e.isoWeekday(a).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return i(e).endOf(n).valueOf()},_create:function(e){return i(e)}}:{}),F._set("global",{plugins:{filler:{propagate:!0}}});var th={dataset:function(e){var n=e.fill,a=e.chart,o=a.getDatasetMeta(n),l=o&&a.isDatasetVisible(n),c=l&&o.dataset._children||[],d=c.length||0;return d?function(f,h){return h<d&&c[h]._view||null}:null},boundary:function(e){var n=e.boundary,a=n?n.x:null,o=n?n.y:null;return y.isArray(n)?function(l,c){return n[c]}:function(l){return{x:a===null?l.x:a,y:o===null?l.y:o}}}};function eh(e,n,a){var o=e._model||{},l=o.fill,c;if(l===void 0&&(l=!!o.backgroundColor),l===!1||l===null)return!1;if(l===!0)return"origin";if(c=parseFloat(l,10),isFinite(c)&&Math.floor(c)===c)return(l[0]==="-"||l[0]==="+")&&(c=n+c),c===n||c<0||c>=a?!1:c;switch(l){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return l;default:return!1}}function nh(e){var n=e.el._model||{},a=e.el._scale||{},o=e.fill,l=null,c;if(isFinite(o))return null;if(o==="start"?l=n.scaleBottom===void 0?a.bottom:n.scaleBottom:o==="end"?l=n.scaleTop===void 0?a.top:n.scaleTop:n.scaleZero!==void 0?l=n.scaleZero:a.getBasePixel&&(l=a.getBasePixel()),l!=null){if(l.x!==void 0&&l.y!==void 0)return l;if(y.isFinite(l))return c=a.isHorizontal(),{x:c?l:null,y:c?null:l}}return null}function ih(e){var n=e.el._scale,a=n.options,o=n.chart.data.labels.length,l=e.fill,c=[],d,f,h,m,v;if(!o)return null;for(d=a.ticks.reverse?n.max:n.min,f=a.ticks.reverse?n.min:n.max,h=n.getPointPositionForValue(0,d),m=0;m<o;++m)v=l==="start"||l==="end"?n.getPointPositionForValue(m,l==="start"?d:f):n.getBasePosition(m),a.gridLines.circular&&(v.cx=h.x,v.cy=h.y,v.angle=n.getIndexAngle(m)-Math.PI/2),c.push(v);return c}function rh(e){var n=e.el._scale||{};return n.getPointPositionForValue?ih(e):nh(e)}function ah(e,n,a){var o=e[n],l=o.fill,c=[n],d;if(!a)return l;for(;l!==!1&&c.indexOf(l)===-1;){if(!isFinite(l))return l;if(d=e[l],!d)return!1;if(d.visible)return l;c.push(l),l=d.fill}return!1}function oh(e){var n=e.fill,a="dataset";return n===!1?null:(isFinite(n)||(a="boundary"),th[a](e))}function fs(e){return e&&!e.skip}function gs(e,n,a,o,l){var c,d,f,h;if(!(!o||!l)){for(e.moveTo(n[0].x,n[0].y),c=1;c<o;++c)y.canvas.lineTo(e,n[c-1],n[c]);if(a[0].angle!==void 0){for(d=a[0].cx,f=a[0].cy,h=Math.sqrt(Math.pow(a[0].x-d,2)+Math.pow(a[0].y-f,2)),c=l-1;c>0;--c)e.arc(d,f,h,a[c].angle,a[c-1].angle,!0);return}for(e.lineTo(a[l-1].x,a[l-1].y),c=l-1;c>0;--c)y.canvas.lineTo(e,a[c],a[c-1],!0)}}function sh(e,n,a,o,l,c){var d=n.length,f=o.spanGaps,h=[],m=[],v=0,p=0,x,A,w,_,S,M,L,O;for(e.beginPath(),x=0,A=d;x<A;++x)w=x%d,_=n[w]._view,S=a(_,w,o),M=fs(_),L=fs(S),c&&O===void 0&&M&&(O=x+1,A=d+O),M&&L?(v=h.push(_),p=m.push(S)):v&&p&&(f?(M&&h.push(_),L&&m.push(S)):(gs(e,h,m,v,p),v=p=0,h=[],m=[]));gs(e,h,m,v,p),e.closePath(),e.fillStyle=l,e.fill()}var lh={id:"filler",afterDatasetsUpdate:function(e,n){var a=(e.data.datasets||[]).length,o=n.propagate,l=[],c,d,f,h;for(d=0;d<a;++d)c=e.getDatasetMeta(d),f=c.dataset,h=null,f&&f._model&&f instanceof wt.Line&&(h={visible:e.isDatasetVisible(d),fill:eh(f,d,a),chart:e,el:f}),c.$filler=h,l.push(h);for(d=0;d<a;++d)h=l[d],h&&(h.fill=ah(l,d,o),h.boundary=rh(h),h.mapper=oh(h))},beforeDatasetsDraw:function(e){var n=e._getSortedVisibleDatasetMetas(),a=e.ctx,o,l,c,d,f,h,m;for(l=n.length-1;l>=0;--l)o=n[l].$filler,!(!o||!o.visible)&&(c=o.el,d=c._view,f=c._children||[],h=o.mapper,m=d.backgroundColor||F.global.defaultColor,h&&m&&f.length&&(y.canvas.clipArea(a,e.chartArea),sh(a,f,h,d,m,c._loop),y.canvas.unclipArea(a)))}},uh=y.rtl.getRtlAdapter,we=y.noop,_e=y.valueOrDefault;F._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,n){var a=n.datasetIndex,o=this.chart,l=o.getDatasetMeta(a);l.hidden=l.hidden===null?!o.data.datasets[a].hidden:null,o.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var n=e.data.datasets,a=e.options.legend||{},o=a.labels&&a.labels.usePointStyle;return e._getSortedDatasetMetas().map(function(l){var c=l.controller.getStyle(o?0:void 0);return{text:n[l.index].label,fillStyle:c.backgroundColor,hidden:!e.isDatasetVisible(l.index),lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:c.borderWidth,strokeStyle:c.borderColor,pointStyle:c.pointStyle,rotation:c.rotation,datasetIndex:l.index}},this)}}},legendCallback:function(e){var n=document.createElement("ul"),a=e.data.datasets,o,l,c,d;for(n.setAttribute("class",e.id+"-legend"),o=0,l=a.length;o<l;o++)c=n.appendChild(document.createElement("li")),d=c.appendChild(document.createElement("span")),d.style.backgroundColor=a[o].backgroundColor,a[o].label&&c.appendChild(document.createTextNode(a[o].label));return n.outerHTML}});function Yr(e,n){return e.usePointStyle&&e.boxWidth>n?n:e.boxWidth}var ms=Kt.extend({initialize:function(e){var n=this;y.extend(n,e),n.legendHitBoxes=[],n._hoveredItem=null,n.doughnutMode=!1},beforeUpdate:we,update:function(e,n,a){var o=this;return o.beforeUpdate(),o.maxWidth=e,o.maxHeight=n,o.margins=a,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:we,beforeSetDimensions:we,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:we,beforeBuildLabels:we,buildLabels:function(){var e=this,n=e.options.labels||{},a=y.callback(n.generateLabels,[e.chart],e)||[];n.filter&&(a=a.filter(function(o){return n.filter(o,e.chart.data)})),e.options.reverse&&a.reverse(),e.legendItems=a},afterBuildLabels:we,beforeFit:we,fit:function(){var e=this,n=e.options,a=n.labels,o=n.display,l=e.ctx,c=y.options._parseFont(a),d=c.size,f=e.legendHitBoxes=[],h=e.minSize,m=e.isHorizontal();if(m?(h.width=e.maxWidth,h.height=o?10:0):(h.width=o?10:0,h.height=e.maxHeight),!o){e.width=h.width=e.height=h.height=0;return}if(l.font=c.string,m){var v=e.lineWidths=[0],p=0;l.textAlign="left",l.textBaseline="middle",y.each(e.legendItems,function(L,O){var B=Yr(a,d),N=B+d/2+l.measureText(L.text).width;(O===0||v[v.length-1]+N+2*a.padding>h.width)&&(p+=d+a.padding,v[v.length-(O>0?0:1)]=0),f[O]={left:0,top:0,width:N,height:d},v[v.length-1]+=N+a.padding}),h.height+=p}else{var x=a.padding,A=e.columnWidths=[],w=e.columnHeights=[],_=a.padding,S=0,M=0;y.each(e.legendItems,function(L,O){var B=Yr(a,d),N=B+d/2+l.measureText(L.text).width;O>0&&M+d+2*x>h.height&&(_+=S+a.padding,A.push(S),w.push(M),S=0,M=0),S=Math.max(S,N),M+=d+x,f[O]={left:0,top:0,width:N,height:d}}),_+=S,A.push(S),w.push(M),h.width+=_}e.width=h.width,e.height=h.height},afterFit:we,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var e=this,n=e.options,a=n.labels,o=F.global,l=o.defaultColor,c=o.elements.line,d=e.height,f=e.columnHeights,h=e.width,m=e.lineWidths;if(n.display){var v=uh(n.rtl,e.left,e.minSize.width),p=e.ctx,x=_e(a.fontColor,o.defaultFontColor),A=y.options._parseFont(a),w=A.size,_;p.textAlign=v.textAlign("left"),p.textBaseline="middle",p.lineWidth=.5,p.strokeStyle=x,p.fillStyle=x,p.font=A.string;var S=Yr(a,w),M=e.legendHitBoxes,L=function(G,Q,nt){if(!(isNaN(S)||S<=0)){p.save();var gt=_e(nt.lineWidth,c.borderWidth);if(p.fillStyle=_e(nt.fillStyle,l),p.lineCap=_e(nt.lineCap,c.borderCapStyle),p.lineDashOffset=_e(nt.lineDashOffset,c.borderDashOffset),p.lineJoin=_e(nt.lineJoin,c.borderJoinStyle),p.lineWidth=gt,p.strokeStyle=_e(nt.strokeStyle,l),p.setLineDash&&p.setLineDash(_e(nt.lineDash,c.borderDash)),a&&a.usePointStyle){var ht=S*Math.SQRT2/2,ct=v.xPlus(G,S/2),mt=Q+w/2;y.canvas.drawPoint(p,nt.pointStyle,ht,ct,mt,nt.rotation)}else p.fillRect(v.leftForLtr(G,S),Q,S,w),gt!==0&&p.strokeRect(v.leftForLtr(G,S),Q,S,w);p.restore()}},O=function(G,Q,nt,gt){var ht=w/2,ct=v.xPlus(G,S+ht),mt=Q+ht;p.fillText(nt.text,ct,mt),nt.hidden&&(p.beginPath(),p.lineWidth=2,p.moveTo(ct,mt),p.lineTo(v.xPlus(ct,gt),mt),p.stroke())},B=function(G,Q){switch(n.align){case"start":return a.padding;case"end":return G-Q;default:return(G-Q+a.padding)/2}},N=e.isHorizontal();N?_={x:e.left+B(h,m[0]),y:e.top+a.padding,line:0}:_={x:e.left+a.padding,y:e.top+B(d,f[0]),line:0},y.rtl.overrideTextDirection(e.ctx,n.textDirection);var K=w+a.padding;y.each(e.legendItems,function(G,Q){var nt=p.measureText(G.text).width,gt=S+w/2+nt,ht=_.x,ct=_.y;v.setWidth(e.minSize.width),N?Q>0&&ht+gt+a.padding>e.left+e.minSize.width&&(ct=_.y+=K,_.line++,ht=_.x=e.left+B(h,m[_.line])):Q>0&&ct+K>e.top+e.minSize.height&&(ht=_.x=ht+e.columnWidths[_.line]+a.padding,_.line++,ct=_.y=e.top+B(d,f[_.line]));var mt=v.x(ht);L(mt,ct,G),M[Q].left=v.leftForLtr(mt,M[Q].width),M[Q].top=ct,O(mt,ct,G,nt),N?_.x+=gt+a.padding:_.y+=K}),y.rtl.restoreTextDirection(e.ctx,n.textDirection)}},_getLegendItemAt:function(e,n){var a=this,o,l,c;if(e>=a.left&&e<=a.right&&n>=a.top&&n<=a.bottom){for(c=a.legendHitBoxes,o=0;o<c.length;++o)if(l=c[o],e>=l.left&&e<=l.left+l.width&&n>=l.top&&n<=l.top+l.height)return a.legendItems[o]}return null},handleEvent:function(e){var n=this,a=n.options,o=e.type==="mouseup"?"click":e.type,l;if(o==="mousemove"){if(!a.onHover&&!a.onLeave)return}else if(o==="click"){if(!a.onClick)return}else return;l=n._getLegendItemAt(e.x,e.y),o==="click"?l&&a.onClick&&a.onClick.call(n,e.native,l):(a.onLeave&&l!==n._hoveredItem&&(n._hoveredItem&&a.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=l),a.onHover&&l&&a.onHover.call(n,e.native,l))}});function vs(e,n){var a=new ms({ctx:e.ctx,options:n,chart:e});It.configure(e,a,n),It.addBox(e,a),e.legend=a}var ch={id:"legend",_element:ms,beforeInit:function(e){var n=e.options.legend;n&&vs(e,n)},beforeUpdate:function(e){var n=e.options.legend,a=e.legend;n?(y.mergeIf(n,F.global.legend),a?(It.configure(e,a,n),a.options=n):vs(e,n)):a&&(It.removeBox(e,a),delete e.legend)},afterEvent:function(e,n){var a=e.legend;a&&a.handleEvent(n)}},ue=y.noop;F._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var ps=Kt.extend({initialize:function(e){var n=this;y.extend(n,e),n.legendHitBoxes=[]},beforeUpdate:ue,update:function(e,n,a){var o=this;return o.beforeUpdate(),o.maxWidth=e,o.maxHeight=n,o.margins=a,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:ue,beforeSetDimensions:ue,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:ue,beforeBuildLabels:ue,buildLabels:ue,afterBuildLabels:ue,beforeFit:ue,fit:function(){var e=this,n=e.options,a=e.minSize={},o=e.isHorizontal(),l,c;if(!n.display){e.width=a.width=e.height=a.height=0;return}l=y.isArray(n.text)?n.text.length:1,c=l*y.options._parseFont(n).lineHeight+n.padding*2,e.width=a.width=o?e.maxWidth:c,e.height=a.height=o?c:e.maxHeight},afterFit:ue,isHorizontal:function(){var e=this.options.position;return e==="top"||e==="bottom"},draw:function(){var e=this,n=e.ctx,a=e.options;if(a.display){var o=y.options._parseFont(a),l=o.lineHeight,c=l/2+a.padding,d=0,f=e.top,h=e.left,m=e.bottom,v=e.right,p,x,A;n.fillStyle=y.valueOrDefault(a.fontColor,F.global.defaultFontColor),n.font=o.string,e.isHorizontal()?(x=h+(v-h)/2,A=f+c,p=v-h):(x=a.position==="left"?h+c:v-c,A=f+(m-f)/2,p=m-f,d=Math.PI*(a.position==="left"?-.5:.5)),n.save(),n.translate(x,A),n.rotate(d),n.textAlign="center",n.textBaseline="middle";var w=a.text;if(y.isArray(w))for(var _=0,S=0;S<w.length;++S)n.fillText(w[S],0,_,p),_+=l;else n.fillText(w,0,0,p);n.restore()}}});function bs(e,n){var a=new ps({ctx:e.ctx,options:n,chart:e});It.configure(e,a,n),It.addBox(e,a),e.titleBlock=a}var dh={id:"title",_element:ps,beforeInit:function(e){var n=e.options.title;n&&bs(e,n)},beforeUpdate:function(e){var n=e.options.title,a=e.titleBlock;n?(y.mergeIf(n,F.global.title),a?(It.configure(e,a,n),a.options=n):bs(e,n)):a&&(It.removeBox(e,a),delete e.titleBlock)}},Se={},hh=lh,fh=ch,gh=dh;Se.filler=hh,Se.legend=fh,Se.title=gh,j.helpers=y,ld(),j._adapters=Lr,j.Animation=fr,j.animationService=gr,j.controllers=No,j.DatasetController=Ft,j.defaults=F,j.Element=Kt,j.elements=wt,j.Interaction=dn,j.layouts=It,j.platform=hn,j.plugins=et,j.Scale=_t,j.scaleService=Hn,j.Ticks=Yn,j.Tooltip=Mr,j.helpers.each(Xd,function(e,n){j.scaleService.registerScaleType(n,e,e._defaults)});for(var ys in Se)Se.hasOwnProperty(ys)&&j.plugins.register(Se[ys]);j.platform.initialize();var mh=j;return typeof window<"u"&&(window.Chart=j),j.Chart=j,j.Legend=Se.legend._element,j.Title=Se.title._element,j.pluginService=j.plugins,j.PluginBase=j.Element.extend({}),j.canvasHelpers=j.helpers.canvas,j.layoutService=j.layouts,j.LinearScaleBase=Di,j.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(e){j[e]=function(n,a){return new j(n,j.helpers.merge(a||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}}),mh})})(wh);var Dv="2.1.1";const Qe="[data-trix-attachment]",eo={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},At={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(r){return Cs(r.parentNode)===At[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(r){return Cs(r.parentNode)===At[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Cs=r=>{var t;return r==null||(t=r.tagName)===null||t===void 0?void 0:t.toLowerCase()},Ds=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),Jr=Ds&&parseInt(Ds[1]);var gi={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:Jr&&Jr>12,samsungAndroid:Jr&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(r=>r in InputEvent.prototype)},W={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const Mv=[W.bytes,W.KB,W.MB,W.GB,W.TB,W.PB];var Vl={prefix:"IEC",precision:2,formatter(r){switch(r){case 0:return"0 ".concat(W.bytes);case 1:return"1 ".concat(W.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const i=Math.floor(Math.log(r)/Math.log(t)),s=(r/Math.pow(t,i)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(s," ").concat(Mv[i])}}};const sr="\uFEFF",Te="",Ul=function(r){for(const t in r){const i=r[t];this[t]=i}return this},no=document.documentElement,Tv=no.matches,ot=function(r){let{onElement:t,matchingSelector:i,withCallback:s,inPhase:u,preventDefault:g,times:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=t||no,C=i,D=u==="capturing",E=function(H){b!=null&&--b==0&&E.destroy();const U=Oe(H.target,{matchingSelector:C});U!=null&&(s==null||s.call(U,H,U),g&&H.preventDefault())};return E.destroy=()=>k.removeEventListener(r,E,D),k.addEventListener(r,E,D),E},Xn=function(r){let{onElement:t,bubbles:i,cancelable:s,attributes:u}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g=t??no;i=i!==!1,s=s!==!1;const b=document.createEvent("Events");return b.initEvent(r,i,s),u!=null&&Ul.call(b,u),g.dispatchEvent(b)},ql=function(r,t){if((r==null?void 0:r.nodeType)===1)return Tv.call(r,t)},Oe=function(r){let{matchingSelector:t,untilNode:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.parentNode;if(r!=null){if(t==null)return r;if(r.closest&&i==null)return r.closest(t);for(;r&&r!==i;){if(ql(r,t))return r;r=r.parentNode}}},io=r=>document.activeElement!==r&&Ze(r,document.activeElement),Ze=function(r,t){if(r&&t)for(;t;){if(t===r)return!0;t=t.parentNode}},Zr=function(r){var t;if((t=r)===null||t===void 0||!t.parentNode)return;let i=0;for(r=r.previousSibling;r;)i++,r=r.previousSibling;return i},Ee=r=>{var t;return r==null||(t=r.parentNode)===null||t===void 0?void 0:t.removeChild(r)},qi=function(r){let{onlyNodesOfType:t,usingFilter:i,expandEntityReferences:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(r,u,i??null,s===!0)},xt=r=>{var t;return r==null||(t=r.tagName)===null||t===void 0?void 0:t.toLowerCase()},Y=function(r){let t,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof r=="object"?(s=r,r=s.tagName):s={attributes:s};const u=document.createElement(r);if(s.editable!=null&&(s.attributes==null&&(s.attributes={}),s.attributes.contenteditable=s.editable),s.attributes)for(t in s.attributes)i=s.attributes[t],u.setAttribute(t,i);if(s.style)for(t in s.style)i=s.style[t],u.style[t]=i;if(s.data)for(t in s.data)i=s.data[t],u.dataset[t]=i;return s.className&&s.className.split(" ").forEach(g=>{u.classList.add(g)}),s.textContent&&(u.textContent=s.textContent),s.childNodes&&[].concat(s.childNodes).forEach(g=>{u.appendChild(g)}),u};let $n;const Qn=function(){if($n!=null)return $n;$n=[];for(const r in At){const t=At[r];t.tagName&&$n.push(t.tagName)}return $n},Xr=r=>_n(r==null?void 0:r.firstChild),Ms=function(r){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?_n(r):_n(r)||!_n(r.firstChild)&&function(i){return Qn().includes(xt(i))&&!Qn().includes(xt(i.firstChild))}(r)},_n=r=>Rv(r)&&(r==null?void 0:r.data)==="block",Rv=r=>(r==null?void 0:r.nodeType)===Node.COMMENT_NODE,Sn=function(r){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r)return ti(r)?r.data===sr?!t||r.parentNode.dataset.trixCursorTarget===t:void 0:Sn(r.firstChild)},tn=r=>ql(r,Qe),Gl=r=>ti(r)&&(r==null?void 0:r.data)==="",ti=r=>(r==null?void 0:r.nodeType)===Node.TEXT_NODE,ro={level2Enabled:!0,getLevel(){return this.level2Enabled&&gi.supportsInputEvents?2:0},pickFiles(r){const t=Y("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{r(t.files),Ee(t)}),Ee(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var Bi={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},en={bold:{tagName:"strong",inheritable:!0,parser(r){const t=window.getComputedStyle(r);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:r=>window.getComputedStyle(r).fontStyle==="italic"},href:{groupTagName:"a",parser(r){const t="a:not(".concat(Qe,")"),i=r.closest(t);if(i)return i.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},$l={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(W.bold,'" tabindex="-1">').concat(W.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(W.italic,'" tabindex="-1">').concat(W.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(W.strike,'" tabindex="-1">').concat(W.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(W.link,'" tabindex="-1">').concat(W.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(W.heading1,'" tabindex="-1">').concat(W.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(W.quote,'" tabindex="-1">').concat(W.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(W.code,'" tabindex="-1">').concat(W.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(W.bullets,'" tabindex="-1">').concat(W.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(W.numbers,'" tabindex="-1">').concat(W.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(W.outdent,'" tabindex="-1">').concat(W.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(W.indent,'" tabindex="-1">').concat(W.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(W.attachFiles,'" tabindex="-1">').concat(W.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(W.undo,'" tabindex="-1">').concat(W.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(W.redo,'" tabindex="-1">').concat(W.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(W.urlPlaceholder,'" aria-label="').concat(W.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(W.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(W.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Aa={interval:5e3};var mi=Object.freeze({__proto__:null,attachments:eo,blockAttributes:At,browser:gi,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:Vl,input:ro,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:W,parser:Bi,textAttributes:en,toolbar:$l,undo:Aa});class dt{static proxyMethod(t){const{name:i,toMethod:s,toProperty:u,optional:g}=Lv(t);this.prototype[i]=function(){let b,k;var C,D;return s?k=g?(C=this[s])===null||C===void 0?void 0:C.call(this):this[s]():u&&(k=this[u]),g?(b=(D=k)===null||D===void 0?void 0:D[i],b?Ts.call(b,k,arguments):void 0):(b=k[i],Ts.call(b,k,arguments))}}}const Lv=function(r){const t=r.match(Pv);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(r));const i={name:t[4]};return t[2]!=null?i.toMethod=t[1]:i.toProperty=t[1],t[3]!=null&&(i.optional=!0),i},{apply:Ts}=Function.prototype,Pv=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Qr,ta,ea;class li extends dt{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t==null?void 0:t.toString())}static fromUCS2String(t){return new this(t,ka(t))}static fromCodepoints(t){return new this(wa(t),t)}constructor(t,i){super(...arguments),this.ucs2String=t,this.codepoints=i,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return wa(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return ka(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Ov=((Qr=Array.from)===null||Qr===void 0?void 0:Qr.call(Array,"").length)===1,Ev=((ta=" ".codePointAt)===null||ta===void 0?void 0:ta.call(" ",0))!=null,Fv=((ea=String.fromCodePoint)===null||ea===void 0?void 0:ea.call(String,32,128124))===" ";let ka,wa;ka=Ov&&Ev?r=>Array.from(r).map(t=>t.codePointAt(0)):function(r){const t=[];let i=0;const{length:s}=r;for(;i<s;){let u=r.charCodeAt(i++);if(55296<=u&&u<=56319&&i<s){const g=r.charCodeAt(i++);(64512&g)==56320?u=((1023&u)<<10)+(1023&g)+65536:i--}t.push(u)}return t},wa=Fv?r=>String.fromCodePoint(...Array.from(r||[])):function(r){return(()=>{const t=[];return Array.from(r).forEach(i=>{let s="";i>65535&&(i-=65536,s+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),t.push(s+String.fromCharCode(i))}),t})().join("")};let Iv=0;class on extends dt{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++Iv}hasSameConstructorAs(t){return this.constructor===(t==null?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],i=this.contentsForInspection()||{};for(const s in i){const u=i[s];t.push("".concat(s,"=").concat(u))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return li.box(this)}getCacheKey(){return this.id.toString()}}const nn=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!1;return!0},ao=function(r){const t=r.slice(0);for(var i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];return t.splice(...s),t},Nv=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,Bv=function(){const r=Y("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=Y("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),i=Y("form");i.appendChild(r),i.appendChild(t);const s=function(){try{return new FormData(i).has(t.dirName)}catch{return!1}}(),u=function(){try{return r.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return s?function(g){return t.value=g,new FormData(i).get(t.dirName)}:u?function(g){return r.value=g,r.matches(":dir(rtl)")?"rtl":"ltr"}:function(g){const b=g.trim().charAt(0);return Nv.test(b)?"rtl":"ltr"}}();let na=null,ia=null,ra=null,Ei=null;const _a=()=>(na||(na=zv().concat(Wv())),na),ut=r=>At[r],Wv=()=>(ia||(ia=Object.keys(At)),ia),Sa=r=>en[r],zv=()=>(ra||(ra=Object.keys(en)),ra),Kl=function(r,t){jv(r).textContent=t.replace(/%t/g,r)},jv=function(r){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",r.toLowerCase());const i=Hv();return i&&t.setAttribute("nonce",i),document.head.insertBefore(t,document.head.firstChild),t},Hv=function(){const r=Rs("trix-csp-nonce")||Rs("csp-nonce");if(r)return r.getAttribute("content")},Rs=r=>document.head.querySelector("meta[name=".concat(r,"]")),Ls={"application/x-trix-feature-detection":"test"},Jl=function(r){const t=r.getData("text/plain"),i=r.getData("text/html");if(!t||!i)return t==null?void 0:t.length;{const{body:s}=new DOMParser().parseFromString(i,"text/html");if(s.textContent===t)return!s.querySelector("*")}},Zl=/Mac|^iP/.test(navigator.platform)?r=>r.metaKey:r=>r.ctrlKey,oo=r=>setTimeout(r,1),Xl=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const i in r){const s=r[i];t[i]=s}return t},Rn=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const i in r)if(r[i]!==t[i])return!1;return!0},X=function(r){if(r!=null)return Array.isArray(r)||(r=[r,r]),[Ps(r[0]),Ps(r[1]!=null?r[1]:r[0])]},me=function(r){if(r==null)return;const[t,i]=X(r);return Ca(t,i)},Gi=function(r,t){if(r==null||t==null)return;const[i,s]=X(r),[u,g]=X(t);return Ca(i,u)&&Ca(s,g)},Ps=function(r){return typeof r=="number"?r:Xl(r)},Ca=function(r,t){return typeof r=="number"?r===t:Rn(r,t)};class Ql extends dt{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(i=>i!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const rn=new Ql,tu=function(){const r=window.getSelection();if(r.rangeCount>0)return r},ei=function(){var r;const t=(r=tu())===null||r===void 0?void 0:r.getRangeAt(0);if(t&&!Yv(t))return t},eu=function(r){const t=window.getSelection();return t.removeAllRanges(),t.addRange(r),rn.update()},Yv=r=>Os(r.startContainer)||Os(r.endContainer),Os=r=>!Object.getPrototypeOf(r),Jn=r=>r.replace(new RegExp("".concat(sr),"g"),"").replace(new RegExp("".concat(Te),"g")," "),so=new RegExp("[^\\S".concat(Te,"]")),lo=r=>r.replace(new RegExp("".concat(so.source),"g")," ").replace(/\ {2,}/g," "),Es=function(r,t){if(r.isEqualTo(t))return["",""];const i=aa(r,t),{length:s}=i.utf16String;let u;if(s){const{offset:g}=i,b=r.codepoints.slice(0,g).concat(r.codepoints.slice(g+s));u=aa(t,li.fromCodepoints(b))}else u=aa(t,r);return[i.utf16String.toString(),u.utf16String.toString()]},aa=function(r,t){let i=0,s=r.length,u=t.length;for(;i<s&&r.charAt(i).isEqualTo(t.charAt(i));)i++;for(;s>i+1&&r.charAt(s-1).isEqualTo(t.charAt(u-1));)s--,u--;return{utf16String:r.slice(i,s),offset:i}};class Rt extends on{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let i=Kn(t[0]),s=i.getKeys();return t.slice(1).forEach(u=>{s=i.getKeysCommonToHash(Kn(u)),i=i.slice(s)}),i}static box(t){return Kn(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=Wi(t)}add(t,i){return this.merge(Vv(t,i))}remove(t){return new Rt(Wi(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new Rt(Uv(this.values,qv(t)))}slice(t){const i={};return Array.from(t).forEach(s=>{this.has(s)&&(i[s]=this.values[s])}),new Rt(i)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=Kn(t),this.getKeys().filter(i=>this.values[i]===t.values[i])}isEqualTo(t){return nn(this.toArray(),Kn(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const i in this.values){const s=this.values[i];t.push(t.push(i,s))}this.array=t.slice(0)}return this.array}toObject(){return Wi(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Vv=function(r,t){const i={};return i[r]=t,i},Uv=function(r,t){const i=Wi(r);for(const s in t){const u=t[s];i[s]=u}return i},Wi=function(r,t){const i={};return Object.keys(r).sort().forEach(s=>{s!==t&&(i[s]=r[s])}),i},Kn=function(r){return r instanceof Rt?r:new Rt(r)},qv=function(r){return r instanceof Rt?r.values:r};class uo{static groupObjects(){let t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:s,asTree:u}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u&&s==null&&(s=0);const g=[];return Array.from(i).forEach(b=>{var k;if(t){var C,D,E;if((C=b.canBeGrouped)!==null&&C!==void 0&&C.call(b,s)&&(D=(E=t[t.length-1]).canBeGroupedWith)!==null&&D!==void 0&&D.call(E,b,s))return void t.push(b);g.push(new this(t,{depth:s,asTree:u})),t=null}(k=b.canBeGrouped)!==null&&k!==void 0&&k.call(b,s)?t=[b]:g.push(b)}),t&&g.push(new this(t,{depth:s,asTree:u})),g}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:s}=arguments.length>1?arguments[1]:void 0;this.objects=t,s&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:s,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach(i=>{t.push(i.getCacheKey())}),t.join("/")}}class Gv extends dt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(i=>{const s=JSON.stringify(i);this.objects[s]==null&&(this.objects[s]=i)})}find(t){const i=JSON.stringify(t);return this.objects[i]}}class $v{constructor(t){this.reset(t)}add(t){const i=Fs(t);this.elements[i]=t}remove(t){const i=Fs(t),s=this.elements[i];if(s)return delete this.elements[i],s}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(i=>{this.add(i)}),t}}const Fs=r=>r.dataset.trixStoreKey;class $i extends dt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,i)=>(this.performing=!0,this.perform((s,u)=>{this.succeeded=s,this.performing=!1,this.performed=!0,this.succeeded?t(u):i(u)})))),this.promise}perform(t){return t(!1)}release(){var t,i;(t=this.promise)===null||t===void 0||(i=t.cancel)===null||i===void 0||i.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}$i.proxyMethod("getPromise().then"),$i.proxyMethod("getPromise().catch");class sn extends dt{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=i,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var i;return(i=this.findViewForObject(t))===null||i===void 0?void 0:i.invalidate()}findOrCreateCachedChildView(t,i,s){let u=this.getCachedViewForObject(i);return u?this.recordChildView(u):(u=this.createChildView(...arguments),this.cacheViewForObject(u,i)),u}createChildView(t,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i instanceof uo&&(s.viewClass=t,t=Kv);const u=new t(i,s);return this.recordChildView(u)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(i=>{t.push(i),t=t.concat(i.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const i=t==null?void 0:t.id;if(i)return this.rootView.element.querySelector("[data-trix-id='".concat(i,"']"))}findViewForObject(t){for(const i of this.getAllChildViews())if(i.object===t)return i}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var i;return(i=this.getViewCache())===null||i===void 0?void 0:i[t.getCacheKey()]}cacheViewForObject(t,i){const s=this.getViewCache();s&&(s[i.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const i=this.getAllChildViews().concat(this).map(s=>s.object.getCacheKey());for(const s in t)i.includes(s)||delete t[s]}}}class Kv extends sn{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach(i=>{Array.from(i.getNodes()).forEach(s=>{t.appendChild(s)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}const{css:Ce}=mi;class co extends sn{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const i=t=Y({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),s=this.getHref();return s&&(t=Y({tagName:"a",editable:!1,attributes:{href:s,tabindex:-1}}),i.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(u=>{t.appendChild(u)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Y({tagName:"progress",attributes:{class:Ce.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),i.appendChild(this.progressElement)),[Is("left"),i,Is("right")]}createCaptionElement(){const t=Y({tagName:"figcaption",className:Ce.attachmentCaption}),i=this.attachmentPiece.getCaption();if(i)t.classList.add("".concat(Ce.attachmentCaption,"--edited")),t.textContent=i;else{let s,u;const g=this.getCaptionConfig();if(g.name&&(s=this.attachment.getFilename()),g.size&&(u=this.attachment.getFormattedFilesize()),s){const b=Y({tagName:"span",className:Ce.attachmentName,textContent:s});t.appendChild(b)}if(u){s&&t.appendChild(document.createTextNode(" "));const b=Y({tagName:"span",className:Ce.attachmentSize,textContent:u});t.appendChild(b)}}return t}getClassName(){const t=[Ce.attachment,"".concat(Ce.attachment,"--").concat(this.attachment.getType())],i=this.attachment.getExtension();return i&&t.push("".concat(Ce.attachment,"--").concat(i)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:i}=this.attachmentPiece;return i.isEmpty()||(t.trixAttributes=JSON.stringify(i)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!Jv(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const i=this.attachment.getType(),s=Xl((t=eo[i])===null||t===void 0?void 0:t.caption);return i==="file"&&(s.name=!0),s}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),i=this.findProgressElement();i&&(i.value=t)}}const Is=r=>Y({tagName:"span",textContent:sr,data:{trixCursorTarget:r,trixSerialize:!1}}),Jv=function(r,t){const i=Y("div");return i.innerHTML=r||"",i.querySelector(t)};class nu extends co{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Y({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",W.captionPlaceholder),t}refresh(t){var i;if(t||(t=(i=this.findElement())===null||i===void 0?void 0:i.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const i=this.attachment.getURL(),s=this.attachment.getPreviewURL();if(t.src=s||i,s===i)t.removeAttribute("data-trix-serialized-attributes");else{const k=JSON.stringify({src:i});t.setAttribute("data-trix-serialized-attributes",k)}const u=this.attachment.getWidth(),g=this.attachment.getHeight();u!=null&&(t.width=u),g!=null&&(t.height=g);const b=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=b}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class iu extends sn{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const i=this.createElement();if(i){const s=function(u){for(;(g=u)!==null&&g!==void 0&&g.firstElementChild;){var g;u=u.firstElementChild}return u}(i);Array.from(t).forEach(u=>{s.appendChild(u)}),t=[i]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?nu:co;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const i=[],s=this.string.split(`
`);for(let u=0;u<s.length;u++){const g=s[u];if(u>0){const b=Y("br");i.push(b)}if(g.length){const b=document.createTextNode(this.preserveSpaces(g));i.push(b)}}return i}}createElement(){let t,i,s;const u={};for(i in this.attributes){s=this.attributes[i];const b=Sa(i);if(b){if(b.tagName){var g;const k=Y(b.tagName);g?(g.appendChild(k),g=k):t=g=k}if(b.styleProperty&&(u[b.styleProperty]=s),b.style)for(i in b.style)s=b.style[i],u[i]=s}}if(Object.keys(u).length)for(i in t||(t=Y("span")),u)s=u[i],t.style[i]=s;return t}createContainerElement(){for(const t in this.attributes){const i=this.attributes[t],s=Sa(t);if(s&&s.groupTagName){const u={};return u[t]=i,Y(s.groupTagName,u)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,Te)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(Te," $2")).replace(/\ {2}/g,"".concat(Te," ")).replace(/\ {2}/g," ".concat(Te)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,Te)),t}}class ru extends sn{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],i=uo.groupObjects(this.getPieces()),s=i.length-1;for(let g=0;g<i.length;g++){const b=i[g],k={};g===0&&(k.isFirst=!0),g===s&&(k.isLast=!0),Zv(u)&&(k.followsWhitespace=!0);const C=this.findOrCreateCachedChildView(iu,b,{textConfig:this.textConfig,context:k});t.push(...Array.from(C.getNodes()||[]));var u=b}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}}const Zv=r=>/\s$/.test(r==null?void 0:r.toString()),{css:Ns}=mi;class au extends sn{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(Y("br"));else{var i;const s=(i=ut(this.block.getLastAttribute()))===null||i===void 0?void 0:i.text,u=this.findOrCreateCachedChildView(ru,this.block.text,{textConfig:s});t.push(...Array.from(u.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(Y("br"))}if(this.attributes.length)return t;{let s;const{tagName:u}=At.default;this.block.isRTL()&&(s={dir:"rtl"});const g=Y({tagName:u,attributes:s});return t.forEach(b=>g.appendChild(b)),[g]}}createContainerElement(t){const i={};let s;const u=this.attributes[t],{tagName:g,htmlAttributes:b=[]}=ut(u);if(t===0&&this.block.isRTL()&&Object.assign(i,{dir:"rtl"}),u==="attachmentGallery"){const k=this.block.getBlockBreakPosition();s="".concat(Ns.attachmentGallery," ").concat(Ns.attachmentGallery,"--").concat(k)}return Object.entries(this.block.htmlAttributes).forEach(k=>{let[C,D]=k;b.includes(C)&&(i[C]=D)}),Y({tagName:g,className:s,attributes:i})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class lr extends sn{static render(t){const i=Y("div"),s=new this(t,{element:i});return s.render(),s.sync(),i}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new $v,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=Y("div"),!this.document.isEmpty()){const t=uo.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(i=>{const s=this.findOrCreateCachedChildView(au,i);Array.from(s.getNodes()).map(u=>this.shadowElement.appendChild(u))})}}isSynced(){return Xv(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(Bs(this.element)),oo(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(i=>{t.appendChild(i.cloneNode(!0))}),Array.from(Bs(t)).forEach(i=>{const s=this.elementStore.remove(i);s&&i.parentNode.replaceChild(s,i)}),t}}const Bs=r=>r.querySelectorAll("[data-trix-store-key]"),Xv=(r,t)=>Ws(r.innerHTML)===Ws(t.innerHTML),Ws=r=>r.replace(/&nbsp;/g," ");function Lt(r,t,i){return(t=Qv(t))in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i,r}function Qv(r){var t=function(i,s){if(typeof i!="object"||i===null)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var g=u.call(i,s||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}(r,"string");return typeof t=="symbol"?t:String(t)}class ln extends on{static registerType(t,i){i.type=t,this.types[t]=i}static fromJSON(t){const i=this.types[t.type];if(i)return i.fromJSON(t)}constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Rt.box(i)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}Lt(ln,"types",{});class ou extends $i{constructor(t){super(...arguments),this.url=t}perform(t){const i=new Image;i.onload=()=>(i.width=this.width=i.naturalWidth,i.height=this.height=i.naturalHeight,t(!0,i)),i.onerror=()=>t(!1),i.src=this.url}}class Ln extends on{static attachmentForFile(t){const i=new this(this.attributesForFile(t));return i.setFile(t),i}static attributesForFile(t){return new Rt({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=Rt.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=this.attributes.merge(t);var s,u,g,b;if(!this.attributes.isEqualTo(i))return this.attributes=i,this.didChangeAttributes(),(s=this.previewDelegate)===null||s===void 0||(u=s.attachmentDidChangeAttributes)===null||u===void 0||u.call(s,this),(g=this.delegate)===null||g===void 0||(b=g.attachmentDidChangeAttributes)===null||b===void 0?void 0:b.call(g,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Ln.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?Vl.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var i,s;if(this.uploadProgress!==t)return this.uploadProgress=t,(i=this.uploadProgressDelegate)===null||i===void 0||(s=i.attachmentDidChangeUploadProgress)===null||s===void 0?void 0:s.call(i,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var i,s,u,g;if(t!==this.getPreviewURL())return this.previewURL=t,(i=this.previewDelegate)===null||i===void 0||(s=i.attachmentDidChangeAttributes)===null||s===void 0||s.call(i,this),(u=this.delegate)===null||u===void 0||(g=u.attachmentDidChangePreviewURL)===null||g===void 0?void 0:g.call(u,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,i){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new ou(t).then(s=>{let{width:u,height:g}=s;return this.getWidth()&&this.getHeight()||this.setAttributes({width:u,height:g}),this.preloadingURL=null,this.setPreviewURL(t),i==null?void 0:i()}).catch(()=>(this.preloadingURL=null,i==null?void 0:i()))}}Lt(Ln,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Cn extends ln{static fromJSON(t){return new this(Ln.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(Cn.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var i;return super.isEqualTo(t)&&this.attachment.id===(t==null||(i=t.attachment)===null||i===void 0?void 0:i.id)}toString(){return""}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Lt(Cn,"permittedAttributes",["caption","presentation"]),ln.registerType("attachment",Cn);class ho extends ln{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(i=>i.replace(/\r\n?/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let i,s;return t===0?(i=null,s=this):t===this.length?(i=this,s=null):(i=new this.constructor(this.string.slice(0,t),this.attributes),s=new this.constructor(this.string.slice(t),this.attributes)),[i,s]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+""),JSON.stringify(t.toString())}}ln.registerType("string",ho);class Ki extends on{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return new this.constructor(ao(this.objects,...i))}eachObject(t){return this.objects.map((i,s)=>t(i,s))}insertObjectAtIndex(t,i){return this.splice(i,0,t)}insertSplittableListAtIndex(t,i){return this.splice(i,0,...t.objects)}insertSplittableListAtPosition(t,i){const[s,u]=this.splitObjectAtPosition(i);return new this.constructor(s).insertSplittableListAtIndex(t,u)}editObjectAtIndex(t,i){return this.replaceObjectAtIndex(i(this.objects[t]),t)}replaceObjectAtIndex(t,i){return this.splice(i,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[i,s,u]=this.splitObjectsAtRange(t);return new this.constructor(i.slice(s,u+1))}selectSplittableList(t){const i=this.objects.filter(s=>t(s));return new this.constructor(i)}removeObjectsInRange(t){const[i,s,u]=this.splitObjectsAtRange(t);return new this.constructor(i).splice(s,u-s+1)}transformObjectsInRange(t,i){const[s,u,g]=this.splitObjectsAtRange(t),b=s.map((k,C)=>u<=C&&C<=g?i(k):k);return new this.constructor(b)}splitObjectsAtRange(t){let i,[s,u,g]=this.splitObjectAtPosition(ep(t));return[s,i]=new this.constructor(s).splitObjectAtPosition(np(t)+g),[s,u,i-1]}getObjectAtPosition(t){const{index:i}=this.findIndexAndOffsetAtPosition(t);return this.objects[i]}splitObjectAtPosition(t){let i,s;const{index:u,offset:g}=this.findIndexAndOffsetAtPosition(t),b=this.objects.slice(0);if(u!=null)if(g===0)i=u,s=0;else{const k=this.getObjectAtIndex(u),[C,D]=k.splitAtOffset(g);b.splice(u,1,C,D),i=u+1,s=C.getLength()-g}else i=b.length,s=0;return[b,i,s]}consolidate(){const t=[];let i=this.objects[0];return this.objects.slice(1).forEach(s=>{var u,g;(u=(g=i).canBeConsolidatedWith)!==null&&u!==void 0&&u.call(g,s)?i=i.consolidateWith(s):(t.push(i),i=s)}),i&&t.push(i),new this.constructor(t)}consolidateFromIndexToIndex(t,i){const s=this.objects.slice(0).slice(t,i+1),u=new this.constructor(s).consolidate().toArray();return this.splice(t,s.length,...u)}findIndexAndOffsetAtPosition(t){let i,s=0;for(i=0;i<this.objects.length;i++){const u=s+this.objects[i].getLength();if(s<=t&&t<u)return{index:i,offset:t-s};s=u}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,i){let s=0;for(let u=0;u<this.objects.length;u++){const g=this.objects[u];if(u<t)s+=g.getLength();else if(u===t){s+=i;break}}return s}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||tp(this.objects,t==null?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}}const tp=function(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(r.length!==t.length)return!1;let i=!0;for(let s=0;s<r.length;s++){const u=r[s];i&&!u.isEqualTo(t[s])&&(i=!1)}return i},ep=r=>r[0],np=r=>r[1];class Vt extends on{static textForAttachmentWithAttributes(t,i){return new this([new Cn(t,i)])}static textForStringWithAttributes(t,i){return new this([new ho(t,i)])}static fromJSON(t){return new this(Array.from(t).map(i=>ln.fromJSON(i)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const i=t.filter(s=>!s.isEmpty());this.pieceList=new Ki(i)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const i=this.getPieces().map(s=>t.find(s)||s);return new this.constructor(i)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,i){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,i))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,i){return this.removeTextAtRange(i).insertTextAtPosition(t,i[0])}moveTextFromRangeToPosition(t,i){if(t[0]<=i&&i<=t[1])return;const s=this.getTextAtRange(t),u=s.getLength();return t[0]<i&&(i-=u),this.removeTextAtRange(t).insertTextAtPosition(s,i)}addAttributeAtRange(t,i,s){const u={};return u[t]=i,this.addAttributesAtRange(u,s)}addAttributesAtRange(t,i){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(i,s=>s.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,i){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(i,s=>s.copyWithoutAttribute(t)))}setAttributesAtRange(t,i){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(i,s=>s.copyWithAttributes(t)))}getAttributesAtPosition(t){var i;return((i=this.pieceList.getObjectAtPosition(t))===null||i===void 0?void 0:i.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map(i=>i.getAttributes());return Rt.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,i){let s,u=s=i;const g=this.getLength();for(;u>0&&this.getCommonAttributesAtRange([u-1,s])[t];)u--;for(;s<g&&this.getCommonAttributesAtRange([i,s+1])[t];)s++;return[u,s]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const i=this.getLength();return this.getStringAtRange([i-t.length,i])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let i=0;for(const u of this.pieceList.toArray()){var s;if(((s=u.attachment)===null||s===void 0?void 0:s.id)===t)return{attachment:u.attachment,position:i};i+=u.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:i}=this.getAttachmentAndPositionById(t);return i}getRangeOfAttachment(t){const i=this.getAttachmentAndPositionById(t.id),s=i.position;if(t=i.attachment)return[s,s+1]}updateAttributesForAttachment(t,i){const s=this.getRangeOfAttachment(i);return s?this.addAttributesAtRange(t,s):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var i;return super.isEqualTo(t)||(t==null||(i=t.pieceList)===null||i===void 0?void 0:i.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList(i=>i.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return Bv(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Qt extends on{static fromJSON(t){return new this(Vt.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,i,s){super(...arguments),this.text=ip(t||new Vt),this.attributes=i||[],this.htmlAttributes=s||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t==null?void 0:t.text)&&nn(this.attributes,t==null?void 0:t.attributes)&&Rn(this.htmlAttributes,t==null?void 0:t.htmlAttributes)}copyWithText(t){return new Qt(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new Qt(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const i=t.find(this.text);return i?this.copyWithText(i):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const i=this.attributes.concat(zs(t));return this.copyWithAttributes(i)}addHTMLAttribute(t,i){const s=Object.assign({},this.htmlAttributes,{[t]:i});return new Qt(this.text,this.attributes,s)}removeAttribute(t){const{listAttribute:i}=ut(t),s=Hs(Hs(this.attributes,t),i);return this.copyWithAttributes(s)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return js(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return js(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>ut(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const i=this.attributes.lastIndexOf(t),s=ao(this.attributes,i+1,0,...zs(t));return this.copyWithAttributes(s)}return this}getListItemAttributes(){return this.attributes.filter(t=>ut(t).listAttribute)}isListItem(){var t;return(t=ut(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=ut(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=ut(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,i){const s=this.toString();let u;switch(t){case"forward":u=s.indexOf(`
`,i);break;case"backward":u=s.slice(0,i).lastIndexOf(`
`)}if(u!==-1)return u}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const i=Vt.textForStringWithAttributes(`
`),s=this.getTextWithoutBlockBreak().appendText(i);return this.copyWithText(s.appendText(t.text))}splitAtOffset(t){let i,s;return t===0?(i=null,s=this):t===this.getLength()?(i=this,s=null):(i=this.copyWithText(this.text.getTextAtRange([0,t])),s=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[i,s]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return su(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,i){const s=t.getAttributes(),u=s[i],g=this.attributes[i];return g===u&&!(ut(g).group===!1&&!(()=>{if(!Ei){Ei=[];for(const b in At){const{listAttribute:k}=At[b];k!=null&&Ei.push(k)}}return Ei})().includes(s[i+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const ip=function(r){return r=rp(r),r=op(r)},rp=function(r){let t=!1;const i=r.getPieces();let s=i.slice(0,i.length-1);const u=i[i.length-1];return u?(s=s.map(g=>g.isBlockBreak()?(t=!0,sp(g)):g),t?new Vt([...s,u]):r):r},ap=Vt.textForStringWithAttributes(`
`,{blockBreak:!0}),op=function(r){return su(r)?r:r.appendText(ap)},su=function(r){const t=r.getLength();return t===0?!1:r.getTextAtRange([t-1,t]).isBlockBreak()},sp=r=>r.copyWithoutAttribute("blockBreak"),zs=function(r){const{listAttribute:t}=ut(r);return t?[t,r]:[r]},js=r=>r.slice(-1)[0],Hs=function(r,t){const i=r.lastIndexOf(t);return i===-1?r:ao(r,i,1)};class Wt extends on{static fromJSON(t){return new this(Array.from(t).map(i=>Qt.fromJSON(i)))}static fromString(t,i){const s=Vt.textForStringWithAttributes(t,i);return new this([new Qt(s)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new Qt]),this.blockList=Ki.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const i=new Gv(t.getObjects());return this.copyUsingObjectMap(i)}copyUsingObjectMap(t){const i=this.getBlocks().map(s=>t.find(s)||s.copyUsingObjectMap(t));return new this.constructor(i)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const i=this.getBlocks().map(s=>{const u=t.concat(s.getAttributes());return s.copyWithAttributes(u)});return new this.constructor(i)}replaceBlock(t,i){const s=this.blockList.indexOf(t);return s===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(i,s))}insertDocumentAtRange(t,i){const{blockList:s}=t;i=X(i);let[u]=i;const{index:g,offset:b}=this.locationFromPosition(u);let k=this;const C=this.getBlockAtPosition(u);return me(i)&&C.isEmpty()&&!C.hasAttributes()?k=new this.constructor(k.blockList.removeObjectAtIndex(g)):C.getBlockBreakPosition()===b&&u++,k=k.removeTextAtRange(i),new this.constructor(k.blockList.insertSplittableListAtPosition(s,u))}mergeDocumentAtRange(t,i){let s,u;i=X(i);const[g]=i,b=this.locationFromPosition(g),k=this.getBlockAtIndex(b.index).getAttributes(),C=t.getBaseBlockAttributes(),D=k.slice(-C.length);if(nn(C,D)){const U=k.slice(0,-C.length);s=t.copyWithBaseBlockAttributes(U)}else s=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(k);const E=s.getBlockCount(),H=s.getBlockAtIndex(0);if(nn(k,H.getAttributes())){const U=H.getTextWithoutBlockBreak();if(u=this.insertTextAtRange(U,i),E>1){s=new this.constructor(s.getBlocks().slice(1));const Mt=g+U.getLength();u=u.insertDocumentAtRange(s,Mt)}}else u=this.insertDocumentAtRange(s,i);return u}insertTextAtRange(t,i){i=X(i);const[s]=i,{index:u,offset:g}=this.locationFromPosition(s),b=this.removeTextAtRange(i);return new this.constructor(b.blockList.editObjectAtIndex(u,k=>k.copyWithText(k.text.insertTextAtPosition(t,g))))}removeTextAtRange(t){let i;t=X(t);const[s,u]=t;if(me(t))return this;const[g,b]=Array.from(this.locationRangeFromRange(t)),k=g.index,C=g.offset,D=this.getBlockAtIndex(k),E=b.index,H=b.offset,U=this.getBlockAtIndex(E);if(u-s==1&&D.getBlockBreakPosition()===C&&U.getBlockBreakPosition()!==H&&U.text.getStringAtPosition(H)===`
`)i=this.blockList.editObjectAtIndex(E,Mt=>Mt.copyWithText(Mt.text.removeTextAtRange([H,H+1])));else{let Mt;const Fe=D.text.getTextAtRange([0,C]),Ht=U.text.getTextAtRange([H,U.getLength()]),Ae=Fe.appendText(Ht);Mt=k!==E&&C===0&&D.getAttributeLevel()>=U.getAttributeLevel()?U.copyWithText(Ae):D.copyWithText(Ae);const ie=E+1-k;i=this.blockList.splice(k,ie,Mt)}return new this.constructor(i)}moveTextFromRangeToPosition(t,i){let s;t=X(t);const[u,g]=t;if(u<=i&&i<=g)return this;let b=this.getDocumentAtRange(t),k=this.removeTextAtRange(t);const C=u<i;C&&(i-=b.getLength());const[D,...E]=b.getBlocks();return E.length===0?(s=D.getTextWithoutBlockBreak(),C&&(i+=1)):s=D.text,k=k.insertTextAtRange(s,i),E.length===0?k:(b=new this.constructor(E),i+=s.getLength(),k.insertDocumentAtRange(b,i))}addAttributeAtRange(t,i,s){let{blockList:u}=this;return this.eachBlockAtRange(s,(g,b,k)=>u=u.editObjectAtIndex(k,function(){return ut(t)?g.addAttribute(t,i):b[0]===b[1]?g:g.copyWithText(g.text.addAttributeAtRange(t,i,b))})),new this.constructor(u)}addAttribute(t,i){let{blockList:s}=this;return this.eachBlock((u,g)=>s=s.editObjectAtIndex(g,()=>u.addAttribute(t,i))),new this.constructor(s)}removeAttributeAtRange(t,i){let{blockList:s}=this;return this.eachBlockAtRange(i,function(u,g,b){ut(t)?s=s.editObjectAtIndex(b,()=>u.removeAttribute(t)):g[0]!==g[1]&&(s=s.editObjectAtIndex(b,()=>u.copyWithText(u.text.removeAttributeAtRange(t,g))))}),new this.constructor(s)}updateAttributesForAttachment(t,i){const s=this.getRangeOfAttachment(i),[u]=Array.from(s),{index:g}=this.locationFromPosition(u),b=this.getTextAtIndex(g);return new this.constructor(this.blockList.editObjectAtIndex(g,k=>k.copyWithText(b.updateAttributesForAttachment(t,i))))}removeAttributeForAttachment(t,i){const s=this.getRangeOfAttachment(i);return this.removeAttributeAtRange(t,s)}setHTMLAttributeAtPosition(t,i,s){const u=this.getBlockAtPosition(t),g=u.addHTMLAttribute(i,s);return this.replaceBlock(u,g)}insertBlockBreakAtRange(t){let i;t=X(t);const[s]=t,{offset:u}=this.locationFromPosition(s),g=this.removeTextAtRange(t);return u===0&&(i=[new Qt]),new this.constructor(g.blockList.insertSplittableListAtPosition(new Ki(i),s))}applyBlockAttributeAtRange(t,i,s){const u=this.expandRangeToLineBreaksAndSplitBlocks(s);let g=u.document;s=u.range;const b=ut(t);if(b.listAttribute){g=g.removeLastListAttributeAtRange(s,{exceptAttributeName:t});const k=g.convertLineBreaksToBlockBreaksInRange(s);g=k.document,s=k.range}else g=b.exclusive?g.removeBlockAttributesAtRange(s):b.terminal?g.removeLastTerminalAttributeAtRange(s):g.consolidateBlocksAtRange(s);return g.addAttributeAtRange(t,i,s)}removeLastListAttributeAtRange(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:s}=this;return this.eachBlockAtRange(t,function(u,g,b){const k=u.getLastAttribute();k&&ut(k).listAttribute&&k!==i.exceptAttributeName&&(s=s.editObjectAtIndex(b,()=>u.removeAttribute(k)))}),new this.constructor(s)}removeLastTerminalAttributeAtRange(t){let{blockList:i}=this;return this.eachBlockAtRange(t,function(s,u,g){const b=s.getLastAttribute();b&&ut(b).terminal&&(i=i.editObjectAtIndex(g,()=>s.removeAttribute(b)))}),new this.constructor(i)}removeBlockAttributesAtRange(t){let{blockList:i}=this;return this.eachBlockAtRange(t,function(s,u,g){s.hasAttributes()&&(i=i.editObjectAtIndex(g,()=>s.copyWithoutAttributes()))}),new this.constructor(i)}expandRangeToLineBreaksAndSplitBlocks(t){let i;t=X(t);let[s,u]=t;const g=this.locationFromPosition(s),b=this.locationFromPosition(u);let k=this;const C=k.getBlockAtIndex(g.index);if(g.offset=C.findLineBreakInDirectionFromPosition("backward",g.offset),g.offset!=null&&(i=k.positionFromLocation(g),k=k.insertBlockBreakAtRange([i,i+1]),b.index+=1,b.offset-=k.getBlockAtIndex(g.index).getLength(),g.index+=1),g.offset=0,b.offset===0&&b.index>g.index)b.index-=1,b.offset=k.getBlockAtIndex(b.index).getBlockBreakPosition();else{const D=k.getBlockAtIndex(b.index);D.text.getStringAtRange([b.offset-1,b.offset])===`
`?b.offset-=1:b.offset=D.findLineBreakInDirectionFromPosition("forward",b.offset),b.offset!==D.getBlockBreakPosition()&&(i=k.positionFromLocation(b),k=k.insertBlockBreakAtRange([i,i+1]))}return s=k.positionFromLocation(g),u=k.positionFromLocation(b),{document:k,range:t=X([s,u])}}convertLineBreaksToBlockBreaksInRange(t){t=X(t);let[i]=t;const s=this.getStringAtRange(t).slice(0,-1);let u=this;return s.replace(/.*?\n/g,function(g){i+=g.length,u=u.insertBlockBreakAtRange([i-1,i])}),{document:u,range:t}}consolidateBlocksAtRange(t){t=X(t);const[i,s]=t,u=this.locationFromPosition(i).index,g=this.locationFromPosition(s).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(u,g))}getDocumentAtRange(t){t=X(t);const i=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(i)}getStringAtRange(t){let i;const s=t=X(t);return s[s.length-1]!==this.getLength()&&(i=-1),this.getDocumentAtRange(t).toString().slice(0,i)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:i}=this.locationFromPosition(t);return this.getBlockAtIndex(i)}getTextAtIndex(t){var i;return(i=this.getBlockAtIndex(t))===null||i===void 0?void 0:i.text}getTextAtPosition(t){const{index:i}=this.locationFromPosition(t);return this.getTextAtIndex(i)}getPieceAtPosition(t){const{index:i,offset:s}=this.locationFromPosition(t);return this.getTextAtIndex(i).getPieceAtPosition(s)}getCharacterAtPosition(t){const{index:i,offset:s}=this.locationFromPosition(t);return this.getTextAtIndex(i).getStringAtRange([s,s+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,i){let s,u;t=X(t);const[g,b]=t,k=this.locationFromPosition(g),C=this.locationFromPosition(b);if(k.index===C.index)return s=this.getBlockAtIndex(k.index),u=[k.offset,C.offset],i(s,u,k.index);for(let D=k.index;D<=C.index;D++)if(s=this.getBlockAtIndex(D),s){switch(D){case k.index:u=[k.offset,s.text.getLength()];break;case C.index:u=[0,C.offset];break;default:u=[0,s.text.getLength()]}i(s,u,D)}}getCommonAttributesAtRange(t){t=X(t);const[i]=t;if(me(t))return this.getCommonAttributesAtPosition(i);{const s=[],u=[];return this.eachBlockAtRange(t,function(g,b){if(b[0]!==b[1])return s.push(g.text.getCommonAttributesAtRange(b)),u.push(Ys(g))}),Rt.fromCommonAttributesOfObjects(s).merge(Rt.fromCommonAttributesOfObjects(u)).toObject()}}getCommonAttributesAtPosition(t){let i,s;const{index:u,offset:g}=this.locationFromPosition(t),b=this.getBlockAtIndex(u);if(!b)return{};const k=Ys(b),C=b.text.getAttributesAtPosition(g),D=b.text.getAttributesAtPosition(g-1),E=Object.keys(en).filter(H=>en[H].inheritable);for(i in D)s=D[i],(s===C[i]||E.includes(i))&&(k[i]=s);return k}getRangeOfCommonAttributeAtPosition(t,i){const{index:s,offset:u}=this.locationFromPosition(i),g=this.getTextAtIndex(s),[b,k]=Array.from(g.getExpandedRangeForAttributeAtOffset(t,u)),C=this.positionFromLocation({index:s,offset:b}),D=this.positionFromLocation({index:s,offset:k});return X([C,D])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let i=1;i<this.getBlockCount();i++){const s=this.getBlockAtIndex(i).getAttributes(),u=Math.min(t.length,s.length);t=(()=>{const g=[];for(let b=0;b<u&&s[b]===t[b];b++)g.push(s[b]);return g})()}return t}getAttachmentById(t){for(const i of this.getAttachments())if(i.id===t)return i}getAttachmentPieces(){let t=[];return this.blockList.eachObject(i=>{let{text:s}=i;return t=t.concat(s.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let i=0;const s=this.blockList.toArray();for(let u=0;u<s.length;u++){const{text:g}=s[u],b=g.getRangeOfAttachment(t);if(b)return X([i+b[0],i+b[1]]);i+=g.getLength()}}getLocationRangeOfAttachment(t){const i=this.getRangeOfAttachment(t);return this.locationRangeFromRange(i)}getAttachmentPieceForAttachment(t){for(const i of this.getAttachmentPieces())if(i.attachment===t)return i}findRangesForBlockAttribute(t){let i=0;const s=[];return this.getBlocks().forEach(u=>{const g=u.getLength();u.hasAttribute(t)&&s.push([i,i+g]),i+=g}),s}findRangesForTextAttribute(t){let{withValue:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=0,u=[];const g=[];return this.getPieces().forEach(b=>{const k=b.getLength();(function(C){return i?C.getAttribute(t)===i:C.hasAttribute(t)})(b)&&(u[1]===s?u[1]=s+k:g.push(u=[s,s+k])),s+=k}),g}locationFromPosition(t){const i=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(i.index!=null)return i;{const s=this.getBlocks();return{index:s.length-1,offset:s[s.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return X(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=X(t)))return;const[i,s]=Array.from(t),u=this.locationFromPosition(i),g=this.locationFromPosition(s);return X([u,g])}rangeFromLocationRange(t){let i;t=X(t);const s=this.positionFromLocation(t[0]);return me(t)||(i=this.positionFromLocation(t[1])),X([s,i])}isEqualTo(t){return this.blockList.isEqualTo(t==null?void 0:t.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){const t=[];return Array.from(this.getTexts()).forEach(i=>{t.push(...Array.from(i.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject(i=>t.push(i.copyWithText(i.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(t=>JSON.parse(t.text.toConsole())))}}const Ys=function(r){const t={},i=r.getLastAttribute();return i&&(t[i]=!0),t},lp="style href src width height language class".split(" "),up="javascript:".split(" "),cp="script iframe form noscript".split(" ");class fo extends dt{static sanitize(t,i){const s=new this(t,i);return s.sanitize(),s}constructor(t){let{allowedAttributes:i,forbiddenProtocols:s,forbiddenElements:u}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=i||lp,this.forbiddenProtocols=s||up,this.forbiddenElements=u||cp,this.body=dp(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=qi(this.body),i=[];for(;t.nextNode();){const s=t.currentNode;switch(s.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(s)?i.push(s):this.sanitizeElement(s);break;case Node.COMMENT_NODE:i.push(s)}}return i.forEach(s=>Ee(s)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(i=>{let{name:s}=i;this.allowedAttributes.includes(s)||s.indexOf("data-trix")===0||t.removeAttribute(s)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{const i=t.previousElementSibling;i&&xt(i)==="li"&&i.appendChild(t)}),this.body}elementIsRemovable(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(xt(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!tn(t)}}const dp=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";r=r.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=r,Array.from(t.head.querySelectorAll("style")).forEach(i=>{t.body.appendChild(i)}),t.body},oa=function(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:r=Jn(r),attributes:t,type:"string"}},Vs=(r,t)=>{try{const i=JSON.parse(r.getAttribute("data-trix-".concat(t)));return i.contentType==="text/html"&&i.content&&(i.content=fo.sanitize(i.content).getHTML()),i}catch{return{}}};class ui extends dt{static parse(t,i){const s=new this(t,i);return s.parse(),s}constructor(t){let{referenceElement:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=i,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Wt.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();const t=fo.sanitize(this.html).getHTML();this.containerElement.innerHTML=t;const i=qi(this.containerElement,{usingFilter:fp});for(;i.nextNode();)this.processNode(i.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Y({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Ee(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const i=t.parentNode;if(i===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(i===this.containerElement||this.isBlockElement(i)){var s;const u=this.getBlockAttributes(i),g=this.getBlockHTMLAttributes(i);nn(u,(s=this.currentBlock)===null||s===void 0?void 0:s.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(u,i,g),this.currentBlockElement=i)}}appendBlockForElement(t){const i=this.isBlockElement(t),s=Ze(this.currentBlockElement,t);if(i&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const u=this.getBlockAttributes(t),g=this.getBlockHTMLAttributes(t);if(t.firstChild){if(s&&nn(u,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(u,t,g),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!s&&!i){const u=this.findParentBlockElement(t);if(u)return this.appendBlockForElement(u);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:i}=t;for(;i&&i!==this.containerElement;){if(this.isBlockElement(i)&&this.blockElements.includes(i))return i;i=i.parentElement}return null}processTextNode(t){let i=t.data;var s;return Us(t.parentNode)||(i=lo(i),lu((s=t.previousSibling)===null||s===void 0?void 0:s.textContent)&&(i=gp(i))),this.appendStringWithAttributes(i,this.getTextAttributes(t.parentNode))}processElement(t){let i;if(tn(t)){if(i=Vs(t,"attachment"),Object.keys(i).length){const s=this.getTextAttributes(t);this.appendAttachmentWithAttributes(i,s),t.innerHTML=""}return this.processedElements.push(t)}switch(xt(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":i={url:t.getAttribute("src"),contentType:"image"};const s=(u=>{const g=u.getAttribute("width"),b=u.getAttribute("height"),k={};return g&&(k.width=parseInt(g,10)),b&&(k.height=parseInt(b,10)),k})(t);for(const u in s){const g=s[u];i[u]=g}return this.appendAttachmentWithAttributes(i,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(Bi.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(Bi.tableCellSeparator)}}appendBlockForAttributesWithElement(t,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(i);const u=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(t,s);return this.blocks.push(u),u}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,i){return this.appendPiece(oa(t,i))}appendAttachmentWithAttributes(t,i){return this.appendPiece(function(s){return{attachment:s,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,i))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,i){const{text:s}=this.blocks[i],u=s[s.length-1];if((u==null?void 0:u.type)!=="string")return s.push(oa(t));u.string+=t}prependStringToTextAtIndex(t,i){const{text:s}=this.blocks[i],u=s[0];if((u==null?void 0:u.type)!=="string")return s.unshift(oa(t));u.string=t+u.string}getTextAttributes(t){let i;const s={};for(const u in en){const g=en[u];if(g.tagName&&Oe(t,{matchingSelector:g.tagName,untilNode:this.containerElement}))s[u]=!0;else if(g.parser){if(i=g.parser(t),i){let b=!1;for(const k of this.findBlockElementAncestors(t))if(g.parser(k)===i){b=!0;break}b||(s[u]=i)}}else g.styleProperty&&(i=t.style[g.styleProperty],i&&(s[u]=i))}if(tn(t)){const u=Vs(t,"attributes");for(const g in u)i=u[g],s[g]=i}return s}getBlockAttributes(t){const i=[];for(;t&&t!==this.containerElement;){for(const u in At){const g=At[u];var s;g.parse!==!1&&xt(t)===g.tagName&&((s=g.test)!==null&&s!==void 0&&s.call(g,t)||!g.test)&&(i.push(u),g.listAttribute&&i.push(g.listAttribute))}t=t.parentNode}return i.reverse()}getBlockHTMLAttributes(t){const i={},s=Object.values(At).find(u=>u.tagName===xt(t));return((s==null?void 0:s.htmlAttributes)||[]).forEach(u=>{t.hasAttribute(u)&&(i[u]=t.getAttribute(u))}),i}findBlockElementAncestors(t){const i=[];for(;t&&t!==this.containerElement;){const s=xt(t);Qn().includes(s)&&i.push(t),t=t.parentNode}return i}isBlockElement(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&!tn(t)&&!Oe(t,{matchingSelector:"td",untilNode:this.containerElement}))return Qn().includes(xt(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if((t==null?void 0:t.nodeType)!==Node.TEXT_NODE||!mp(t.data))return;const{parentNode:i,previousSibling:s,nextSibling:u}=t;return hp(i.previousSibling)&&!this.isBlockElement(i.previousSibling)||Us(i)?void 0:!s||this.isBlockElement(s)||!u||this.isBlockElement(u)}isExtraBR(t){return xt(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(Bi.removeBlankTableCells){var i;const s=(i=t.previousSibling)===null||i===void 0?void 0:i.textContent;return s&&/\S/.test(s)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let i=0;i<this.blocks.length;i++){const s=this.getMarginOfBlockElementAtIndex(i);s&&(s.top>2*t.top&&this.prependStringToTextAtIndex(`
`,i),s.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,i))}}getMarginOfBlockElementAtIndex(t){const i=this.blockElements[t];if(i&&i.textContent&&!Qn().includes(xt(i))&&!this.processedElements.includes(i))return qs(i)}getMarginOfDefaultBlockElement(){const t=Y(At.default.tagName);return this.containerElement.appendChild(t),qs(t)}}const Us=function(r){const{whiteSpace:t}=window.getComputedStyle(r);return["pre","pre-wrap","pre-line"].includes(t)},hp=r=>r&&!lu(r.textContent),qs=function(r){const t=window.getComputedStyle(r);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},fp=function(r){return xt(r)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},gp=r=>r.replace(new RegExp("^".concat(so.source,"+")),""),mp=r=>new RegExp("^".concat(so.source,"*$")).test(r),lu=r=>/\s$/.test(r),vp=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Da="data-trix-serialized-attributes",pp="[".concat(Da,"]"),bp=new RegExp("<!--block-->","g"),yp={"application/json":function(r){let t;if(r instanceof Wt)t=r;else{if(!(r instanceof HTMLElement))throw new Error("unserializable object");t=ui.parse(r.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(r){let t;if(r instanceof Wt)t=lr.render(r);else{if(!(r instanceof HTMLElement))throw new Error("unserializable object");t=r.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(i=>{Ee(i)}),vp.forEach(i=>{Array.from(t.querySelectorAll("[".concat(i,"]"))).forEach(s=>{s.removeAttribute(i)})}),Array.from(t.querySelectorAll(pp)).forEach(i=>{try{const s=JSON.parse(i.getAttribute(Da));i.removeAttribute(Da);for(const u in s){const g=s[u];i.setAttribute(u,g)}}catch{}}),t.innerHTML.replace(bp,"")}};var xp=Object.freeze({__proto__:null});class st extends dt{constructor(t,i){super(...arguments),this.attachmentManager=t,this.attachment=i,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}st.proxyMethod("attachment.getAttribute"),st.proxyMethod("attachment.hasAttribute"),st.proxyMethod("attachment.setAttribute"),st.proxyMethod("attachment.getAttributes"),st.proxyMethod("attachment.setAttributes"),st.proxyMethod("attachment.isPending"),st.proxyMethod("attachment.isPreviewable"),st.proxyMethod("attachment.getURL"),st.proxyMethod("attachment.getHref"),st.proxyMethod("attachment.getFilename"),st.proxyMethod("attachment.getFilesize"),st.proxyMethod("attachment.getFormattedFilesize"),st.proxyMethod("attachment.getExtension"),st.proxyMethod("attachment.getContentType"),st.proxyMethod("attachment.getFile"),st.proxyMethod("attachment.setFile"),st.proxyMethod("attachment.releaseFile"),st.proxyMethod("attachment.getUploadProgress"),st.proxyMethod("attachment.setUploadProgress");class uu extends dt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(i=>{this.manageAttachment(i)})}getAttachments(){const t=[];for(const i in this.managedAttachments){const s=this.managedAttachments[i];t.push(s)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new st(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var i,s;if(this.attachmentIsManaged(t))return(i=this.delegate)===null||i===void 0||(s=i.attachmentManagerDidRequestRemovalOfAttachment)===null||s===void 0?void 0:s.call(i,t)}unmanageAttachment(t){const i=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],i}}class cu{constructor(t){this.composition=t,this.document=this.composition.document;const i=this.composition.getSelectedRange();this.startPosition=i[0],this.endPosition=i[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Me extends dt{constructor(){super(...arguments),this.document=new Wt,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var i,s;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(i=this.delegate)===null||i===void 0||(s=i.compositionDidChangeDocument)===null||s===void 0?void 0:s.call(i,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var i,s,u,g;let{document:b,selectedRange:k}=t;return(i=this.delegate)===null||i===void 0||(s=i.compositionWillLoadSnapshot)===null||s===void 0||s.call(i),this.setDocument(b??new Wt),this.setSelection(k??[0,0]),(u=this.delegate)===null||u===void 0||(g=u.compositionDidLoadSnapshot)===null||g===void 0?void 0:g.call(u)}insertText(t){let{updatePosition:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const s=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,s));const u=s[0],g=u+t.getLength();return i&&this.setSelection(g),this.notifyDelegateOfInsertionAtRange([u,g])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Qt;const i=new Wt([t]);return this.insertDocument(i)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Wt;const i=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,i));const s=i[0],u=s+t.getLength();return this.setSelection(u),this.notifyDelegateOfInsertionAtRange([s,u])}insertString(t,i){const s=this.getCurrentTextAttributes(),u=Vt.textForStringWithAttributes(t,s);return this.insertText(u,i)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const i=t[0],s=i+1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}insertLineBreak(){const t=new cu(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const i=new Wt([t.block.copyWithoutText()]);return this.insertDocument(i)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const i=ui.parse(t).getDocument(),s=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(i,s));const u=s[0],g=u+i.getLength()-1;return this.setSelection(g),this.notifyDelegateOfInsertionAtRange([u,g])}replaceHTML(t){const i=ui.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),s=this.getLocationRange({strict:!1}),u=this.document.rangeFromLocationRange(s);return this.setDocument(i),this.setSelection(u)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const i=[];return Array.from(t).forEach(s=>{var u;if((u=this.delegate)!==null&&u!==void 0&&u.compositionShouldAcceptFile(s)){const g=Ln.attachmentForFile(s);i.push(g)}}),this.insertAttachments(i)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let i=new Vt;return Array.from(t).forEach(s=>{var u;const g=s.getType(),b=(u=eo[g])===null||u===void 0?void 0:u.presentation,k=this.getCurrentTextAttributes();b&&(k.presentation=b);const C=Vt.textForAttachmentWithAttributes(s,k);i=i.appendText(C)}),this.insertText(i)}shouldManageDeletingInDirection(t){const i=this.getLocationRange();if(me(i)){if(t==="backward"&&i[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(i[0].index!==i[1].index)return!0;return!1}deleteInDirection(t){let i,s,u,{length:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=this.getLocationRange();let k=this.getSelectedRange();const C=me(k);if(C?s=t==="backward"&&b[0].offset===0:u=b[0].index!==b[1].index,s&&this.canDecreaseBlockAttributeLevel()){const D=this.getBlock();if(D.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(k[0]),D.isEmpty())return!1}return C&&(k=this.getExpandedRangeInDirection(t,{length:g}),t==="backward"&&(i=this.getAttachmentAtRange(k))),i?(this.editAttachment(i),!1):(this.setDocument(this.document.removeTextAtRange(k)),this.setSelection(k[0]),!s&&!u&&void 0)}moveTextFromRange(t){const[i]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,i)),this.setSelection(i)}removeAttachment(t){const i=this.document.getRangeOfAttachment(t);if(i)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(i)),this.setSelection(i[0])}removeLastBlockAttribute(){const[t,i]=Array.from(this.getSelectedRange()),s=this.document.getBlockAtPosition(i);return this.removeCurrentAttribute(s.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const i=this.currentAttributes[t];return i!=null&&i!==!1}toggleCurrentAttribute(t){const i=!this.currentAttributes[t];return i?this.setCurrentAttribute(t,i):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return ut(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const i=this.getSelectedDocument();if(i){for(const s of Array.from(i.getAttachments()))if(!s.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const i=this.getBlock();if(i)return!i.isTerminalBlock()}setCurrentAttribute(t,i){return ut(t)?this.setBlockAttribute(t,i):(this.setTextAttribute(t,i),this.currentAttributes[t]=i,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,i,s){var u;const g=this.document.getBlockAtPosition(t),b=(u=ut(g.getLastAttribute()))===null||u===void 0?void 0:u.htmlAttributes;if(g&&b!=null&&b.includes(i)){const k=this.document.setHTMLAttributeAtPosition(t,i,s);this.setDocument(k)}}setTextAttribute(t,i){const s=this.getSelectedRange();if(!s)return;const[u,g]=Array.from(s);if(u!==g)return this.setDocument(this.document.addAttributeAtRange(t,i,s));if(t==="href"){const b=Vt.textForStringWithAttributes(i,{href:i});return this.insertText(b)}}setBlockAttribute(t,i){const s=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,i,s)),this.setSelection(s)}removeCurrentAttribute(t){return ut(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const i=this.getSelectedRange();if(i)return this.setDocument(this.document.removeAttributeAtRange(t,i))}removeBlockAttribute(t){const i=this.getSelectedRange();if(i)return this.setDocument(this.document.removeAttributeAtRange(t,i))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const i=this.getBlock();if(i){if((t=ut(i.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return i.getNestingLevel()>0;{const s=this.getPreviousBlock();if(s)return function(){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return nn((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,u.length),u)}(s.getListItemAttributes(),i.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const i=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(i)return this.removeCurrentAttribute(i)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:i}=this.document.locationFromPosition(t);let s=i;const u=this.getBlock().getAttributeLevel();let g=this.document.getBlockAtIndex(s+1);for(;g&&g.isListItem()&&!(g.getAttributeLevel()<=u);)s++,g=this.document.getBlockAtIndex(s+1);t=this.document.positionFromLocation({index:i,offset:0});const b=this.document.positionFromLocation({index:s,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,b]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const i=this.document.getCommonAttributesAtRange(t);if(Array.from(_a()).forEach(s=>{i[s]||this.canSetCurrentAttribute(s)||(i[s]=!1)}),!Rn(i,this.currentAttributes))return this.currentAttributes=i,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return Ul.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const i in this.currentAttributes){const s=this.currentAttributes[i];s!==!1&&Sa(i)&&(t[i]=s)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var i;const s=this.document.locationRangeFromRange(t);return(i=this.delegate)===null||i===void 0?void 0:i.compositionDidRequestChangingSelectionToLocationRange(s)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const i=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(i)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||X({index:0,offset:0})}withTargetLocationRange(t,i){let s;this.targetLocationRange=t;try{s=i()}finally{this.targetLocationRange=null}return s}withTargetRange(t,i){const s=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(s,i)}withTargetDOMRange(t,i){const s=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(s,i)}getExpandedRangeInDirection(t){let{length:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[s,u]=Array.from(this.getSelectedRange());return t==="backward"?i?s-=i:s=this.translateUTF16PositionFromOffset(s,-1):i?u+=i:u=this.translateUTF16PositionFromOffset(u,1),X([s,u])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const i=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(i)!=null}moveCursorInDirection(t){let i,s;if(this.editingAttachment)s=this.document.getRangeOfAttachment(this.editingAttachment);else{const u=this.getSelectedRange();s=this.getExpandedRangeInDirection(t),i=!Gi(u,s)}if(t==="backward"?this.setSelectedRange(s[0]):this.setSelectedRange(s[1]),i){const u=this.getAttachmentAtRange(s);if(u)return this.editAttachment(u)}}expandSelectionInDirection(t){let{length:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getExpandedRangeInDirection(t,{length:i});return this.setSelectedRange(s)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const i=this.getPosition(),s=this.document.getRangeOfCommonAttributeAtPosition(t,i);return this.setSelectedRange(s)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const i=this.document.locationFromPosition(t);if(i)return this.locationIsCursorTarget(i)}positionIsBlockBreak(t){var i;return(i=this.document.getPieceAtPosition(t))===null||i===void 0?void 0:i.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:i,removed:s}=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const b=[],k=[],C=new Set;u.forEach(E=>{C.add(E)});const D=new Set;return g.forEach(E=>{D.add(E),C.has(E)||b.push(E)}),u.forEach(E=>{D.has(E)||k.push(E)}),{added:b,removed:k}}(this.attachments,t);return this.attachments=t,Array.from(s).forEach(u=>{var g,b;u.delegate=null,(g=this.delegate)===null||g===void 0||(b=g.compositionDidRemoveAttachment)===null||b===void 0||b.call(g,u)}),(()=>{const u=[];return Array.from(i).forEach(g=>{var b,k;g.delegate=this,u.push((b=this.delegate)===null||b===void 0||(k=b.compositionDidAddAttachment)===null||k===void 0?void 0:k.call(b,g))}),u})()}attachmentDidChangeAttributes(t){var i,s;return this.revision++,(i=this.delegate)===null||i===void 0||(s=i.compositionDidEditAttachment)===null||s===void 0?void 0:s.call(i,t)}attachmentDidChangePreviewURL(t){var i,s;return this.revision++,(i=this.delegate)===null||i===void 0||(s=i.compositionDidChangeAttachmentPreviewURL)===null||s===void 0?void 0:s.call(i,t)}editAttachment(t,i){var s,u;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(s=this.delegate)===null||s===void 0||(u=s.compositionDidStartEditingAttachment)===null||u===void 0?void 0:u.call(s,this.editingAttachment,i)}stopEditingAttachment(){var t,i;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(i=t.compositionDidStopEditingAttachment)===null||i===void 0||i.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,i){return this.setDocument(this.document.updateAttributesForAttachment(t,i))}removeAttributeForAttachment(t,i){return this.setDocument(this.document.removeAttributeForAttachment(t,i))}breakFormattedBlock(t){let{document:i}=t;const{block:s}=t;let u=t.startPosition,g=[u-1,u];s.getBlockBreakPosition()===t.startLocation.offset?(s.breaksOnReturn()&&t.nextCharacter===`
`?u+=1:i=i.removeTextAtRange(g),g=[u,u]):t.nextCharacter===`
`?t.previousCharacter===`
`?g=[u-1,u+1]:(g=[u,u+1],u+=1):t.startLocation.offset-1!=0&&(u+=1);const b=new Wt([s.removeLastAttribute().copyWithoutText()]);return this.setDocument(i.insertDocumentAtRange(b,g)),this.setSelection(u)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:i}=t[0];if(i>0)return this.document.getBlockAtIndex(i-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const i=this.document.getDocumentAtRange(t);if(i.toString()==="".concat("",`
`))return i.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionDidChangeCurrentAttributes)===null||i===void 0?void 0:i.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionDidPerformInsertionAtRange)===null||s===void 0?void 0:s.call(i,t)}translateUTF16PositionFromOffset(t,i){const s=this.document.toUTF16String(),u=s.offsetFromUCS2Offset(t);return s.offsetToUCS2Offset(u+i)}}Me.proxyMethod("getSelectionManager().getPointRange"),Me.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Me.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Me.proxyMethod("getSelectionManager().locationIsCursorTarget"),Me.proxyMethod("getSelectionManager().selectionIsExpanded"),Me.proxyMethod("delegate?.getSelectionManager");class Ma extends dt{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:i,consolidatable:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=this.undoEntries.slice(-1)[0];if(!s||!Ap(u,t,i)){const g=this.createEntry({description:t,context:i});this.undoEntries.push(g),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const i=this.createEntry(t);return this.redoEntries.push(i),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const i=this.createEntry(t);return this.undoEntries.push(i),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t==null?void 0:t.toString(),context:JSON.stringify(i),snapshot:this.composition.getSnapshot()}}}const Ap=(r,t,i)=>(r==null?void 0:r.description)===(t==null?void 0:t.toString())&&(r==null?void 0:r.context)===JSON.stringify(i),sa="attachmentGallery";class du{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange(sa,t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(i=>{i[1]-i[0]>1&&(i[0]+=t,i[1]+=t,this.document.getCharacterAtPosition(i[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(i[1]),i[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),i[1]++,t++),i[0]!==0&&this.document.getCharacterAtPosition(i[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(i[0]),i[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),i[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(sa,!0,i))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(sa)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const hu=function(r){const t=new du(r);return t.perform(),t.getSnapshot()},kp=[hu];class fu{constructor(t,i,s){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=i,this.element=s,this.undoManager=new Ma(this.composition),this.filters=kp.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=ui.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(i)}loadJSON(t){let{document:i,selectedRange:s}=t;return i=Wt.fromJSON(i),this.loadSnapshot({document:i,selectedRange:s})}loadSnapshot(t){return this.undoManager=new Ma(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const i=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(i)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,i)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,i,s){this.composition.setHTMLAtributeAtPosition(t,i,s)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:i,consolidatable:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:i,consolidatable:s})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class gu{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,i){let{strict:s}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},u=0,g=!1;const b={index:0,offset:0},k=this.findAttachmentElementParentForNode(t);k&&(t=k.parentNode,i=Zr(k));const C=qi(this.element,{usingFilter:mu});for(;C.nextNode();){const D=C.currentNode;if(D===t&&ti(t)){Sn(D)||(b.offset+=i);break}if(D.parentNode===t){if(u++===i)break}else if(!Ze(t,D)&&u>0)break;Ms(D,{strict:s})?(g&&b.index++,b.offset=0,g=!0):b.offset+=la(D)}return b}findContainerAndOffsetFromLocation(t){let i,s;if(t.index===0&&t.offset===0){for(i=this.element,s=0;i.firstChild;)if(i=i.firstChild,Xr(i)){s=1;break}return[i,s]}let[u,g]=this.findNodeAndOffsetFromLocation(t);if(u){if(ti(u))la(u)===0?(i=u.parentNode.parentNode,s=Zr(u.parentNode),Sn(u,{name:"right"})&&s++):(i=u,s=t.offset-g);else{if(i=u.parentNode,!Ms(u.previousSibling)&&!Xr(i))for(;u===i.lastChild&&(u=i,i=i.parentNode,!Xr(i)););s=Zr(u),t.offset!==0&&s++}return[i,s]}}findNodeAndOffsetFromLocation(t){let i,s,u=0;for(const g of this.getSignificantNodesForIndex(t.index)){const b=la(g);if(t.offset<=u+b)if(ti(g)){if(i=g,s=u,t.offset===s&&Sn(i))break}else i||(i=g,s=u);if(u+=b,u>t.offset)break}return[i,s]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(tn(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const i=[],s=qi(this.element,{usingFilter:wp});let u=!1;for(;s.nextNode();){const b=s.currentNode;var g;if(_n(b)){if(g!=null?g++:g=0,g===t)u=!0;else if(u)break}else u&&i.push(b)}return i}}const la=function(r){return r.nodeType===Node.TEXT_NODE?Sn(r)?0:r.textContent.length:xt(r)==="br"||tn(r)?1:0},wp=function(r){return _p(r)===NodeFilter.FILTER_ACCEPT?mu(r):NodeFilter.FILTER_REJECT},_p=function(r){return Gl(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},mu=function(r){return tn(r.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class vu{createDOMRangeFromPoint(t){let i,{x:s,y:u}=t;if(document.caretPositionFromPoint){const{offsetNode:g,offset:b}=document.caretPositionFromPoint(s,u);return i=document.createRange(),i.setStart(g,b),i}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(s,u);if(document.body.createTextRange){const g=ei();try{const b=document.body.createTextRange();b.moveToPoint(s,u),b.select()}catch{}return i=ei(),eu(g),i}}getClientRectsForDOMRange(t){const i=Array.from(t.getClientRects());return[i[0],i[i.length-1]]}}class Ke extends dt{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new gu(this.element),this.pointMapper=new vu,this.lockCount=0,ot("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(ei()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=X(t);const i=this.createDOMRangeFromLocationRange(t);i&&(eu(i),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=X(t);const i=this.getLocationAtPoint(t[0]),s=this.getLocationAtPoint(t[1]);this.setLocationRange([i,s])}getClientRectAtLocationRange(t){const i=this.createDOMRangeFromLocationRange(t);if(i)return this.getClientRectsForDOMRange(i)[1]}locationIsCursorTarget(t){const i=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return Sn(i)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=tu())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=ei())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,i){if(t==null||!this.domRangeWithinElement(t))return;const s=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,i);if(!s)return;const u=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,i);return X([s,u])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const i=()=>{if(this.paused=!1,clearTimeout(s),Array.from(t).forEach(u=>{u.destroy()}),Ze(document,this.element))return this.selectionDidChange()},s=setTimeout(i,200);t=["mousemove","keydown"].map(u=>ot(u,{onElement:document,withCallback:i}))}selectionDidChange(){if(!this.paused&&!io(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var i,s;if((t??(t=this.createLocationRangeFromDOMRange(ei())))&&!Gi(t,this.currentLocationRange))return this.currentLocationRange=t,(i=this.delegate)===null||i===void 0||(s=i.locationRangeDidChange)===null||s===void 0?void 0:s.call(i,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const i=this.findContainerAndOffsetFromLocation(t[0]),s=me(t)?i:this.findContainerAndOffsetFromLocation(t[1])||i;if(i!=null&&s!=null){const u=document.createRange();return u.setStart(...Array.from(i||[])),u.setEnd(...Array.from(s||[])),u}}getLocationAtPoint(t){const i=this.createDOMRangeFromPoint(t);var s;if(i)return(s=this.createLocationRangeFromDOMRange(i))===null||s===void 0?void 0:s[0]}domRangeWithinElement(t){return t.collapsed?Ze(this.element,t.startContainer):Ze(this.element,t.startContainer)&&Ze(this.element,t.endContainer)}}Ke.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Ke.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Ke.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Ke.proxyMethod("pointMapper.createDOMRangeFromPoint"),Ke.proxyMethod("pointMapper.getClientRectsForDOMRange");var pu=Object.freeze({__proto__:null,Attachment:Ln,AttachmentManager:uu,AttachmentPiece:Cn,Block:Qt,Composition:Me,Document:Wt,Editor:fu,HTMLParser:ui,HTMLSanitizer:fo,LineBreakInsertion:cu,LocationMapper:gu,ManagedAttachment:st,Piece:ln,PointMapper:vu,SelectionManager:Ke,SplittableList:Ki,StringPiece:ho,Text:Vt,UndoManager:Ma}),Sp=Object.freeze({__proto__:null,ObjectView:sn,AttachmentView:co,BlockView:au,DocumentView:lr,PieceView:iu,PreviewableAttachmentView:nu,TextView:ru});const{lang:ua,css:$e,keyNames:Cp}=mi,ca=function(r){return function(){const t=r.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class bu extends dt{constructor(t,i,s){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Lt(this,"makeElementMutable",ca(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Lt(this,"addToolbar",ca(()=>{const g=Y({tagName:"div",className:$e.attachmentToolbar,data:{trixMutable:!0},childNodes:Y({tagName:"div",className:"trix-button-row",childNodes:Y({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Y({tagName:"button",className:"trix-button trix-button--remove",textContent:ua.remove,attributes:{title:ua.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&g.appendChild(Y({tagName:"div",className:$e.attachmentMetadataContainer,childNodes:Y({tagName:"span",className:$e.attachmentMetadata,childNodes:[Y({tagName:"span",className:$e.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Y({tagName:"span",className:$e.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),ot("click",{onElement:g,withCallback:this.didClickToolbar}),ot("click",{onElement:g,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Xn("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:g,attachment:this.attachment}}),{do:()=>this.element.appendChild(g),undo:()=>Ee(g)}})),Lt(this,"installCaptionEditor",ca(()=>{const g=Y({tagName:"textarea",className:$e.attachmentCaptionEditor,attributes:{placeholder:ua.captionPlaceholder},data:{trixMutable:!0}});g.value=this.attachmentPiece.getCaption();const b=g.cloneNode();b.classList.add("trix-autoresize-clone"),b.tabIndex=-1;const k=function(){b.value=g.value,g.style.height=b.scrollHeight+"px"};ot("input",{onElement:g,withCallback:k}),ot("input",{onElement:g,withCallback:this.didInputCaption}),ot("keydown",{onElement:g,withCallback:this.didKeyDownCaption}),ot("change",{onElement:g,withCallback:this.didChangeCaption}),ot("blur",{onElement:g,withCallback:this.didBlurCaption});const C=this.element.querySelector("figcaption"),D=C.cloneNode();return{do:()=>{if(C.style.display="none",D.appendChild(g),D.appendChild(b),D.classList.add("".concat($e.attachmentCaption,"--editing")),C.parentElement.insertBefore(D,C),k(),this.options.editCaption)return oo(()=>g.focus())},undo(){Ee(D),C.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=i,this.container=s,this.options=u,this.attachment=this.attachmentPiece.attachment,xt(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let i=this.undos.pop();for(this.savePendingCaption();i;)i(),i=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const g=this.pendingCaption;var t,i,s,u;this.pendingCaption=null,g?(t=this.delegate)===null||t===void 0||(i=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||i===void 0||i.call(t,{caption:g},this.attachment):(s=this.delegate)===null||s===void 0||(u=s.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||u===void 0||u.call(s,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var i;if(t.target.getAttribute("data-trix-action")==="remove")return(i=this.delegate)===null||i===void 0?void 0:i.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var i,s;if(Cp[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(i=this.delegate)===null||i===void 0||(s=i.attachmentEditorDidRequestDeselectingAttachment)===null||s===void 0?void 0:s.call(i,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class yu extends dt{constructor(t,i){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=i,this.documentView=new lr(this.composition.document,{element:this.element}),ot("focus",{onElement:this.element,withCallback:this.didFocus}),ot("blur",{onElement:this.element,withCallback:this.didBlur}),ot("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),ot("mousedown",{onElement:this.element,matchingSelector:Qe,withCallback:this.didClickAttachment}),ot("click",{onElement:this.element,matchingSelector:"a".concat(Qe),preventDefault:!0})}didFocus(t){var i;const s=()=>{var u,g;if(!this.focused)return this.focused=!0,(u=this.delegate)===null||u===void 0||(g=u.compositionControllerDidFocus)===null||g===void 0?void 0:g.call(u)};return((i=this.blurPromise)===null||i===void 0?void 0:i.then(s))||s()}didBlur(t){this.blurPromise=new Promise(i=>oo(()=>{var s,u;return io(this.element)||(this.focused=null,(s=this.delegate)===null||s===void 0||(u=s.compositionControllerDidBlur)===null||u===void 0||u.call(s)),this.blurPromise=null,i()}))}didClickAttachment(t,i){var s,u;const g=this.findAttachmentForElement(i),b=!!Oe(t.target,{matchingSelector:"figcaption"});return(s=this.delegate)===null||s===void 0||(u=s.compositionControllerDidSelectAttachment)===null||u===void 0?void 0:u.call(s,g,{editCaption:b})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,i,s,u,g,b;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((s=this.delegate)===null||s===void 0||(u=s.compositionControllerWillSyncDocumentView)===null||u===void 0||u.call(s),this.documentView.sync(),(g=this.delegate)===null||g===void 0||(b=g.compositionControllerDidSyncDocumentView)===null||b===void 0||b.call(g)),(t=this.delegate)===null||t===void 0||(i=t.compositionControllerDidRender)===null||i===void 0?void 0:i.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,i){var s;if(((s=this.attachmentEditor)===null||s===void 0?void 0:s.attachment)===t)return;const u=this.documentView.findElementForObject(t);if(!u)return;this.uninstallAttachmentEditor();const g=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new bu(g,u,this.element,i),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,i){var s,u;return(s=this.delegate)===null||s===void 0||(u=s.compositionControllerWillUpdateAttachment)===null||u===void 0||u.call(s,i),this.composition.updateAttributesForAttachment(t,i)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,i){var s,u;return(s=this.delegate)===null||s===void 0||(u=s.compositionControllerWillUpdateAttachment)===null||u===void 0||u.call(s,i),this.composition.removeAttributeForAttachment(t,i)}attachmentEditorDidRequestRemovalOfAttachment(t){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidRequestRemovalOfAttachment)===null||s===void 0?void 0:s.call(i,t)}attachmentEditorDidRequestDeselectingAttachment(t){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidRequestDeselectingAttachment)===null||s===void 0?void 0:s.call(i,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class xu extends dt{}const Au="data-trix-mutable",Dp="[".concat(Au,"]"),Mp={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class ku extends dt{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,Mp)}stop(){return this.observer.disconnect()}didMutate(t){var i,s;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(i=this.delegate)===null||i===void 0||(s=i.elementDidMutate)===null||s===void 0||s.call(i,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(i=>this.mutationIsSignificant(i))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const i of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(i))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!Gl(t)}nodeIsMutable(t){return Oe(t,{matchingSelector:Dp})}nodesModifiedByMutation(t){const i=[];switch(t.type){case"attributes":t.attributeName!==Au&&i.push(t.target);break;case"characterData":i.push(t.target.parentNode),i.push(t.target);break;case"childList":i.push(...Array.from(t.addedNodes||[])),i.push(...Array.from(t.removedNodes||[]))}return i}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:i}=this.getTextChangesFromCharacterData(),s=this.getTextChangesFromChildList();Array.from(s.additions).forEach(k=>{Array.from(t).includes(k)||t.push(k)}),i.push(...Array.from(s.deletions||[]));const u={},g=t.join("");g&&(u.textAdded=g);const b=i.join("");return b&&(u.textDeleted=b),u}getMutationsByType(t){return Array.from(this.mutations).filter(i=>i.type===t)}getTextChangesFromChildList(){let t,i;const s=[],u=[];return Array.from(this.getMutationsByType("childList")).forEach(g=>{s.push(...Array.from(g.addedNodes||[])),u.push(...Array.from(g.removedNodes||[]))}),s.length===0&&u.length===1&&_n(u[0])?(t=[],i=[`
`]):(t=Ta(s),i=Ta(u)),{additions:t.filter((g,b)=>g!==i[b]).map(Jn),deletions:i.filter((g,b)=>g!==t[b]).map(Jn)}}getTextChangesFromCharacterData(){let t,i;const s=this.getMutationsByType("characterData");if(s.length){const u=s[0],g=s[s.length-1],b=function(k,C){let D,E;return k=li.box(k),(C=li.box(C)).length<k.length?[E,D]=Es(k,C):[D,E]=Es(C,k),{added:D,removed:E}}(Jn(u.oldValue),Jn(g.target.data));t=b.added,i=b.removed}return{additions:t?[t]:[],deletions:i?[i]:[]}}}const Ta=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const i of Array.from(r))switch(i.nodeType){case Node.TEXT_NODE:t.push(i.data);break;case Node.ELEMENT_NODE:xt(i)==="br"?t.push(`
`):t.push(...Array.from(Ta(i.childNodes)||[]))}return t};class wu extends $i{constructor(t){super(...arguments),this.file=t}perform(t){const i=new FileReader;return i.onerror=()=>t(!1),i.onload=()=>{i.onerror=null;try{i.abort()}catch{}return t(!0,this.file)},i.readAsArrayBuffer(this.file)}}class Tp{constructor(t){this.element=t}shouldIgnore(t){return!!gi.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&Rp(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,i;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((i=this.previousEvent)===null||i===void 0?void 0:i.key)==="Unidentified"}}const Rp=(r,t)=>Gs(r)===Gs(t),Lp=new RegExp("(".concat("","|").concat(sr,"|").concat(Te,"|\\s)+"),"g"),Gs=r=>r.replace(Lp," ").trim();class ur extends dt{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new ku(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new Tp(this.element);for(const i in this.constructor.events)ot(i,{onElement:this.element,withCallback:this.handlerFor(i)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidRequestRender)===null||i===void 0?void 0:i.call(t)}requestReparse(){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidRequestReparse)===null||i===void 0||i.call(t),this.requestRender()}attachFiles(t){const i=Array.from(t).map(s=>new wu(s));return Promise.all(i).then(s=>{this.handleInput(function(){var u,g;return(u=this.delegate)===null||u===void 0||u.inputControllerWillAttachFiles(),(g=this.responder)===null||g===void 0||g.insertFiles(s),this.requestRender()})})}handlerFor(t){return i=>{i.defaultPrevented||this.handleInput(()=>{if(!io(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(i))return;this.eventName=t,this.constructor.events[t].call(this,i)}})}}handleInput(t){try{var i;(i=this.delegate)===null||i===void 0||i.inputControllerWillHandleInput(),t.call(this)}finally{var s;(s=this.delegate)===null||s===void 0||s.inputControllerDidHandleInput()}}createLinkHTML(t,i){const s=document.createElement("a");return s.href=t,s.textContent=i||t,s.outerHTML}}var da;Lt(ur,"events",{});const{browser:Pp,keyNames:_u}=mi;let Op=0;class he extends ur{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const i in t){const s=t[i];this.inputSummary[i]=s}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),rn.reset()}elementDidMutate(t){var i,s;return this.isComposing()?(i=this.delegate)===null||i===void 0||(s=i.inputControllerDidAllowUnhandledInput)===null||s===void 0?void 0:s.call(i):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:i,textDeleted:s}=t;if(this.inputSummary.preferDocument)return!0;const u=i!=null?i===this.inputSummary.textAdded:!this.inputSummary.textAdded,g=s!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,b=[`
`,` 
`].includes(i)&&!u,k=s===`
`&&!g;if(b&&!k||k&&!b){const D=this.getSelectedRange();if(D){var C;const E=b?i.replace(/\n$/,"").length||-1:(i==null?void 0:i.length)||1;if((C=this.responder)!==null&&C!==void 0&&C.positionIsBlockBreak(D[1]+E))return!0}}return u&&g}mutationIsSignificant(t){var i;const s=Object.keys(t).length>0,u=((i=this.compositionInput)===null||i===void 0?void 0:i.getEndData())==="";return s||!u}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new De(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,i){var s;return((s=this.responder)===null||s===void 0?void 0:s.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):i?(i.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var i;if(!function(u){if(u==null||!u.setData)return!1;for(const g in Ls){const b=Ls[g];try{if(u.setData(g,b),!u.getData(g)===b)return!1}catch{return!1}}return!0}(t))return;const s=(i=this.responder)===null||i===void 0?void 0:i.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(s)),t.setData("text/html",lr.render(s).innerHTML),t.setData("text/plain",s.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const i={};return Array.from((t==null?void 0:t.types)||[]).forEach(s=>{i[s]=!0}),i.Files||i["application/x-trix-document"]||i["text/html"]||i["text/plain"]}getPastedHTMLUsingHiddenElement(t){const i=this.getSelectedRange(),s={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},u=Y({style:s,tagName:"div",editable:!0});return document.body.appendChild(u),u.focus(),requestAnimationFrame(()=>{const g=u.innerHTML;return Ee(u),this.setSelectedRange(i),t(g)})}}Lt(he,"events",{keydown(r){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=_u[r.keyCode];if(t){var i;let u=this.keys;["ctrl","alt","shift","meta"].forEach(g=>{var b;r["".concat(g,"Key")]&&(g==="ctrl"&&(g="control"),u=(b=u)===null||b===void 0?void 0:b[g])}),((i=u)===null||i===void 0?void 0:i[t])!=null&&(this.setInputSummary({keyName:t}),rn.reset(),u[t].call(this,r))}if(Zl(r)){const u=String.fromCharCode(r.keyCode).toLowerCase();if(u){var s;const g=["alt","shift"].map(b=>{if(r["".concat(b,"Key")])return b}).filter(b=>b);g.push(u),(s=this.delegate)!==null&&s!==void 0&&s.inputControllerDidReceiveKeyboardCommand(g)&&r.preventDefault()}}},keypress(r){if(this.inputSummary.eventName!=null||r.metaKey||r.ctrlKey&&!r.altKey)return;const t=Ip(r);var i,s;return t?((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),(s=this.responder)===null||s===void 0||s.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(r){const{data:t}=r,{textAdded:i}=this.inputSummary;if(i&&i!==t&&i.toUpperCase()===t){var s;const u=this.getSelectedRange();return this.setSelectedRange([u[0],u[1]+i.length]),(s=this.responder)===null||s===void 0||s.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(u)}},dragenter(r){r.preventDefault()},dragstart(r){var t,i;return this.serializeSelectionToDataTransfer(r.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidStartDrag)===null||i===void 0?void 0:i.call(t)},dragover(r){if(this.draggedRange||this.canAcceptDataTransfer(r.dataTransfer)){r.preventDefault();const s={x:r.clientX,y:r.clientY};var t,i;if(!Rn(s,this.draggingPoint))return this.draggingPoint=s,(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidReceiveDragOverPoint)===null||i===void 0?void 0:i.call(t,this.draggingPoint)}},dragend(r){var t,i;(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidCancelDrag)===null||i===void 0||i.call(t),this.draggedRange=null,this.draggingPoint=null},drop(r){var t,i;r.preventDefault();const s=(t=r.dataTransfer)===null||t===void 0?void 0:t.files,u=r.dataTransfer.getData("application/x-trix-document"),g={x:r.clientX,y:r.clientY};if((i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(g),s!=null&&s.length)this.attachFiles(s);else if(this.draggedRange){var b,k;(b=this.delegate)===null||b===void 0||b.inputControllerWillMoveText(),(k=this.responder)===null||k===void 0||k.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(u){var C;const D=Wt.fromJSONString(u);(C=this.responder)===null||C===void 0||C.insertDocument(D),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(r){var t,i;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(r.clipboardData)&&r.preventDefault(),(i=this.delegate)===null||i===void 0||i.inputControllerWillCutText(),this.deleteInDirection("backward"),r.defaultPrevented))return this.requestRender()},copy(r){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(r.clipboardData)&&r.preventDefault()},paste(r){const t=r.clipboardData||r.testClipboardData,i={clipboard:t};if(!t||Np(r))return void this.getPastedHTMLUsingHiddenElement(bt=>{var re,Pn,On;return i.type="text/html",i.html=bt,(re=this.delegate)===null||re===void 0||re.inputControllerWillPaste(i),(Pn=this.responder)===null||Pn===void 0||Pn.insertHTML(i.html),this.requestRender(),(On=this.delegate)===null||On===void 0?void 0:On.inputControllerDidPaste(i)});const s=t.getData("URL"),u=t.getData("text/html"),g=t.getData("public.url-name");if(s){var b,k,C;let bt;i.type="text/html",bt=g?lo(g).trim():s,i.html=this.createLinkHTML(s,bt),(b=this.delegate)===null||b===void 0||b.inputControllerWillPaste(i),this.setInputSummary({textAdded:bt,didDelete:this.selectionIsExpanded()}),(k=this.responder)===null||k===void 0||k.insertHTML(i.html),this.requestRender(),(C=this.delegate)===null||C===void 0||C.inputControllerDidPaste(i)}else if(Jl(t)){var D,E,H;i.type="text/plain",i.string=t.getData("text/plain"),(D=this.delegate)===null||D===void 0||D.inputControllerWillPaste(i),this.setInputSummary({textAdded:i.string,didDelete:this.selectionIsExpanded()}),(E=this.responder)===null||E===void 0||E.insertString(i.string),this.requestRender(),(H=this.delegate)===null||H===void 0||H.inputControllerDidPaste(i)}else if(u){var U,Mt,Fe;i.type="text/html",i.html=u,(U=this.delegate)===null||U===void 0||U.inputControllerWillPaste(i),(Mt=this.responder)===null||Mt===void 0||Mt.insertHTML(i.html),this.requestRender(),(Fe=this.delegate)===null||Fe===void 0||Fe.inputControllerDidPaste(i)}else if(Array.from(t.types).includes("Files")){var Ht,Ae;const bt=(Ht=t.items)===null||Ht===void 0||(Ht=Ht[0])===null||Ht===void 0||(Ae=Ht.getAsFile)===null||Ae===void 0?void 0:Ae.call(Ht);if(bt){var ie,pt,Ie;const re=Ep(bt);!bt.name&&re&&(bt.name="pasted-file-".concat(++Op,".").concat(re)),i.type="File",i.file=bt,(ie=this.delegate)===null||ie===void 0||ie.inputControllerWillAttachFiles(),(pt=this.responder)===null||pt===void 0||pt.insertFile(i.file),this.requestRender(),(Ie=this.delegate)===null||Ie===void 0||Ie.inputControllerDidPaste(i)}}r.preventDefault()},compositionstart(r){return this.getCompositionInput().start(r.data)},compositionupdate(r){return this.getCompositionInput().update(r.data)},compositionend(r){return this.getCompositionInput().end(r.data)},beforeinput(r){this.inputSummary.didInput=!0},input(r){return this.inputSummary.didInput=!0,r.stopPropagation()}}),Lt(he,"keys",{backspace(r){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",r)},delete(r){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",r)},return(r){var t,i;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0?void 0:i.insertLineBreak()},tab(r){var t,i;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((i=this.responder)===null||i===void 0||i.increaseNestingLevel(),this.requestRender(),r.preventDefault())},left(r){var t;if(this.selectionIsInCursorTarget())return r.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(r){var t;if(this.selectionIsInCursorTarget())return r.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(r){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",r)},h(r){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",r)},o(r){var t,i;return r.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(r){var t,i;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(`
`),this.requestRender(),r.preventDefault()},tab(r){var t,i;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((i=this.responder)===null||i===void 0||i.decreaseNestingLevel(),this.requestRender(),r.preventDefault())},left(r){if(this.selectionIsInCursorTarget())return r.preventDefault(),this.expandSelectionInDirection("backward")},right(r){if(this.selectionIsInCursorTarget())return r.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(r){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(r){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),he.proxyMethod("responder?.getSelectedRange"),he.proxyMethod("responder?.setSelectedRange"),he.proxyMethod("responder?.expandSelectionInDirection"),he.proxyMethod("responder?.selectionIsInCursorTarget"),he.proxyMethod("responder?.selectionIsExpanded");const Ep=r=>{var t;return(t=r.type)===null||t===void 0||(t=t.match(/\/(\w+)$/))===null||t===void 0?void 0:t[1]},Fp=!((da=" ".codePointAt)===null||da===void 0||!da.call(" ",0)),Ip=function(r){if(r.key&&Fp&&r.key.codePointAt(0)===r.keyCode)return r.key;{let t;if(r.which===null?t=r.keyCode:r.which!==0&&r.charCode!==0&&(t=r.charCode),t!=null&&_u[t]!=="escape")return li.fromCodepoints([t]).toString()}},Np=function(r){const t=r.clipboardData;if(t){if(t.types.includes("text/html")){for(const i of t.types){const s=/^CorePasteboardFlavorType/.test(i),u=/^dyn\./.test(i)&&t.getData(i);if(s||u)return!0}return!1}{const i=t.types.includes("com.apple.webarchive"),s=t.types.includes("com.apple.flat-rtfd");return i||s}}};class De extends dt{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var i,s;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((s=this.responder)===null||s===void 0||s.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(i=this.responder)===null||i===void 0?void 0:i.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const i=this.selectPlaceholder();i&&(this.forgetPlaceholder(),this.range=i)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),(s=this.responder)===null||s===void 0||s.setSelectedRange(this.range),(u=this.responder)===null||u===void 0||u.insertString(this.data.end),(g=this.responder)===null||g===void 0?void 0:g.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var i,s,u,g}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!Pp.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,i;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((i=this.data.end)===null||i===void 0?void 0:i.length)>0&&this.range}}De.proxyMethod("inputController.setInputSummary"),De.proxyMethod("inputController.requestRender"),De.proxyMethod("inputController.requestReparse"),De.proxyMethod("responder?.selectionIsExpanded"),De.proxyMethod("responder?.insertPlaceholder"),De.proxyMethod("responder?.selectPlaceholder"),De.proxyMethod("responder?.forgetPlaceholder");class ni extends ur{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(t):void 0:this.reparse();var t,i}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,i;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(i=this.delegate)===null||i===void 0||i.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var u;return(u=this.responder)===null||u===void 0?void 0:u.insertString(i,s)})}toggleAttributeIfSupported(t){var i;if(_a().includes(t))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,i){var s;if(_a().includes(t))return(s=this.delegate)===null||s===void 0||s.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var u;return(u=this.responder)===null||u===void 0?void 0:u.setCurrentAttribute(t,i)})}deleteInDirection(t){let{recordUndoEntry:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var s;i&&((s=this.delegate)===null||s===void 0||s.inputControllerWillPerformTyping());const u=()=>{var b;return(b=this.responder)===null||b===void 0?void 0:b.deleteInDirection(t)},g=this.getTargetDOMRange({minLength:2});return g?this.withTargetDOMRange(g,u):u()}withTargetDOMRange(t,i){var s;return typeof t=="function"&&(i=t,t=this.getTargetDOMRange()),t?(s=this.responder)===null||s===void 0?void 0:s.withTargetDOMRange(t,i.bind(this)):(rn.reset(),i.call(this))}getTargetDOMRange(){var t,i;let{minLength:s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const u=(t=(i=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(i);if(u&&u.length){const g=Bp(u[0]);if(s===0||g.toString().length>=s)return g}}withEvent(t,i){let s;this.event=t;try{s=i.call(this)}finally{this.event=null}return s}}Lt(ni,"events",{keydown(r){if(Zl(r)){var t;const i=jp(r);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(i)&&r.preventDefault()}else{let i=r.key;r.altKey&&(i+="+Alt"),r.shiftKey&&(i+="+Shift");const s=this.constructor.keys[i];if(s)return this.withEvent(r,s)}},paste(r){var t;let i;const s=(t=r.clipboardData)===null||t===void 0?void 0:t.getData("URL");return Wp(r)?(r.preventDefault(),this.attachFiles(r.clipboardData.files)):zp(r)?(r.preventDefault(),i={type:"text/plain",string:r.clipboardData.getData("text/plain")},(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(i),(g=this.responder)===null||g===void 0||g.insertString(i.string),this.render(),(b=this.delegate)===null||b===void 0?void 0:b.inputControllerDidPaste(i)):s?(r.preventDefault(),i={type:"text/html",html:this.createLinkHTML(s)},(k=this.delegate)===null||k===void 0||k.inputControllerWillPaste(i),(C=this.responder)===null||C===void 0||C.insertHTML(i.html),this.render(),(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(i)):void 0;var u,g,b,k,C,D},beforeinput(r){const t=this.constructor.inputTypes[r.inputType];t&&(this.withEvent(r,t),this.scheduleRender())},input(r){rn.reset()},dragstart(r){var t,i;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(r.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(i=this.responder)===null||i===void 0?void 0:i.getSelectedRange(),point:fa(r)})},dragenter(r){ha(r)&&r.preventDefault()},dragover(r){if(this.dragging){r.preventDefault();const i=fa(r);var t;if(!Rn(i,this.dragging.point))return this.dragging.point=i,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(i)}else ha(r)&&r.preventDefault()},drop(r){var t,i;if(this.dragging)return r.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(i=this.responder)===null||i===void 0||i.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(ha(r)){var s;r.preventDefault();const u=fa(r);return(s=this.responder)===null||s===void 0||s.setLocationRangeFromPointRange(u),this.attachFiles(r.dataTransfer.files)}},dragend(){var r;this.dragging&&((r=this.responder)===null||r===void 0||r.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(r){this.composing&&(this.composing=!1,gi.recentAndroid||this.scheduleRender())}}),Lt(ni,"keys",{ArrowLeft(){var r,t;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var r,t;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var r,t,i;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.deleteInDirection("backward"),this.render()},Tab(){var r,t;if((r=this.responder)!==null&&r!==void 0&&r.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var r,t;if((r=this.responder)!==null&&r!==void 0&&r.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),Lt(ni,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var r;this.deleteByDragRange=(r=this.responder)===null||r===void 0?void 0:r.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var r;if((r=this.responder)!==null&&r!==void 0&&r.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var r;if((r=this.responder)!==null&&r!==void 0&&r.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const i in(r=this.responder)===null||r===void 0?void 0:r.getCurrentAttributes()){var r,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(i)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var r;return(r=this.delegate)===null||r===void 0?void 0:r.inputControllerWillPerformRedo()},historyUndo(){var r;return(r=this.delegate)===null||r===void 0?void 0:r.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const r=this.deleteByDragRange;var t;if(r)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.moveTextFromRange(r)})},insertFromPaste(){var r;const{dataTransfer:t}=this.event,i={dataTransfer:t},s=t.getData("URL"),u=t.getData("text/html");if(s){var g;let D;this.event.preventDefault(),i.type="text/html";const E=t.getData("public.url-name");D=E?lo(E).trim():s,i.html=this.createLinkHTML(s,D),(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var H;return(H=this.responder)===null||H===void 0?void 0:H.insertHTML(i.html)}),this.afterRender=()=>{var H;return(H=this.delegate)===null||H===void 0?void 0:H.inputControllerDidPaste(i)}}else if(Jl(t)){var b;i.type="text/plain",i.string=t.getData("text/plain"),(b=this.delegate)===null||b===void 0||b.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var D;return(D=this.responder)===null||D===void 0?void 0:D.insertString(i.string)}),this.afterRender=()=>{var D;return(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(i)}}else if(u){var k;this.event.preventDefault(),i.type="text/html",i.html=u,(k=this.delegate)===null||k===void 0||k.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var D;return(D=this.responder)===null||D===void 0?void 0:D.insertHTML(i.html)}),this.afterRender=()=>{var D;return(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(i)}}else if((r=t.files)!==null&&r!==void 0&&r.length){var C;i.type="File",i.file=t.files[0],(C=this.delegate)===null||C===void 0||C.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var D;return(D=this.responder)===null||D===void 0?void 0:D.insertFile(i.file)}),this.afterRender=()=>{var D;return(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(i)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var r;return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){const r=this.event.dataTransfer.getData("text/plain"),t=this.event.getTargetRanges()[0];this.withTargetDOMRange(t,()=>{this.insertString(r,{updatePosition:!1})})},insertText(){var r;return this.insertString(this.event.data||((r=this.event.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const Bp=function(r){const t=document.createRange();return t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),t},ha=r=>{var t;return Array.from(((t=r.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},Wp=function(r){const t=r.clipboardData;if(t)return t.types.includes("Files")&&t.types.length===1&&t.files.length>=1},zp=function(r){const t=r.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},jp=function(r){const t=[];return r.altKey&&t.push("alt"),r.shiftKey&&t.push("shift"),t.push(r.key),t},fa=r=>({x:r.clientX,y:r.clientY}),Ra="[data-trix-attribute]",La="[data-trix-action]",Hp="".concat(Ra,", ").concat(La),cr="[data-trix-dialog]",Yp="".concat(cr,"[data-trix-active]"),Vp="".concat(cr," [data-trix-method]"),$s="".concat(cr," [data-trix-input]"),Ks=(r,t)=>(t||(t=yn(r)),r.querySelector("[data-trix-input][name='".concat(t,"']"))),Js=r=>r.getAttribute("data-trix-action"),yn=r=>r.getAttribute("data-trix-attribute")||r.getAttribute("data-trix-dialog-attribute");class Su extends dt{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),ot("mousedown",{onElement:this.element,matchingSelector:La,withCallback:this.didClickActionButton}),ot("mousedown",{onElement:this.element,matchingSelector:Ra,withCallback:this.didClickAttributeButton}),ot("click",{onElement:this.element,matchingSelector:Hp,preventDefault:!0}),ot("click",{onElement:this.element,matchingSelector:Vp,withCallback:this.didClickDialogButton}),ot("keydown",{onElement:this.element,matchingSelector:$s,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,i){var s;(s=this.delegate)===null||s===void 0||s.toolbarDidClickButton(),t.preventDefault();const u=Js(i);return this.getDialog(u)?this.toggleDialog(u):(g=this.delegate)===null||g===void 0?void 0:g.toolbarDidInvokeAction(u,i);var g}didClickAttributeButton(t,i){var s;(s=this.delegate)===null||s===void 0||s.toolbarDidClickButton(),t.preventDefault();const u=yn(i);var g;return this.getDialog(u)?this.toggleDialog(u):(g=this.delegate)===null||g===void 0||g.toolbarDidToggleAttribute(u),this.refreshAttributeButtons()}didClickDialogButton(t,i){const s=Oe(i,{matchingSelector:cr});return this[i.getAttribute("data-trix-method")].call(this,s)}didKeyDownDialogInput(t,i){if(t.keyCode===13){t.preventDefault();const s=i.getAttribute("name"),u=this.getDialog(s);this.setAttribute(u)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,i)=>{t.disabled=this.actions[i]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll(La)).map(i=>t(i,Js(i)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,i)=>(t.disabled=this.attributes[i]===!1,this.attributes[i]||this.dialogIsVisible(i)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(Ra)).map(i=>t(i,yn(i)))}applyKeyboardCommand(t){const i=JSON.stringify(t.sort());for(const s of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const u=s.getAttribute("data-trix-key").split("+");if(JSON.stringify(u.sort())===i)return Xn("mousedown",{onElement:s}),!0}return!1}dialogIsVisible(t){const i=this.getDialog(t);if(i)return i.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var i,s;this.hideDialog(),(i=this.delegate)===null||i===void 0||i.toolbarWillShowDialog();const u=this.getDialog(t);u.setAttribute("data-trix-active",""),u.classList.add("trix-active"),Array.from(u.querySelectorAll("input[disabled]")).forEach(b=>{b.removeAttribute("disabled")});const g=yn(u);if(g){const b=Ks(u,t);b&&(b.value=this.attributes[g]||"",b.select())}return(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidShowDialog(t)}setAttribute(t){const i=yn(t),s=Ks(t,i);return s.willValidate&&!s.checkValidity()?(s.setAttribute("data-trix-validate",""),s.classList.add("trix-validate"),s.focus()):((u=this.delegate)===null||u===void 0||u.toolbarDidUpdateAttribute(i,s.value),this.hideDialog());var u}removeAttribute(t){var i;const s=yn(t);return(i=this.delegate)===null||i===void 0||i.toolbarDidRemoveAttribute(s),this.hideDialog()}hideDialog(){const t=this.element.querySelector(Yp);var i;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidHideDialog((s=>s.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll($s)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class ii extends xu{constructor(t){let{editorElement:i,document:s,html:u}=t;super(...arguments),this.editorElement=i,this.selectionManager=new Ke(this.editorElement),this.selectionManager.delegate=this,this.composition=new Me,this.composition.delegate=this,this.attachmentManager=new uu(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=ro.getLevel()===2?new ni(this.editorElement):new he(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new yu(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Su(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new fu(this.composition,this.selectionManager,this.editorElement),s?this.editor.loadDocument(s):this.editor.loadHTML(u)}registerSelectionManager(){return rn.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return rn.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const i=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:i})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const i=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:i}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const i=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:i})}compositionDidStartEditingAttachment(t,i){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,i),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,i){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,i)}compositionControllerDidRequestDeselectingAttachment(t){const i=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(i[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Gi(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,i){return this.invokeAction(t,i)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,i){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,i),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((i=this.actions[t])===null||i===void 0||(i=i.test)===null||i===void 0||!i.call(this));var i}invokeAction(t,i){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:i}):(s=this.actions[t])===null||s===void 0||(s=s.perform)===null||s===void 0?void 0:s.call(this);var s}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const i in this.actions)t[i]=this.canInvokeAction(i);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Rn(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(u=>{const{document:g,selectedRange:b}=t;t=u.call(this.editor,t)||{},t.document||(t.document=g),t.selectedRange||(t.selectedRange=b)}),i=t,s=this.composition.getSnapshot(),!Gi(i.selectedRange,s.selectedRange)||!i.document.isEqualTo(s.document))return this.composition.loadSnapshot(t);var i,s}updateInputElement(){const t=function(i,s){const u=yp[s];if(u)return u(i);throw new Error("unknown content type: ".concat(s))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyEditorElement(t,i){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,i)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const i=ut(t),s=this.selectionManager.getLocationRange();if(i||!me(s))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return[this.getLocationContext(),this.getTimeContext(),...Array.from(i)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return me(t)?t[0].index:t}getTimeContext(){return Aa.interval>0?Math.floor(new Date().getTime()/Aa.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Lt(ii,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return ro.pickFiles(this.editor.insertFiles)}}}),ii.proxyMethod("getSelectionManager().setLocationRange"),ii.proxyMethod("getSelectionManager().getLocationRange");var Up=Object.freeze({__proto__:null,AttachmentEditorController:bu,CompositionController:yu,Controller:xu,EditorController:ii,InputController:ur,Level0InputController:he,Level2InputController:ni,ToolbarController:Su}),qp=Object.freeze({__proto__:null,MutationObserver:ku,SelectionChangeObserver:Ql}),Gp=Object.freeze({__proto__:null,FileVerificationOperation:wu,ImagePreloadOperation:ou});Kl("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class Cu extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=$l.getDefaultHTML())}}let $p=0;const Kp=function(r){if(!r.hasAttribute("contenteditable"))return r.setAttribute("contenteditable",""),function(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.times=1,ot(t,i)}("focus",{onElement:r,withCallback:()=>Jp(r)})},Jp=function(r){return Zp(r),Xp()},Zp=function(r){var t,i;if((t=(i=document).queryCommandSupported)!==null&&t!==void 0&&t.call(i,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),ot("mscontrolselect",{onElement:r,preventDefault:!0})},Xp=function(r){var t,i;if((t=(i=document).queryCommandSupported)!==null&&t!==void 0&&t.call(i,"DefaultParagraphSeparator")){const{tagName:s}=At.default;if(["div","p"].includes(s))return document.execCommand("DefaultParagraphSeparator",!1,s)}},Zs=gi.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};Kl("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Qe,` figcaption textarea {
    resize: none;
}

%t `).concat(Qe,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Qe,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Zs.display,` !important;
    width: `).concat(Zs.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));class Du extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++$p),this.trixId)}get labels(){const t=[];this.id&&this.ownerDocument&&t.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));const i=Oe(this,{matchingSelector:"label"});return i&&[this,null].includes(i.control)&&t.push(i),t}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const i="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",i);const s=Y("trix-toolbar",{id:i});return this.parentNode.insertBefore(s,this),s}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const i="trix-input-".concat(this.trixId);this.setAttribute("input",i);const s=Y("input",{type:"hidden",id:i});return this.parentNode.insertBefore(s,this.nextElementSibling),s}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var i;this.defaultValue=t,(i=this.editor)===null||i===void 0||i.loadHTML(this.defaultValue)}notify(t,i){if(this.editorController)return Xn("trix-".concat(t),{onElement:this,attributes:i})}setInputElementValue(t){this.inputElement&&(this.inputElement.value=t)}connectedCallback(){this.hasAttribute("data-trix-internal")||(Kp(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const i=function(){const s=Array.from(t.labels).map(g=>{if(!g.contains(t))return g.textContent}).filter(g=>g),u=s.join(" ");return u?t.setAttribute("aria-label",u):t.removeAttribute("aria-label")};i(),ot("focus",{onElement:t,withCallback:i})}(this),this.editorController||(Xn("trix-before-initialize",{onElement:this}),this.editorController=new ii({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>Xn("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;return(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(t){if(!t.defaultPrevented&&t.target===this.form)return this.reset()}clickBubbled(t){if(t.defaultPrevented||this.contains(t.target))return;const i=Oe(t.target,{matchingSelector:"label"});return i&&Array.from(this.labels).includes(i)?this.focus():void 0}reset(){this.value=this.defaultValue}}const Pa={VERSION:Dv,config:mi,core:xp,models:pu,views:Sp,controllers:Up,observers:qp,operations:Gp,elements:Object.freeze({__proto__:null,TrixEditorElement:Du,TrixToolbarElement:Cu}),filters:Object.freeze({__proto__:null,Filter:du,attachmentGalleryFilter:hu})};Object.assign(Pa,pu),window.Trix=Pa,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Cu),customElements.get("trix-editor")||customElements.define("trix-editor",Du)},0);window.addEventListener("DOMContentLoaded",r=>{var t=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));t.map(function(b){return new bootstrap.Tooltip(b)});var i=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));i.map(function(b){return new bootstrap.Popover(b)}),document.body.querySelector("#stickyNav")&&new bootstrap.ScrollSpy(document.body,{target:"#stickyNav",offset:82});const u=document.body.querySelector("#sidebarToggle");u&&u.addEventListener("click",b=>{b.preventDefault(),document.body.classList.toggle("sidenav-toggled"),localStorage.setItem("sb|sidebar-toggle",document.body.classList.contains("sidenav-toggled"))});const g=document.body.querySelector("#layoutSidenav_content");g&&g.addEventListener("click",b=>{window.innerWidth>=992||document.body.classList.contains("sidenav-toggled")&&document.body.classList.toggle("sidenav-toggled")})});const Qp={props:{theme:{type:String,required:!0,default:"auto"}},data(){return{storage_key:"bs_theme",icons:{light:"fas fa-fw fa-sun",dark:"fas fa-fw fa-moon",auto:"fas fa-fw fa-circle-half-stroke"},active:"auto"}},mounted(){this.active=this.theme,this.setStoredTheme(this.theme),this.changeHtmlTheme(this.theme),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const r=this.getStoredTheme();r!=="light"&&r!=="dark"&&this.changeHtmlTheme(this.getPreferredTheme())})},methods:{getPreferredTheme(){return this.getStoredTheme()??this.theme??"auto"},getStoredTheme(){return localStorage.getItem(this.storage_key)},setStoredTheme(r){localStorage.setItem(this.storage_key,r)},changeHtmlTheme(r){r==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",r)},changedTheme(r){this.setStoredTheme(r),this.changeHtmlTheme(r),this.active=r,axios.put("/api/admin/theme",{theme:r})}}},t0={class:"nav-item dropdown me-3"},e0={class:"btn btn-link nav-link dropdown-toggle d-flex align-items-center",id:"bd-theme","data-bs-theme":"switcher",type:"button","aria-expanded":"false","data-bs-toggle":"dropdown"},n0={class:"dropdown-menu dropdown-menu-end"},i0=["aria-pressed"],r0=["aria-pressed"],a0=["aria-pressed"];function o0(r,t,i,s,u,g){return Ah(),xh("div",t0,[Nt("button",e0,[Nt("i",{class:qe(u.icons[u.active])},null,2)]),Nt("ul",n0,[Nt("li",null,[Nt("button",{type:"button",class:qe("dropdown-item d-flex align-items-center "+(u.active==="light"?"active":"")),"data-bs-theme-value":"light","aria-pressed":u.active==="light"?"true":"false",onClick:t[0]||(t[0]=b=>g.changedTheme("light"))},[Nt("i",{class:qe(u.icons.light+" me-2")},null,2),Ur(" Light ")],10,i0)]),Nt("li",null,[Nt("button",{type:"button",class:qe("dropdown-item d-flex align-items-center "+(u.active==="dark"?"active":"")),"data-bs-theme-value":"dark","aria-pressed":u.active==="dark"?"true":"false",onClick:t[1]||(t[1]=b=>g.changedTheme("dark"))},[Nt("i",{class:qe(u.icons.dark+" me-2")},null,2),Ur(" Dark ")],10,r0)]),Nt("li",null,[Nt("button",{type:"button",class:qe("dropdown-item d-flex align-items-center "+(u.active==="auto"?"active":"")),"data-bs-theme-value":"auto","aria-pressed":u.active==="auto"?"true":"false",onClick:t[2]||(t[2]=b=>g.changedTheme("auto"))},[Nt("i",{class:qe(u.icons.auto+" me-2")},null,2),Ur(" Auto ")],10,a0)])])])}const s0=kh(Qp,[["render",o0]]);window.trix=Pa;let Xs=document.head.querySelector('meta[name="api-token"]');Xs&&(window.axios.defaults.headers.common.Authorization="Bearer "+Xs.content);const Mu=vueApp({});Mu.component("bs-theme-admin",s0);Mu.mount("#app")});export default l0();
