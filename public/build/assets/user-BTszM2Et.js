import{c as m,a as t,n as a,b as i,o as c}from"./vendor-DLhIyxZC.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const u={props:{theme:{type:String,required:!0,default:"auto"}},data(){return{storage_key:"bs_theme",icons:{light:"fas fa-fw fa-sun",dark:"fas fa-fw fa-moon",auto:"fas fa-fw fa-circle-half-stroke"},active:"auto"}},mounted(){this.active=this.theme,this.setStoredTheme(this.theme),this.changeHtmlTheme(this.theme),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const e=this.getStoredTheme();e!=="light"&&e!=="dark"&&this.changeHtmlTheme(this.getPreferredTheme())})},methods:{getPreferredTheme(){return this.getStoredTheme()??this.theme??"auto"},getStoredTheme(){return localStorage.getItem(this.storage_key)},setStoredTheme(e){localStorage.setItem(this.storage_key,e)},changeHtmlTheme(e){e==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",e)},changedTheme(e){this.setStoredTheme(e),this.changeHtmlTheme(e),this.active=e,axios.put("/api/user/theme",{theme:e})}}},p={class:"nav-item dropdown me-3"},g={class:"btn btn-link nav-link dropdown-toggle d-flex align-items-center",id:"bd-theme","data-bs-theme":"switcher",type:"button","aria-expanded":"false","data-bs-toggle":"dropdown"},f={class:"dropdown-menu dropdown-menu-end"},k=["aria-pressed"],v=["aria-pressed"],b=["aria-pressed"];function T(e,o,_,x,s,n){return c(),m("div",p,[t("button",g,[t("i",{class:a(s.icons[s.active])},null,2)]),t("ul",f,[t("li",null,[t("button",{type:"button",class:a("dropdown-item d-flex align-items-center "+(s.active==="light"?"active":"")),"data-bs-theme-value":"light","aria-pressed":s.active==="light"?"true":"false",onClick:o[0]||(o[0]=r=>n.changedTheme("light"))},[t("i",{class:a(s.icons.light+" me-2")},null,2),i(" Light ")],10,k)]),t("li",null,[t("button",{type:"button",class:a("dropdown-item d-flex align-items-center "+(s.active==="dark"?"active":"")),"data-bs-theme-value":"dark","aria-pressed":s.active==="dark"?"true":"false",onClick:o[1]||(o[1]=r=>n.changedTheme("dark"))},[t("i",{class:a(s.icons.dark+" me-2")},null,2),i(" Dark ")],10,v)]),t("li",null,[t("button",{type:"button",class:a("dropdown-item d-flex align-items-center "+(s.active==="auto"?"active":"")),"data-bs-theme-value":"auto","aria-pressed":s.active==="auto"?"true":"false",onClick:o[2]||(o[2]=r=>n.changedTheme("auto"))},[t("i",{class:a(s.icons.auto+" me-2")},null,2),i(" Auto ")],10,b)])])])}const w=h(u,[["render",T]]);let d=document.head.querySelector('meta[name="api-token"]');d&&(window.axios.defaults.headers.common.Authorization="Bearer "+d.content);const l=vueApp({});l.component("bs-theme-user",w);l.mount("#app");
